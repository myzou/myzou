<!DOCTYPE html><!--[if IE]>  <html class="ie"> <![endif]-->
<html>
	<head>
		<meta charset="utf-8" />
		<title>
		</title>
		<link rel="stylesheet" type="text/css" href="080809293635_files/style.css" />
	</head>
	<body>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_03.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_03.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_04.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_04.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:3.2821em; left:21.55em;"><span class="stl_07 stl_08 stl_09" style="word-spacing:0.2054em;">前 言 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1736em; left:6.0438em;"><span class="stl_10 stl_08 stl_09">《</span></div>
					<div class="stl_01" style="top:7.1736em; left:7.0438em;"><span class="stl_11 stl_08 stl_12" style="word-spacing:-0.0327em;">Java </span><span class="stl_10 stl_08 stl_12" style="word-spacing:-0.0327em;">开发手册》是阿里巴巴集团技术团队的集体智慧结晶和经验总结，经历了多次大规模 &nbsp;</span></div>
					<div class="stl_01" style="top:9.5069em; left:3.5438em;"><span class="stl_10 stl_08 stl_13">一线实战的检验及不断完善，公开到业界后，众多社区开发者踊跃参与，共同打磨完善，系统化地 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8419em; left:3.5438em;"><span class="stl_10 stl_08 stl_13">整理成册。现代软件行业的高速发展对开发者的综合素质要求越来越高，因为不仅是编程知识点， &nbsp;</span></div>
					<div class="stl_01" style="top:14.1752em; left:3.5438em;"><span class="stl_10 stl_08 stl_13">其它维度的知识点也会影响到软件的最终交付质量。比如：数据库的表结构和索引设计缺陷可能带 &nbsp;</span></div>
					<div class="stl_01" style="top:16.5086em; left:3.5438em;"><span class="stl_10 stl_08 stl_13">来软件上的架构缺陷或性能风险；工程结构混乱导致后续维护艰难；没有鉴权的漏洞代码易被黑客 &nbsp;</span></div>
					<div class="stl_01" style="top:18.8444em; left:3.5438em;"><span class="stl_10 stl_08 stl_09" style="word-spacing:-0.0391em;">攻击等等。所以本手册以 </span><span class="stl_11 stl_08 stl_09" style="word-spacing:-0.0391em;">Java </span><span class="stl_10 stl_08 stl_09" style="word-spacing:-0.0391em;">开发者为中心视角，划分为</span><span class="stl_14 stl_08 stl_09" style="font-weight:bold; word-spacing:-0.0391em;">编程规约、异常日志、单元测试、安全规 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1777em; left:3.5438em;"><span class="stl_14 stl_08 stl_15" style="font-weight:bold; word-spacing:-0.0037em;">约、</span><span class="stl_16 stl_08 stl_15" style="font-weight:bold; word-spacing:-0.0037em;">MySQL </span><span class="stl_14 stl_08 stl_15" style="font-weight:bold; word-spacing:-0.0037em;">数据库、工程结构、设计规约</span><span class="stl_10 stl_08 stl_15" style="word-spacing:-0.0037em;">七个维度，再根据内容特征，细分成若干二级子目录。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.5111em; left:3.5438em;"><span class="stl_10 stl_08 stl_13">另外，依据约束力强弱及故障敏感性，规约依次分为强制、推荐、参考三大类。在延伸信息中， &nbsp;</span></div>
					<div class="stl_01" style="top:25.8461em; left:3.5438em;"><span class="stl_10 stl_08 stl_09">“</span></div>
					<div class="stl_01" style="top:25.8461em; left:4.5438em;"><span class="stl_17 stl_08 stl_13">说明</span><span class="stl_10 stl_08 stl_13">”对规约做了适当扩展和解释；“</span><span class="stl_18 stl_08 stl_13">正例</span><span class="stl_10 stl_08 stl_13">”提倡什么样的编码和实现方式；“</span><span class="stl_19 stl_08 stl_13">反例</span><span class="stl_10 stl_08 stl_13">”说明需要 &nbsp;</span></div>
					<div class="stl_01" style="top:28.1794em; left:3.5438em;"><span class="stl_10 stl_08 stl_13">提防的雷区，以及真实的错误案例。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3894em; left:5.8771em;"><span class="stl_10 stl_08 stl_13">手册的愿景是</span><span class="stl_14 stl_08 stl_13" style="font-weight:bold;">码出高效，码出质量</span><span class="stl_10 stl_08 stl_13">。现代软件架构的复杂性需要协同开发完成，如何高效地协 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7227em; left:3.5438em;"><span class="stl_10 stl_08 stl_13">同呢？无规矩不成方圆，无规范难以协同，比如，制订交通法规表面上是要限制行车权，实际上是 &nbsp;</span></div>
					<div class="stl_01" style="top:36.0561em; left:3.5438em;"><span class="stl_10 stl_08 stl_20">保障公众的人身安全，试想如果没有限速，没有红绿灯，谁还敢上路行驶？对软件来说，适当的规 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3919em; left:3.5438em;"><span class="stl_10 stl_08 stl_09">范和标准绝不是消灭代码内容的创造性、优雅性，而是限制过度个性化，以一种普遍认可的统一方 &nbsp;</span></div>
					<div class="stl_01" style="top:40.7252em; left:3.5438em;"><span class="stl_10 stl_08 stl_13">式一起做事，提升协作效率，降低沟通成本。代码的字里行间流淌的是软件系统的血液，质量的提 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0586em; left:3.5438em;"><span class="stl_10 stl_08 stl_13">升是尽可能少踩坑，杜绝踩重复的坑，切实提升系统稳定性，码出质量。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2894em; left:5.8979em;"><span class="stl_10 stl_08 stl_20" style="word-spacing:-0.042em;">我们已经在 </span><span class="stl_11 stl_08 stl_20" style="word-spacing:-0.042em;">2017 </span><span class="stl_10 stl_08 stl_20" style="word-spacing:-0.042em;">杭州云栖大会上发布了配套的 </span><a href="https://github.com/alibaba/p3c" target="_blank"><span class="stl_21 stl_08 stl_20" style="word-spacing:-0.042em;">Java </span></a><a href="https://github.com/alibaba/p3c" target="_blank"><span class="stl_22 stl_08 stl_20" style="word-spacing:-0.042em;">开发规约 </span></a><a href="https://github.com/alibaba/p3c" target="_blank"><span class="stl_21 stl_08 stl_20" style="word-spacing:-0.042em;">IDE </span></a><a href="https://github.com/alibaba/p3c" target="_blank"><span class="stl_22 stl_08 stl_20" style="word-spacing:-0.042em;">插件</span></a><a href="https://github.com/alibaba/p3c" target="_blank"><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.042em;">，</span></a><span class="stl_10 stl_08 stl_20" style="word-spacing:-0.042em;">阿里云效也集成了 &nbsp;</span></div>
					<div class="stl_01" style="top:48.6236em; left:3.5438em;"><span class="stl_10 stl_08 stl_24" style="word-spacing:-0.0471em;">代码规约扫描引擎。次年，发布 </span><span class="stl_11 stl_08 stl_24" style="word-spacing:-0.0471em;">36 </span><span class="stl_10 stl_08 stl_24" style="word-spacing:-0.0471em;">万字的配套详解图书</span><span class="stl_25 stl_08 stl_24" style="font-weight:bold; word-spacing:-0.0471em;">《码出高效》</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0471em;">，本书秉持“图胜于表，表胜 &nbsp;</span></div>
					<div class="stl_01" style="top:50.9561em; left:3.5438em;"><span class="stl_23 stl_08 stl_26" style="word-spacing:0.2133em;">于言”的理念，深入浅出地将计算机基础、 面向对象思想、</span><span class="stl_27 stl_08 stl_26" style="word-spacing:0.2133em;">JVM</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0429em;"> 探源、数据结构与集合、并发与 &nbsp;</span></div>
					<div class="stl_01" style="top:53.2919em; left:3.5438em;"><span class="stl_23 stl_08 stl_09">多线程、单元测试等知识客观、立体地呈现出来。紧扣学以致用、学以精进的目标，结合阿里巴巴 &nbsp;</span></div>
					<div class="stl_01" style="top:55.6252em; left:3.5438em;"><span class="stl_23 stl_08 stl_24">实践经验和故障案例，与底层源码解析融会贯通，娓娓道来。此书所得收入均捐赠公益事情，希望 &nbsp;</span></div>
					<div class="stl_01" style="top:57.9586em; left:3.5438em;"><span class="stl_23 stl_08 stl_09">用技术情怀帮助更多的人。 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_05.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_05.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:4.2821em; left:23.3858em;"><span class="stl_28 stl_08 stl_09">目录 &nbsp;</span></div>
					<div class="stl_01" style="top:7.5902em; left:3.5438em;"><span class="stl_10 stl_08 stl_09">前言 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3611em; left:3.5438em;"><span class="stl_10 stl_08 stl_29" style="word-spacing:-0.1047em;">一、编程规约 </span><span class="stl_11 stl_08 stl_29" style="word-spacing:-0.1047em;">...................................................................................................................................................1 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1127em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">一</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:12.8836em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">二</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:14.6544em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">三</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:16.4044em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">四</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:18.1777em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">五</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:19.9277em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">六</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:21.6986em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">七</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:23.4694em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">八</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:25.2211em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">九</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:11.1127em; left:8.7958em;"><span class="stl_10 stl_08 stl_31" style="word-spacing:-0.1046em;">命名风格 </span><span class="stl_11 stl_08 stl_31" style="word-spacing:-0.1046em;">......................................................................................................................................1 &nbsp;</span></div>
					<div class="stl_01" style="top:12.8836em; left:8.7958em;"><span class="stl_10 stl_08 stl_31" style="word-spacing:-0.1046em;">常量定义 </span><span class="stl_11 stl_08 stl_31" style="word-spacing:-0.1046em;">......................................................................................................................................4 &nbsp;</span></div>
					<div class="stl_01" style="top:14.6544em; left:8.7958em;"><span class="stl_10 stl_08 stl_31" style="word-spacing:-0.1046em;">代码格式 </span><span class="stl_11 stl_08 stl_31" style="word-spacing:-0.1046em;">......................................................................................................................................5 &nbsp;</span></div>
					<div class="stl_01" style="top:16.4044em; left:8.7958em;"><span class="stl_11 stl_08 stl_32" style="word-spacing:-0.0784em;">OOP </span><span class="stl_10 stl_08 stl_32" style="word-spacing:-0.0784em;">规约 </span><span class="stl_11 stl_08 stl_32" style="word-spacing:-0.0784em;">....................................................................................................................................7 &nbsp;</span></div>
					<div class="stl_01" style="top:18.1777em; left:8.7958em;"><span class="stl_10 stl_08 stl_33" style="word-spacing:-0.1032em;">集合处理 </span><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.1032em;">....................................................................................................................................11 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9277em; left:8.7958em;"><span class="stl_10 stl_08 stl_33" style="word-spacing:-0.1032em;">并发处理 </span><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.1032em;">....................................................................................................................................14 &nbsp;</span></div>
					<div class="stl_01" style="top:21.6986em; left:8.7958em;"><span class="stl_10 stl_08 stl_33" style="word-spacing:-0.1032em;">控制语句 </span><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.1032em;">....................................................................................................................................18 &nbsp;</span></div>
					<div class="stl_01" style="top:23.4694em; left:8.7958em;"><span class="stl_10 stl_08 stl_33" style="word-spacing:-0.1032em;">注释规约 </span><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.1032em;">....................................................................................................................................21 &nbsp;</span></div>
					<div class="stl_01" style="top:25.2211em; left:8.7958em;"><span class="stl_10 stl_08 stl_34" style="word-spacing:-0.106em;">其它 </span><span class="stl_11 stl_08 stl_34" style="word-spacing:-0.106em;">............................................................................................................................................22 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9919em; left:3.5438em;"><span class="stl_10 stl_08 stl_35" style="word-spacing:-0.1034em;">二、异常日志 </span><span class="stl_11 stl_08 stl_35" style="word-spacing:-0.1034em;">.................................................................................................................................................24 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7419em; left:5.5438em;"><span class="stl_11 stl_08 stl_09">(</span></div>
					<div class="stl_01" style="top:28.7419em; left:5.8771em;"><span class="stl_10 stl_08 stl_09">一</span><span class="stl_11 stl_08 stl_09">) &nbsp;</span></div>
					<div class="stl_01" style="top:30.5127em; left:5.8771em;"><span class="stl_10 stl_08 stl_09">二</span><span class="stl_11 stl_08 stl_09">) &nbsp;</span></div>
					<div class="stl_01" style="top:28.7419em; left:8.7958em;"><span class="stl_10 stl_08 stl_33" style="word-spacing:-0.1032em;">异常处理 </span><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.1032em;">....................................................................................................................................24 &nbsp;</span></div>
					<div class="stl_01" style="top:30.5127em; left:8.7958em;"><span class="stl_10 stl_08 stl_33" style="word-spacing:-0.1032em;">日志规约 </span><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.1032em;">....................................................................................................................................26 &nbsp;</span></div>
					<div class="stl_01" style="top:30.5127em; left:5.5438em;"><span class="stl_11 stl_08 stl_09">(</span></div>
					<div class="stl_01" style="top:32.2852em; left:3.5438em;"><span class="stl_10 stl_08 stl_35" style="word-spacing:-0.1034em;">三、单元测试 </span><span class="stl_11 stl_08 stl_35" style="word-spacing:-0.1034em;">.................................................................................................................................................28 &nbsp;</span></div>
					<div class="stl_01" style="top:34.0352em; left:3.5438em;"><span class="stl_10 stl_08 stl_35" style="word-spacing:-0.1034em;">四、安全规约 </span><span class="stl_11 stl_08 stl_35" style="word-spacing:-0.1034em;">.................................................................................................................................................30 &nbsp;</span></div>
					<div class="stl_01" style="top:35.8061em; left:3.5438em;"><span class="stl_10 stl_08 stl_35" style="word-spacing:-0.0553em;">五、</span><span class="stl_11 stl_08 stl_35" style="word-spacing:-0.0553em;">MySQL </span><span class="stl_10 stl_08 stl_35" style="word-spacing:-0.0553em;">数据库</span><span class="stl_11 stl_08 stl_35" style="word-spacing:-0.0553em;">.......................................................................................................................................31 &nbsp;</span></div>
					<div class="stl_01" style="top:37.5561em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">一</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:39.3294em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">二</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:41.1002em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">三</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:42.8502em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">四</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:37.5561em; left:8.7958em;"><span class="stl_10 stl_08 stl_33" style="word-spacing:-0.1032em;">建表规约 </span><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.1032em;">....................................................................................................................................31 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3294em; left:8.7958em;"><span class="stl_10 stl_08 stl_33" style="word-spacing:-0.1032em;">索引规约 </span><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.1032em;">....................................................................................................................................32 &nbsp;</span></div>
					<div class="stl_01" style="top:41.1002em; left:8.7958em;"><span class="stl_11 stl_08 stl_36" style="word-spacing:-0.0581em;">SQL </span><span class="stl_10 stl_08 stl_36" style="word-spacing:-0.0581em;">语句</span><span class="stl_11 stl_08 stl_36" style="word-spacing:-0.0581em;">....................................................................................................................................34 &nbsp;</span></div>
					<div class="stl_01" style="top:42.8502em; left:8.7958em;"><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.0616em;">ORM </span><span class="stl_10 stl_08 stl_33" style="word-spacing:-0.0616em;">映射</span><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.0616em;">..................................................................................................................................35 &nbsp;</span></div>
					<div class="stl_01" style="top:44.6211em; left:3.5438em;"><span class="stl_10 stl_08 stl_35" style="word-spacing:-0.1034em;">六、工程结构 </span><span class="stl_11 stl_08 stl_35" style="word-spacing:-0.1034em;">.................................................................................................................................................37 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3727em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">一</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:48.1436em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">二</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:49.9144em; left:5.5438em;"><span class="stl_11 stl_08 stl_30">(</span><span class="stl_10 stl_08 stl_30">三</span><span class="stl_11 stl_08 stl_30">) &nbsp;</span></div>
					<div class="stl_01" style="top:46.3727em; left:8.7958em;"><span class="stl_10 stl_08 stl_33" style="word-spacing:-0.1032em;">应用分层 </span><span class="stl_11 stl_08 stl_33" style="word-spacing:-0.1032em;">....................................................................................................................................37 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1436em; left:8.7958em;"><span class="stl_10 stl_08 stl_35" style="word-spacing:-0.1031em;">二方库依赖 </span><span class="stl_11 stl_08 stl_35" style="word-spacing:-0.1031em;">................................................................................................................................38 &nbsp;</span></div>
					<div class="stl_01" style="top:49.9144em; left:8.7958em;"><span class="stl_10 stl_08 stl_34" style="word-spacing:-0.1059em;">服务器 </span><span class="stl_11 stl_08 stl_34" style="word-spacing:-0.1059em;">........................................................................................................................................39 &nbsp;</span></div>
					<div class="stl_01" style="top:51.6652em; left:3.5438em;"><span class="stl_10 stl_08 stl_35" style="word-spacing:-0.1034em;">七、设计规约 </span><span class="stl_11 stl_08 stl_35" style="word-spacing:-0.1034em;">.................................................................................................................................................41 &nbsp;</span></div>
					<div class="stl_01" style="top:53.4377em; left:3.5438em;"><span class="stl_10 stl_08 stl_32" style="word-spacing:-0.0654em;">附 </span><span class="stl_11 stl_08 stl_32" style="word-spacing:-0.0654em;">1</span><span class="stl_10 stl_08 stl_32" style="word-spacing:-0.0654em;">：版本历史</span><span class="stl_11 stl_08 stl_32" style="word-spacing:-0.0654em;">..............................................................................................................................................43 &nbsp;</span></div>
					<div class="stl_01" style="top:55.1877em; left:3.5438em;"><span class="stl_10 stl_08 stl_29" style="word-spacing:-0.0652em;">附 </span><span class="stl_11 stl_08 stl_29" style="word-spacing:-0.0652em;">2</span><span class="stl_10 stl_08 stl_29" style="word-spacing:-0.0652em;">：专有名词解释</span><span class="stl_11 stl_08 stl_29" style="word-spacing:-0.0652em;">......................................................................................................................................44 &nbsp;</span></div>
					<div class="stl_01" style="top:62.2523em; left:16.7983em;"><span class="stl_10 stl_08 stl_09">（</span></div>
					<div class="stl_01" style="top:62.2523em; left:17.7983em;"><span class="stl_10 stl_08 stl_37" style="word-spacing:-0.0396em;">注：浏览时请使用 </span><span class="stl_38 stl_08 stl_39" style="word-spacing:-0.0453em;">PDF </span><span class="stl_10 stl_08 stl_37" style="word-spacing:-0.0396em;">左侧导航栏） &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_06.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_06.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:4.5423em; left:8.0042em;"><span class="stl_45 stl_08 stl_09">版本号 &nbsp;</span></div>
					<div class="stl_01" style="top:4.5423em; left:15.8817em;"><span class="stl_45 stl_08 stl_09">制定团队 &nbsp;</span></div>
					<div class="stl_01" style="top:4.5423em; left:24.9067em;"><span class="stl_45 stl_08 stl_09">更新日期 &nbsp;</span></div>
					<div class="stl_01" style="top:4.5423em; left:36.1608em;"><span class="stl_45 stl_08 stl_09">备注 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1256em; left:8.2958em;"><span class="stl_46 stl_08 stl_47">1.5.0 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1256em; left:12.6942em;"><span class="stl_45 stl_08 stl_26" style="word-spacing:-0.0423em;">阿里巴巴与 </span><span class="stl_46 stl_08 stl_26" style="word-spacing:-0.0423em;">Java </span><span class="stl_45 stl_08 stl_26" style="word-spacing:-0.0423em;">社区开发者 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1256em; left:24.4692em;"><span class="stl_48 stl_08 stl_12">2019.06.19 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1256em; left:30.4083em;"><span class="stl_45 stl_08 stl_49" style="word-spacing:-0.0455em;">华山版，新增 </span><span class="stl_46 stl_08 stl_49" style="word-spacing:-0.0455em;">21 </span><span class="stl_45 stl_08 stl_49" style="word-spacing:-0.0455em;">条，修改描述 </span><span class="stl_46 stl_08 stl_49" style="word-spacing:-0.0455em;">112 </span><span class="stl_45 stl_08 stl_49" style="word-spacing:-0.0455em;">处 &nbsp;</span></div>
					<div class="stl_01" style="top:9.4577em; left:3.5438em;"><span class="stl_50 stl_08 stl_09" style="word-spacing:0.1052em;">一、 编程规约 &nbsp;</span></div>
					<div class="stl_01" style="top:13.2087em; left:3.5438em;"><span class="stl_51 stl_08 stl_15" style="word-spacing:0.3698em;">(</span><span class="stl_52 stl_08 stl_15" style="word-spacing:0.3698em;">一</span><span class="stl_51 stl_08 stl_15" style="word-spacing:0.3698em;">) </span><span class="stl_52 stl_08 stl_15" style="word-spacing:0.3698em;">命名风格 &nbsp;</span></div>
					<div class="stl_01" style="top:16.2169em; left:5.0438em;"><span class="stl_11 stl_08 stl_20" style="word-spacing:0.3794em;">1. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3794em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">代码中的命名均不能以</span><span class="stl_22 stl_08 stl_20" style="word-spacing:0.3794em;">下划线或美元符号</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">开始，也不能以</span><span class="stl_22 stl_08 stl_20" style="word-spacing:0.3794em;">下划线或美元符号</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">结束。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.06em; left:6.5438em;"><span class="stl_54 stl_08 stl_24" style="word-spacing:-0.0005em;">反例：</span><span class="stl_55 stl_08 stl_24" style="word-spacing:-0.0005em;">_name / __name / $name / name_ / name$ / name__ &nbsp;</span></div>
					<div class="stl_01" style="top:20.3652em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:20.3652em; left:5.6063em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3798em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3798em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3798em;">代码中的命名严禁使用拼音与英文混合的方式，更不允许直接使用中文的方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.2058em; left:6.5229em;"><span class="stl_56 stl_08 stl_13">说明：</span><span class="stl_57 stl_08 stl_13">正确的英文拼写和语法可以让阅读者易于理解，避免歧义。注意，纯拼音命名方式更要避免采用。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.9783em; left:6.5438em;"><span class="stl_58 stl_08 stl_59" style="word-spacing:-0.0098em;">正例：</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0098em;">renminbi /</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0109em;"> alibaba</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0167em;"> /</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0081em;"> taobao</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0057em;"> /</span><span class="stl_38 stl_08 stl_59" style="word-spacing:0.0118em;"> youku</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0102em;"> /</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0112em;"> hangzhou</span><span class="stl_57 stl_08 stl_59" style="word-spacing:0.2211em;"> 等国际通用的名称，可视同英文。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7492em; left:6.5438em;"><span class="stl_54 stl_08 stl_60" style="word-spacing:-0.0104em;">反例：</span><span class="stl_38 stl_08 stl_60" style="word-spacing:-0.0104em;">DaZhePromotion [</span><span class="stl_57 stl_08 stl_60" style="word-spacing:-0.0104em;">打折</span><span class="stl_38 stl_08 stl_60" style="word-spacing:-0.0104em;">]</span><span class="stl_38 stl_08 stl_60" style="word-spacing:-0.0132em;"> /</span><span class="stl_38 stl_08 stl_60" style="word-spacing:-0.0115em;"> getPingfenByName()</span><span class="stl_38 stl_08 stl_60" style="word-spacing:-0.0115em;"> [</span><span class="stl_57 stl_08 stl_60" style="word-spacing:-0.0142em;">评分</span><span class="stl_38 stl_08 stl_60" style="word-spacing:-0.0142em;">]</span><span class="stl_38 stl_08 stl_60" style="word-spacing:-0.0132em;"> /</span><span class="stl_38 stl_08 stl_60" style="word-spacing:-0.0115em;"> int</span><span class="stl_57 stl_08 stl_60" style="word-spacing:0.2081em;"> 某变量 </span><span class="stl_38 stl_08 stl_60" style="word-spacing:0.2081em;">=</span><span class="stl_38 stl_08 stl_60" style="word-spacing:0.2081em;"> 3 &nbsp;</span></div>
					<div class="stl_01" style="top:28.0336em; left:5.0438em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">3. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3794em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">类名使用</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.044em;"> UpperCamelCase</span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0416em;"> 风格，但以下情形例外：</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0416em;">DO</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0064em;"> /</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0007em;"> BO /</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0011em;"> DTO /</span><span class="stl_27 stl_08 stl_20" style="word-spacing:0.0052em;"> VO</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0033em;"> /</span><span class="stl_27 stl_08 stl_20" style="word-spacing:0.0052em;"> AO &nbsp;</span></div>
					<div class="stl_01" style="top:29.8044em; left:6.5438em;"><span class="stl_27 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:29.8044em; left:7.2728em;"><span class="stl_27 stl_08 stl_61" style="word-spacing:-0.0094em;">PO / UID </span><span class="stl_23 stl_08 stl_61" style="word-spacing:-0.0094em;">等。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.6467em; left:6.5438em;"><span class="stl_58 stl_08 stl_24" style="word-spacing:0.0002em;">正例：</span><span class="stl_38 stl_08 stl_24" style="word-spacing:0.0002em;">JavaServerlessPlatform / UserDO / XmlService / TcpUdpDeal / TaPromotion &nbsp;</span></div>
					<div class="stl_01" style="top:33.4175em; left:6.5438em;"><span class="stl_54 stl_08 stl_62" style="word-spacing:-0.007em;">反例：</span><span class="stl_38 stl_08 stl_62" style="word-spacing:-0.007em;">javaserverlessplatform / UserDo / XMLService / TCPUDPDeal / TAPromotion &nbsp;</span></div>
					<div class="stl_01" style="top:35.7227em; left:5.0438em;"><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3796em;">4. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3796em;">【强制】</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.3796em;">方法名、参数名、成员变量、局部变量都统一使用</span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0363em;"> lowerCamelCase</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0434em;"> 风格，必须遵 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4727em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">从驼峰形式。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3367em; left:6.5438em;"><span class="stl_58 stl_08 stl_24" style="word-spacing:-0.0048em;">正例： </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0048em;">localValue / getHttpMessage() / inputUserId &nbsp;</span></div>
					<div class="stl_01" style="top:41.6211em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.38em;">5. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.38em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.38em;">常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字 &nbsp;</span></div>
					<div class="stl_01" style="top:43.3919em; left:6.5438em;"><span class="stl_23 stl_08 stl_63">长。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.255em; left:6.5438em;"><span class="stl_58 stl_08 stl_24" style="word-spacing:-0.0071em;">正例：</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0071em;">MAX_STOCK_COUNT / CACHE_EXPIRED_TIME &nbsp;</span></div>
					<div class="stl_01" style="top:47.005em; left:6.5438em;"><span class="stl_54 stl_08 stl_64" style="word-spacing:-0.0076em;">反例：</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0076em;">MAX_COUNT / EXPIRED_TIME &nbsp;</span></div>
					<div class="stl_01" style="top:49.3102em; left:5.0438em;"><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3804em;">6. </span><span class="stl_53 stl_08 stl_26" style="word-spacing:0.3804em;">【强制】</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.3804em;">抽象类命名使用</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.0414em;"> Abstract</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0411em;"> 或</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.043em;"> Base</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0496em;"> 开头；异常类命名使用</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.042em;"> Exception</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0326em;"> 结尾；测试类 &nbsp;</span></div>
					<div class="stl_01" style="top:51.0611em; left:6.5438em;"><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0434em;">命名以它要测试的类的名称开始，以 </span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0434em;">Test </span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0434em;">结尾。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.4586em; left:5.0438em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">7. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_65 stl_08 stl_20" style="word-spacing:0.3795em;">类型与中括号紧挨相连来表示数组。 &nbsp;</span></div>
					<div class="stl_01" style="top:55.32em; left:6.5438em;"><span class="stl_58 stl_08 stl_64" style="word-spacing:-0.0208em;">正例：</span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0208em;">定义整形数组 </span><span class="stl_67 stl_08 stl_64" style="word-spacing:-0.0208em;">int[] arrayDemo; &nbsp;</span></div>
					<div class="stl_01" style="top:57.07em; left:6.5438em;"><span class="stl_54 stl_08 stl_68" style="word-spacing:-0.0234em;">反例：</span><span class="stl_66 stl_08 stl_68" style="word-spacing:-0.0234em;">在 </span><span class="stl_67 stl_08 stl_68" style="word-spacing:-0.0234em;">main </span><span class="stl_66 stl_08 stl_68" style="word-spacing:-0.0234em;">参数中，使用 </span><span class="stl_67 stl_08 stl_68" style="word-spacing:-0.0234em;">String args[]</span><span class="stl_66 stl_08 stl_68" style="word-spacing:-0.0234em;">来定义。 &nbsp;</span></div>
					<div class="stl_01" style="top:59.3777em; left:5.0438em;"><span class="stl_27 stl_08 stl_37" style="word-spacing:0.3791em;">8. </span><span class="stl_53 stl_08 stl_37" style="word-spacing:0.3791em;">【强制】</span><span class="stl_27 stl_08 stl_37" style="word-spacing:0.3791em;">POJO</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0493em;"> 类中布尔类型变量都不要加</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0427em;"> is</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0514em;"> 前缀，否则部分框架解析会引起序列化错误。 &nbsp;</span></div>
					<div class="stl_01" style="top:61.1995em; left:6.5438em;"><span class="stl_56 stl_08 stl_69" style="word-spacing:-0.032em;">说明：</span><span class="stl_66 stl_08 stl_69" style="word-spacing:-0.032em;">在本文 </span><span class="stl_70 stl_71 stl_69" style="word-spacing:-0.032em;">MySQL </span><span class="stl_66 stl_08 stl_69" style="word-spacing:-0.032em;">规约中的建表约定第一条，表达是与否的值采用 </span><span class="stl_72 stl_73 stl_69" style="word-spacing:-0.032em;">is_xxx</span><span class="stl_66 stl_08 stl_69" style="word-spacing:-0.032em;">的命名方式，所以，需要在 &nbsp;</span></div>
					<div class="stl_01" style="top:62.9704em; left:6.5438em;"><span class="stl_70 stl_71 stl_09">&lt;</span></div>
					<div class="stl_01" style="top:62.9704em; left:7.1466em;"><span class="stl_70 stl_71 stl_74" style="word-spacing:-0.0233em;">resultMap&gt;</span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0233em;">设置从 </span><span class="stl_70 stl_71 stl_74" style="word-spacing:-0.0233em;">is_xxx </span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0233em;">到 </span><span class="stl_70 stl_71 stl_74" style="word-spacing:-0.0233em;">xxx </span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0233em;">的映射关系。 &nbsp;</span></div>
					<div class="stl_01" style="top:64.7596em; left:6.5438em;"><span class="stl_54 stl_08 stl_64" style="word-spacing:-0.0239em;">反例：</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0239em;">定义为基本数据类型 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0239em;">Boolean isDeleted </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0239em;">的属性，它的方法也是 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0239em;">isDeleted()</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0239em;">，</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0239em;">RPC </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0239em;">框架在反向解 &nbsp;</span></div>
					<div class="stl_01" style="top:66.5117em; left:6.5438em;"><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0294em;">析的时候，“误以为”对应的属性名称是 </span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0294em;">deleted</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0294em;">，导致属性获取不到，进而抛出异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:46.2475em;"><span class="stl_75 stl_76 stl_12">/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_07.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_07.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">9. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使 &nbsp;</span></div>
					<div class="stl_01" style="top:4.8402em; left:6.5438em;"><span class="stl_23 stl_08 stl_15">用</span><span class="stl_22 stl_08 stl_15">单数</span><span class="stl_23 stl_08 stl_15">形式，但是类名如果有复数含义，类名可以使用复数形式。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.6808em; left:6.5438em;"><span class="stl_58 stl_08 stl_77" style="word-spacing:-0.0287em;">正例：</span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0287em;">应用工具类包名为 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0287em;">com.alibaba.ai.util</span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0287em;">、类名为 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0287em;">MessageUtils</span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0287em;">（此规则参考 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0287em;">spring </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0287em;">的框架结构） &nbsp;</span></div>
					<div class="stl_01" style="top:9.3611em; left:5.0229em;"><span class="stl_78 stl_08 stl_63">10.</span><span class="stl_53 stl_08 stl_63">【强制】</span><span class="stl_65 stl_08 stl_63">避免在子父类的成员变量之间、或者不同代码块的局部变量之间采用完全相同的命 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1127em; left:6.5229em;"><span class="stl_65 stl_08 stl_09">名，使可读性降低。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.9742em; left:6.5229em;"><span class="stl_56 stl_08 stl_64" style="word-spacing:-0.0288em;">说明：</span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0288em;">子类、父类成员变量名相同，即使是 </span><span class="stl_67 stl_08 stl_64" style="word-spacing:-0.0288em;">public </span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0288em;">类型的变量也是能够通过编译，而局部变量在同一方法 &nbsp;</span></div>
					<div class="stl_01" style="top:14.745em; left:6.5229em;"><span class="stl_66 stl_08 stl_30" style="word-spacing:-0.0232em;">内的不同代码块中同名也是合法的，但是要避免使用。对于非 </span><span class="stl_67 stl_08 stl_30" style="word-spacing:-0.0232em;">setter/getter </span><span class="stl_66 stl_08 stl_30" style="word-spacing:-0.0232em;">的参数名称也要避免与成员 &nbsp;</span></div>
					<div class="stl_01" style="top:16.495em; left:6.5229em;"><span class="stl_66 stl_08 stl_09">变量名称相同。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.2683em; left:6.5229em;"><span class="stl_54 stl_08 stl_60">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:19.8381em; left:8.7958em;"><span class="stl_79 stl_08 stl_15" style="word-spacing:0.0123em;">public class </span><span class="stl_48 stl_08 stl_15" style="word-spacing:0.0123em;">ConfusingName </span><span class="stl_80 stl_08 stl_15" style="word-spacing:0.0123em;">{ &nbsp;</span></div>
					<div class="stl_01" style="top:21.0048em; left:10.2958em;"><span class="stl_79 stl_08 stl_81" style="word-spacing:0.0034em;">public int </span><span class="stl_48 stl_08 stl_81" style="word-spacing:0.0034em;">age</span><span class="stl_80 stl_08 stl_81" style="word-spacing:0.0034em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:22.1706em; left:10.2958em;"><span class="stl_82 stl_08 stl_20" style="word-spacing:0.1929em;">// </span><span class="stl_83 stl_08 stl_20" style="word-spacing:0.1929em;">非</span><span class="stl_82 stl_08 stl_20" style="word-spacing:-0.0465em;"> setter/getter</span><span class="stl_83 stl_08 stl_20" style="word-spacing:-0.0334em;"> 的参数名称，不允许与本类成员变量同名 &nbsp;</span></div>
					<div class="stl_01" style="top:23.3373em; left:10.2958em;"><span class="stl_79 stl_08 stl_20" style="word-spacing:0.0035em;">public void </span><span class="stl_84 stl_08 stl_20" style="word-spacing:0.0035em;">getData</span><span class="stl_80 stl_08 stl_20" style="word-spacing:0.0035em;">(</span><span class="stl_48 stl_08 stl_20" style="word-spacing:0.0035em;">String alibaba</span><span class="stl_80 stl_08 stl_20" style="word-spacing:0.0035em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:24.5064em; left:11.7958em;"><span class="stl_79 stl_08 stl_85" style="word-spacing:0.0148em;">if</span><span class="stl_80 stl_08 stl_85" style="word-spacing:0.0148em;">(</span><span class="stl_86 stl_08 stl_85" style="word-spacing:0.0148em;">true</span><span class="stl_80 stl_08 stl_85" style="word-spacing:0.0148em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:25.6731em; left:13.2983em;"><span class="stl_79 stl_08 stl_87" style="word-spacing:0.0093em;">final int </span><span class="stl_48 stl_08 stl_87" style="word-spacing:0.0093em;">money </span><span class="stl_88 stl_08 stl_87" style="word-spacing:0.0093em;">= </span><span class="stl_86 stl_08 stl_87" style="word-spacing:0.0093em;">531</span><span class="stl_80 stl_08 stl_87" style="word-spacing:0.0093em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:26.8398em; left:13.2983em;"><span class="stl_82 stl_08 stl_89" style="word-spacing:-0.0062em;">// ... &nbsp;</span></div>
					<div class="stl_01" style="top:28.0064em; left:11.7958em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:30.3398em; left:11.7958em;"><span class="stl_79 stl_08 stl_59" style="word-spacing:-0.0007em;">for </span><span class="stl_80 stl_08 stl_59" style="word-spacing:-0.0007em;">(</span><span class="stl_79 stl_08 stl_59" style="word-spacing:-0.0007em;">int </span><span class="stl_48 stl_08 stl_59" style="word-spacing:-0.0007em;">i </span><span class="stl_88 stl_08 stl_59" style="word-spacing:-0.0007em;">= </span><span class="stl_86 stl_08 stl_59" style="word-spacing:-0.0007em;">0</span><span class="stl_80 stl_08 stl_59" style="word-spacing:-0.0007em;">; </span><span class="stl_48 stl_08 stl_59" style="word-spacing:-0.0007em;">i </span><span class="stl_88 stl_08 stl_59" style="word-spacing:-0.0007em;">&lt; </span><span class="stl_86 stl_08 stl_59" style="word-spacing:-0.0007em;">10</span><span class="stl_80 stl_08 stl_59" style="word-spacing:-0.0007em;">; </span><span class="stl_48 stl_08 stl_59" style="word-spacing:-0.0007em;">i</span><span class="stl_88 stl_08 stl_59" style="word-spacing:-0.0007em;">++</span><span class="stl_80 stl_08 stl_59" style="word-spacing:-0.0007em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:31.5081em; left:13.6108em;"><span class="stl_82 stl_08 stl_90" style="word-spacing:0.1919em;">/ </span><span class="stl_83 stl_08 stl_90" style="word-spacing:0.1919em;">在同一方法体中，不允许与其它代码块中的</span><span class="stl_82 stl_08 stl_90" style="word-spacing:-0.0398em;"> taobao</span><span class="stl_83 stl_08 stl_90" style="word-spacing:-0.0406em;"> 命名相同 &nbsp;</span></div>
					<div class="stl_01" style="top:32.6748em; left:13.2983em;"><span class="stl_79 stl_08 stl_87" style="word-spacing:0.0093em;">final int </span><span class="stl_48 stl_08 stl_87" style="word-spacing:0.0093em;">money </span><span class="stl_88 stl_08 stl_87" style="word-spacing:0.0093em;">= </span><span class="stl_86 stl_08 stl_87" style="word-spacing:0.0093em;">615</span><span class="stl_80 stl_08 stl_87" style="word-spacing:0.0093em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:33.8414em; left:13.6108em;"><span class="stl_82 stl_08 stl_91" style="word-spacing:-0.0195em;">/ ... &nbsp;</span></div>
					<div class="stl_01" style="top:31.5081em; left:13.2983em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:33.8414em; left:13.2983em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:35.0081em; left:11.7958em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:36.1748em; left:10.2958em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:37.3414em; left:8.7958em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:39.6773em; left:8.7958em;"><span class="stl_79 stl_08 stl_77" style="word-spacing:0.0088em;">class </span><span class="stl_48 stl_08 stl_77" style="word-spacing:0.0088em;">Son </span><span class="stl_79 stl_08 stl_77" style="word-spacing:0.0088em;">extends </span><span class="stl_48 stl_08 stl_77" style="word-spacing:0.0088em;">ConfusingName </span><span class="stl_80 stl_08 stl_77" style="word-spacing:0.0088em;">{ &nbsp;</span></div>
					<div class="stl_01" style="top:40.8439em; left:10.6083em;"><span class="stl_82 stl_08 stl_09" style="word-spacing:0.1935em;">/ </span><span class="stl_83 stl_08 stl_09" style="word-spacing:0.1935em;">不允许与父类的成员变量名称相同 &nbsp;</span></div>
					<div class="stl_01" style="top:42.0106em; left:10.2958em;"><span class="stl_79 stl_08 stl_81" style="word-spacing:0.0034em;">public int </span><span class="stl_48 stl_08 stl_81" style="word-spacing:0.0034em;">age</span><span class="stl_80 stl_08 stl_81" style="word-spacing:0.0034em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:40.8439em; left:10.2958em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:43.1773em; left:8.7958em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:44.9352em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:44.9352em; left:5.6271em;"><span class="stl_27 stl_08 stl_92">1.</span><span class="stl_53 stl_08 stl_92">【强制】</span><span class="stl_23 stl_08 stl_92">杜绝完全不规范的缩写，避免望文不知义。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.7967em; left:6.5438em;"><span class="stl_54 stl_08 stl_13" style="word-spacing:-0.0347em;">反例：</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0347em;">AbstractClass</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0347em;">“缩写”命名成 </span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0347em;">AbsClass</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0347em;">；</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0347em;">condition</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0347em;">“缩写”命名成</span><span class="stl_38 stl_08 stl_13" style="word-spacing:0.2043em;"> condi</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2043em;">，此类随意缩写严重 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5683em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">降低了代码的可阅读性。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.8519em; left:5.0438em;"><span class="stl_27 stl_08 stl_63">12.</span><span class="stl_17 stl_08 stl_63">【推荐】</span><span class="stl_23 stl_08 stl_63">为了达到代码自解释的目标，任何自定义编程元素在命名时，使用尽量完整的单词 &nbsp;</span></div>
					<div class="stl_01" style="top:52.6252em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">组合来表达其意。 &nbsp;</span></div>
					<div class="stl_01" style="top:54.4658em; left:6.5438em;"><span class="stl_58 stl_08 stl_09" style="word-spacing:-0.0295em;">正例：</span><span class="stl_66 stl_08 stl_09" style="word-spacing:-0.0295em;">在 </span><span class="stl_67 stl_08 stl_09" style="word-spacing:-0.0295em;">JDK </span><span class="stl_66 stl_08 stl_09" style="word-spacing:-0.0295em;">中，表达原子更新的类名为：</span><span class="stl_67 stl_08 stl_09" style="word-spacing:-0.0295em;">AtomicReferenceFieldUpdater</span><span class="stl_66 stl_08 stl_09" style="word-spacing:-0.0295em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:56.2367em; left:6.5438em;"><span class="stl_54 stl_08 stl_24" style="word-spacing:-0.0205em;">反例：</span><span class="stl_67 stl_08 stl_24" style="word-spacing:-0.0205em;">int a </span><span class="stl_66 stl_08 stl_24" style="word-spacing:-0.0205em;">的随意命名方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.5419em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:58.5419em; left:5.6271em;"><span class="stl_27 stl_08 stl_93">3.</span><span class="stl_17 stl_08 stl_93">【推荐】</span><span class="stl_65 stl_08 stl_93">在常量与变量的命名时，表示类型的名词放在词尾，以提升辨识度。 &nbsp;</span></div>
					<div class="stl_01" style="top:60.3842em; left:6.5438em;"><span class="stl_58 stl_08 stl_09" style="word-spacing:-0.0074em;">正例：</span><span class="stl_67 stl_08 stl_09" style="word-spacing:-0.0074em;">startTime / workQueue / nameList / TERMINATED_THREAD_COUNT &nbsp;</span></div>
					<div class="stl_01" style="top:62.1554em; left:6.5438em;"><span class="stl_54 stl_08 stl_09" style="word-spacing:-0.0035em;">反例：</span><span class="stl_67 stl_08 stl_09" style="word-spacing:-0.0035em;">startedAt / QueueOfWork / listName / COUNT_TERMINATED_THREAD &nbsp;</span></div>
					<div class="stl_01" style="top:64.4398em; left:5.0438em;"><span class="stl_27 stl_08 stl_47">14.</span><span class="stl_17 stl_08 stl_47">【推荐】</span><span class="stl_23 stl_08 stl_47">如果模块、接口、类、方法使用了设计模式，在命名时需体现出具体模式。 &nbsp;</span></div>
					<div class="stl_01" style="top:66.3033em; left:6.5438em;"><span class="stl_56 stl_08 stl_13">说明：</span><span class="stl_57 stl_08 stl_13">将设计模式体现在名字中，有利于阅读者快速理解架构设计理念。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:46.2475em;"><span class="stl_75 stl_76 stl_12">/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_08.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_08.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.16em; left:6.5438em;"><span class="stl_58 stl_08 stl_90" style="word-spacing:0.2049em;">正例： </span><span class="stl_38 stl_08 stl_90" style="word-spacing:0.2049em;">public</span><span class="stl_38 stl_08 stl_90" style="word-spacing:-0.013em;"> class</span><span class="stl_38 stl_08 stl_90" style="word-spacing:-0.0224em;"> OrderFactory; &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:9.6083em;"><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0181em;">public class LoginProxy; &nbsp;</span></div>
					<div class="stl_01" style="top:6.6808em; left:9.6083em;"><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0032em;">public class ResourceObserver; &nbsp;</span></div>
					<div class="stl_01" style="top:8.9861em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:8.9861em; left:5.6271em;"><span class="stl_27 stl_08 stl_47" style="word-spacing:0.2036em;">5.</span><span class="stl_17 stl_08 stl_47" style="word-spacing:0.2036em;">【推荐】</span><span class="stl_23 stl_08 stl_47" style="word-spacing:0.2036em;">接口类中的方法和属性不要加任何修饰符号（</span><span class="stl_27 stl_08 stl_47" style="word-spacing:0.2036em;">public </span><span class="stl_23 stl_08 stl_47" style="word-spacing:0.2036em;">也不要加），保持代码的简洁 &nbsp;</span></div>
					<div class="stl_01" style="top:10.7377em; left:6.5438em;"><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0427em;">性，并加上有效的 </span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0427em;">Javadoc </span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0427em;">注释。尽量不要在接口里定义变量，如果一定要定义变量，肯定 &nbsp;</span></div>
					<div class="stl_01" style="top:12.5086em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">是与接口方法相关，并且是整个应用的基础常量。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.37em; left:6.5438em;"><span class="stl_58 stl_08 stl_12" style="word-spacing:0.2073em;">正例：</span><span class="stl_57 stl_08 stl_12" style="word-spacing:0.2073em;">接口方法签名 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:0.2073em;">void</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0061em;"> commit(); &nbsp;</span></div>
					<div class="stl_01" style="top:16.12em; left:9.1708em;"><span class="stl_57 stl_08 stl_26" style="word-spacing:0.2074em;">接口基础常量 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.2074em;">String</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0061em;"> COMPANY</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.018em;"> =</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.0098em;"> "alibaba"; &nbsp;</span></div>
					<div class="stl_01" style="top:17.8933em; left:6.5438em;"><span class="stl_54 stl_08 stl_15" style="word-spacing:0.2068em;">反例：</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2068em;">接口方法定义 </span><span class="stl_95 stl_08 stl_15" style="word-spacing:0.2068em;">public</span><span class="stl_95 stl_08 stl_15" style="word-spacing:-0.0115em;"> abstract</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0021em;"> void</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0021em;"> f(); &nbsp;</span></div>
					<div class="stl_01" style="top:19.6433em; left:6.5438em;"><span class="stl_56 stl_08 stl_68" style="word-spacing:-0.0221em;">说明：</span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0221em;">JDK8 </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0221em;">中接口允许有默认实现，那么这个 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0221em;">default </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0221em;">方法，是对所有实现类都有价值的默认实现。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.9477em; left:5.0438em;"><span class="stl_27 stl_08 stl_96">16.</span><span class="stl_23 stl_08 stl_96">接口和实现类的命名有两套规则： &nbsp;</span></div>
					<div class="stl_01" style="top:23.81em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:23.81em; left:7.5042em;"><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.032em;">）</span><span class="stl_97 stl_08 stl_87" style="word-spacing:-0.032em;">【强制】</span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.032em;">对于 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.032em;">Service </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.032em;">和 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.032em;">DAO </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.032em;">类，基于 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.032em;">SOA </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.032em;">的理念，暴露出来的服务一定是接口，内部的实现类用 &nbsp;</span></div>
					<div class="stl_01" style="top:25.5617em; left:6.5438em;"><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0334em;">Impl </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0334em;">的后缀与接口区别。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3325em; left:6.5438em;"><span class="stl_58 stl_08 stl_98" style="word-spacing:-0.027em;">正例：</span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.027em;">CacheServiceImpl </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.027em;">实现 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.027em;">CacheService </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.027em;">接口。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.0825em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:29.0825em; left:7.5042em;"><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2034em;">） </span><span class="stl_99 stl_08 stl_13" style="word-spacing:0.2034em;">【推荐】</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2034em;">如果是形容能力的接口名称，取对应的形容词为接口名（通常是–</span><span class="stl_38 stl_08 stl_13" style="word-spacing:0.2034em;">able</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0275em;"> 的形容词）。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8533em; left:6.5438em;"><span class="stl_58 stl_08 stl_94" style="word-spacing:-0.0239em;">正例：</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0239em;">AbstractTranslator </span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0239em;">实现</span><span class="stl_38 stl_08 stl_94" style="word-spacing:0.2074em;"> Translatable</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0234em;"> 接口。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.1602em; left:5.0438em;"><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.0477em;">17.</span><span class="stl_100 stl_08 stl_47" style="word-spacing:-0.0477em;">【参考】</span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.0477em;">枚举类名带上 </span><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.0477em;">Enum </span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.0477em;">后缀，枚举成员名称需要全大写，单词间用下划线隔开。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.0008em; left:6.5438em;"><span class="stl_56 stl_08 stl_20">说明：</span><span class="stl_57 stl_08 stl_20">枚举其实就是特殊的类，域成员均为常量，且构造方法被默认强制是私有。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.7717em; left:6.5438em;"><span class="stl_58 stl_08 stl_61" style="word-spacing:-0.0098em;">正例：</span><span class="stl_57 stl_08 stl_61" style="word-spacing:-0.0098em;">枚举名字为 </span><span class="stl_38 stl_08 stl_61" style="word-spacing:-0.0098em;">ProcessStatusEnum </span><span class="stl_57 stl_08 stl_61" style="word-spacing:-0.0098em;">的成员名称：</span><span class="stl_38 stl_08 stl_61" style="word-spacing:-0.0098em;">SUCCESS / UNKNOWN_REASON</span><span class="stl_57 stl_08 stl_61" style="word-spacing:-0.0098em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.0586em; left:5.0438em;"><span class="stl_27 stl_08 stl_101">18.</span><span class="stl_100 stl_08 stl_101">【参考】</span><span class="stl_23 stl_08 stl_101">各层命名规约： &nbsp;</span></div>
					<div class="stl_01" style="top:40.92em; left:6.5438em;"><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0215em;">A) Service/DAO </span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0215em;">层方法命名规约 &nbsp;</span></div>
					<div class="stl_01" style="top:42.6908em; left:7.4813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:44.4408em; left:7.4813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:46.2133em; left:7.4813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:47.9633em; left:7.4813em;"><span class="stl_38 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:49.735em; left:7.4813em;"><span class="stl_38 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:51.505em; left:7.4813em;"><span class="stl_38 stl_08 stl_09">6</span></div>
					<div class="stl_01" style="top:42.6908em; left:8.0042em;"><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2032em;">） 获取单个对象的方法用</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0301em;"> get</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0252em;"> 做前缀。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4408em; left:8.0042em;"><span class="stl_57 stl_08 stl_103" style="word-spacing:0.2057em;">） 获取多个对象的方法用</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0276em;"> list</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0238em;"> 做前缀，复数形式结尾如：</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0238em;">listObjects</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0238em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2133em; left:8.0042em;"><span class="stl_57 stl_08 stl_102" style="word-spacing:0.2026em;">） 获取统计值的方法用</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0326em;"> count</span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0222em;"> 做前缀。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9633em; left:8.0042em;"><span class="stl_57 stl_08 stl_98" style="word-spacing:0.2062em;">） 插入的方法用</span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0319em;"> save/insert</span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0199em;"> 做前缀。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.735em; left:8.0042em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2041em;">） 删除的方法用</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.034em;"> remove/delete</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0272em;"> 做前缀。 &nbsp;</span></div>
					<div class="stl_01" style="top:51.505em; left:8.0042em;"><span class="stl_57 stl_08 stl_59" style="word-spacing:0.2021em;">） 修改的方法用</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.036em;"> update</span><span class="stl_57 stl_08 stl_59" style="word-spacing:-0.0267em;"> 做前缀。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.2575em; left:6.5438em;"><span class="stl_38 stl_08 stl_98" style="word-spacing:0.208em;">B) </span><span class="stl_57 stl_08 stl_98" style="word-spacing:0.208em;">领域模型命名规约 &nbsp;</span></div>
					<div class="stl_01" style="top:55.0283em; left:7.4813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:56.7783em; left:7.4813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:58.5492em; left:7.4813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:60.3217em; left:7.4813em;"><span class="stl_38 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:55.0283em; left:8.0042em;"><span class="stl_57 stl_08 stl_94" style="word-spacing:0.2054em;">） 数据对象：</span><span class="stl_38 stl_08 stl_94" style="word-spacing:0.2054em;">xxxDO</span><span class="stl_57 stl_08 stl_94" style="word-spacing:0.2054em;">，</span><span class="stl_38 stl_08 stl_94" style="word-spacing:0.2054em;">xxx</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0376em;"> 即为数据表名。 &nbsp;</span></div>
					<div class="stl_01" style="top:56.7783em; left:8.0042em;"><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2033em;">） 数据传输对象：</span><span class="stl_38 stl_08 stl_13" style="word-spacing:0.2033em;">xxxDTO</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2033em;">，</span><span class="stl_38 stl_08 stl_13" style="word-spacing:0.2033em;">xxx</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0416em;"> 为业务领域相关的名称。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.5492em; left:8.0042em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2041em;">） 展示对象：</span><span class="stl_38 stl_08 stl_09" style="word-spacing:0.2041em;">xxxVO</span><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2041em;">，</span><span class="stl_38 stl_08 stl_09" style="word-spacing:0.2041em;">xxx</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0382em;"> 一般为网页名称。 &nbsp;</span></div>
					<div class="stl_01" style="top:60.3217em; left:8.0042em;"><span class="stl_57 stl_08 stl_61" style="word-spacing:0.2067em;">） </span><span class="stl_38 stl_08 stl_61" style="word-spacing:0.2067em;">POJO</span><span class="stl_57 stl_08 stl_61" style="word-spacing:-0.0355em;"> 是</span><span class="stl_38 stl_08 stl_61" style="word-spacing:-0.0285em;"> DO/DTO/BO/VO</span><span class="stl_57 stl_08 stl_61" style="word-spacing:-0.0346em;"> 的统称，禁止命名成</span><span class="stl_38 stl_08 stl_61" style="word-spacing:-0.0266em;"> xxxPOJO</span><span class="stl_57 stl_08 stl_61" style="word-spacing:-0.0266em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:46.2475em;"><span class="stl_75 stl_76 stl_12">/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_09.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_09.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.6028em; left:3.5438em;"><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">(</span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">二</span><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">) </span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">常量定义 &nbsp;</span></div>
					<div class="stl_01" style="top:6.2361em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:6.2361em; left:5.6063em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3794em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">不允许任何魔法值</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.4336em;">（</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">即未经预先定义的常量</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.4336em;">）</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">直接出现在代码中。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.535em; left:6.9604em;"><span class="stl_54 stl_08 stl_90" style="word-spacing:-0.0077em;">反例：</span><span class="stl_38 stl_08 stl_90" style="word-spacing:-0.0077em;">String key = </span><span class="stl_104 stl_08 stl_90" style="word-spacing:-0.0077em;">"Id#taobao_" </span><span class="stl_38 stl_08 stl_90" style="word-spacing:-0.0077em;">+ tradeId; &nbsp;</span></div>
					<div class="stl_01" style="top:8.7017em; left:9.5875em;"><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0129em;">cache.put(key, value); &nbsp;</span></div>
					<div class="stl_01" style="top:9.87em; left:9.5458em;"><span class="stl_105 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:9.87em; left:9.9208em;"><span class="stl_105 stl_08 stl_87" style="word-spacing:0.2081em;">/ </span><span class="stl_106 stl_08 stl_87" style="word-spacing:0.2081em;">缓存</span><span class="stl_105 stl_08 stl_87" style="word-spacing:-0.0284em;"> get</span><span class="stl_106 stl_08 stl_87" style="word-spacing:-0.0229em;"> 时，由于在代码复制时，漏掉下划线，导致缓存击穿而出现问题 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8836em; left:5.0438em;"><span class="stl_27 stl_08 stl_37" style="word-spacing:0.3791em;">2. </span><span class="stl_53 stl_08 stl_37" style="word-spacing:0.3791em;">【强制】</span><span class="stl_23 stl_08 stl_37" style="word-spacing:0.3791em;">在</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0469em;"> long</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0355em;"> 或者</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0677em;"> Long</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0372em;"> 赋值时，数值后使用大写的</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0372em;"> L</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.045em;">，不能是小写的</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.045em;"> l</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0427em;">，小写容易跟数 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6544em; left:6.5438em;"><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0464em;">字 </span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0464em;">1 </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0464em;">混淆，造成误解。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.495em; left:6.5438em;"><span class="stl_56 stl_08 stl_59" style="word-spacing:-0.0085em;">说明：</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0085em;">Long a</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0166em;"> =</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0155em;"> 2l;</span><span class="stl_57 stl_08 stl_59" style="word-spacing:0.205em;"> 写的是数字的</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.034em;"> 21</span><span class="stl_57 stl_08 stl_59" style="word-spacing:-0.034em;">，还是</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0569em;"> Long</span><span class="stl_57 stl_08 stl_59" style="word-spacing:-0.0308em;"> 型的</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0308em;"> 2</span><span class="stl_57 stl_08 stl_59" style="word-spacing:-0.0308em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.8027em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:17.8027em; left:5.6063em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">. </span><span class="stl_17 stl_08 stl_20" style="word-spacing:0.3795em;">【推荐】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">不要使用一个常量类维护所有常量，要按常量功能进行归类，分开维护。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.6642em; left:6.5229em;"><span class="stl_56 stl_08 stl_13">说明：</span><span class="stl_57 stl_08 stl_13">大而全的常量类，杂乱无章，使用查找功能才能定位到修改的常量，不利于理解和维护。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.4142em; left:6.5438em;"><span class="stl_58 stl_08 stl_74" style="word-spacing:-0.0321em;">正例：</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0321em;">缓存相关常量放在类 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0321em;">CacheConsts </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0321em;">下；系统配置相关常量放在类 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0321em;">ConfigConsts </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0321em;">下。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7211em; left:5.0229em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">4. </span><span class="stl_17 stl_08 stl_09" style="word-spacing:0.3801em;">【推荐】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">常量的复用层次有五层：跨应用共享常量、应用内共享常量、子工程内共享常量、 &nbsp;</span></div>
					<div class="stl_01" style="top:25.4711em; left:6.5229em;"><span class="stl_23 stl_08 stl_09">包内共享常量、类内共享常量。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3325em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:29.1033em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:27.3325em; left:7.4813em;"><span class="stl_57 stl_08 stl_107" style="word-spacing:0.2094em;">） 跨应用共享常量：放置在二方库中，通常是</span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.0234em;"> client.jar</span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.028em;"> 中的</span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.031em;"> constant</span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0176em;"> 目录下。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1033em; left:7.4813em;"><span class="stl_57 stl_08 stl_64" style="word-spacing:0.2073em;">） 应用内共享常量：放置在一方库中，通常是子模块中的</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0332em;"> constant</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0198em;"> 目录下。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8533em; left:6.9604em;"><span class="stl_54 stl_08 stl_15">反例：</span><span class="stl_57 stl_08 stl_15">易懂变量也要统一定义成应用内共享常量，两位工程师在两个类中分别定义了“</span><span class="stl_38 stl_08 stl_15">YES</span><span class="stl_57 stl_08 stl_15">”的变量： &nbsp;</span></div>
					<div class="stl_01" style="top:32.6258em; left:8.275em;"><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0081em;">类 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0081em;">A </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0081em;">中：</span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0081em;">public static final String YES = "yes"; &nbsp;</span></div>
					<div class="stl_01" style="top:34.3758em; left:8.275em;"><span class="stl_57 stl_08 stl_37" style="word-spacing:-0.0167em;">类 </span><span class="stl_38 stl_08 stl_37" style="word-spacing:-0.0167em;">B </span><span class="stl_57 stl_08 stl_37" style="word-spacing:-0.0167em;">中：</span><span class="stl_38 stl_08 stl_37" style="word-spacing:-0.0167em;">public static final String YES = "y"; &nbsp;</span></div>
					<div class="stl_01" style="top:36.1467em; left:8.275em;"><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0301em;">A.YES.equals(B.YES)</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0301em;">，预期是 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0301em;">true</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0301em;">，但实际返回为 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0301em;">false</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0301em;">，导致线上问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9175em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:39.67em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:41.4408em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:37.9175em; left:7.5042em;"><span class="stl_57 stl_08 stl_108" style="word-spacing:0.2059em;">） 子工程内部共享常量：即在当前子工程的</span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0246em;"> constant</span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0178em;"> 目录下。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.67em; left:7.5042em;"><span class="stl_57 stl_08 stl_109" style="word-spacing:0.2078em;">） 包内共享常量：即在当前包下单独的</span><span class="stl_38 stl_08 stl_109" style="word-spacing:-0.0226em;"> constant</span><span class="stl_57 stl_08 stl_109" style="word-spacing:-0.0188em;"> 目录下。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4408em; left:7.5042em;"><span class="stl_57 stl_08 stl_12" style="word-spacing:0.2043em;">） 类内共享常量：直接在类内部</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.029em;"> private</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.007em;"> static</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0111em;"> final</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0267em;"> 定义。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.7252em; left:5.0229em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3793em;">5. </span><span class="stl_17 stl_08 stl_13" style="word-spacing:0.3793em;">【推荐】</span><span class="stl_65 stl_08 stl_13" style="word-spacing:0.3793em;">如果变量值仅在一个固定范围内变化用</span><span class="stl_78 stl_08 stl_13" style="word-spacing:-0.0383em;"> enum</span><span class="stl_65 stl_08 stl_13" style="word-spacing:-0.0446em;"> 类型来定义。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.5883em; left:6.5229em;"><span class="stl_56 stl_08 stl_26" style="word-spacing:-0.0345em;">说明：</span><span class="stl_66 stl_08 stl_26" style="word-spacing:-0.0345em;">如果存在名称之外的延伸属性应使用 </span><span class="stl_67 stl_08 stl_26" style="word-spacing:-0.0345em;">enum </span><span class="stl_66 stl_08 stl_26" style="word-spacing:-0.0345em;">类型，下面正例中的数字就是延伸信息，表示一年中的 &nbsp;</span></div>
					<div class="stl_01" style="top:47.3592em; left:6.5229em;"><span class="stl_66 stl_08 stl_09">第几个季节。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.1092em; left:6.5229em;"><span class="stl_58 stl_08 stl_09">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:50.6998em; left:8.0458em;"><span class="stl_79 stl_08 stl_64" style="word-spacing:0.018em;">public enum </span><span class="stl_48 stl_08 stl_64" style="word-spacing:0.018em;">SeasonEnum </span><span class="stl_80 stl_08 stl_64" style="word-spacing:0.018em;">{ &nbsp;</span></div>
					<div class="stl_01" style="top:51.8664em; left:9.5458em;"><span class="stl_84 stl_08 stl_110" style="word-spacing:-0.0118em;">SPRING</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0118em;">(</span><span class="stl_86 stl_08 stl_110" style="word-spacing:-0.0118em;">1</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0118em;">), </span><span class="stl_84 stl_08 stl_110" style="word-spacing:-0.0118em;">SUMMER</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0118em;">(</span><span class="stl_86 stl_08 stl_110" style="word-spacing:-0.0118em;">2</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0118em;">), </span><span class="stl_84 stl_08 stl_110" style="word-spacing:-0.0118em;">AUTUMN</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0118em;">(</span><span class="stl_86 stl_08 stl_110" style="word-spacing:-0.0118em;">3</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0118em;">), </span><span class="stl_84 stl_08 stl_110" style="word-spacing:-0.0118em;">WINTER</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0118em;">(</span><span class="stl_86 stl_08 stl_110" style="word-spacing:-0.0118em;">4</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0118em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:54.2023em; left:9.5458em;"><span class="stl_79 stl_08 stl_111" style="word-spacing:-0.0007em;">private int </span><span class="stl_48 stl_08 stl_111" style="word-spacing:-0.0007em;">seq</span><span class="stl_80 stl_08 stl_111" style="word-spacing:-0.0007em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:55.3689em; left:9.5458em;"><span class="stl_84 stl_08 stl_90" style="word-spacing:0.0025em;">SeasonEnum</span><span class="stl_80 stl_08 stl_90" style="word-spacing:0.0025em;">(</span><span class="stl_79 stl_08 stl_90" style="word-spacing:0.0025em;">int </span><span class="stl_48 stl_08 stl_90" style="word-spacing:0.0025em;">seq</span><span class="stl_80 stl_08 stl_90" style="word-spacing:0.0025em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:56.5356em; left:11.0458em;"><span class="stl_79 stl_08 stl_111" style="word-spacing:-0.0023em;">this</span><span class="stl_80 stl_08 stl_111" style="word-spacing:-0.0023em;">.</span><span class="stl_48 stl_08 stl_111" style="word-spacing:-0.0023em;">seq </span><span class="stl_88 stl_08 stl_111" style="word-spacing:-0.0023em;">= </span><span class="stl_48 stl_08 stl_111" style="word-spacing:-0.0023em;">seq</span><span class="stl_80 stl_08 stl_111" style="word-spacing:-0.0023em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:57.7023em; left:9.5458em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:58.8689em; left:9.5458em;"><span class="stl_79 stl_08 stl_74" style="word-spacing:0.0082em;">public int </span><span class="stl_84 stl_08 stl_74" style="word-spacing:0.0082em;">getSeq</span><span class="stl_80 stl_08 stl_74" style="word-spacing:0.0082em;">() { &nbsp;</span></div>
					<div class="stl_01" style="top:60.0373em; left:11.0458em;"><span class="stl_79 stl_08 stl_112" style="word-spacing:0.0142em;">return </span><span class="stl_48 stl_08 stl_112" style="word-spacing:0.0142em;">seq</span><span class="stl_80 stl_08 stl_112" style="word-spacing:0.0142em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:61.2043em; left:9.5458em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:62.371em; left:8.0458em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_09">4</span></div>
					<div class="stl_01" style="top:68.6442em; left:46.2475em;"><span class="stl_75 stl_76 stl_12">/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_10.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_10.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.6028em; left:3.5438em;"><span class="stl_51 stl_08 stl_15" style="word-spacing:0.3698em;">(</span><span class="stl_52 stl_08 stl_15" style="word-spacing:0.3698em;">三</span><span class="stl_51 stl_08 stl_15" style="word-spacing:0.3698em;">) </span><span class="stl_52 stl_08 stl_15" style="word-spacing:0.3698em;">代码格式 &nbsp;</span></div>
					<div class="stl_01" style="top:6.5902em; left:5.0438em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3798em;">1. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3798em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3798em;">如果是大括号内为空，则简洁地写成</span><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3798em;">{}</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3798em;">即可，大括号中间无需换行和空格；如果是非 &nbsp;</span></div>
					<div class="stl_01" style="top:8.3611em; left:6.5438em;"><span class="stl_23 stl_08 stl_13">空代码块则： &nbsp;</span></div>
					<div class="stl_01" style="top:10.2033em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:11.9742em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:13.745em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:15.495em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:10.2033em; left:7.5042em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2041em;">） 左大括号前不换行。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.9742em; left:7.5042em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2041em;">） 左大括号后换行。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.745em; left:7.5042em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2041em;">） 右大括号前换行。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.495em; left:7.5042em;"><span class="stl_57 stl_08 stl_68" style="word-spacing:0.206em;">） 右大括号后还有</span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0292em;"> else</span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0263em;"> 等代码则不换行；表示终止的右大括号后必须换行。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.8027em; left:5.0229em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">2. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3794em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">左小括号和字符之间不出现空格</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.4336em;">；</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">同样，右小括号和字符之间也不出现空格；而左 &nbsp;</span></div>
					<div class="stl_01" style="top:19.5527em; left:6.5229em;"><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0481em;">大括号前需要空格。详见第 </span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0481em;">5 </span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0481em;">条下方正例提示。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.4142em; left:6.5438em;"><span class="stl_54 stl_08 stl_74" style="word-spacing:-0.0169em;">反例：</span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0169em;">if (</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0169em;">空格 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0169em;">a == b </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0169em;">空格</span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0169em;">) &nbsp;</span></div>
					<div class="stl_01" style="top:23.7211em; left:5.0438em;"><span class="stl_27 stl_08 stl_30" style="word-spacing:0.3806em;">3. </span><span class="stl_53 stl_08 stl_30" style="word-spacing:0.3806em;">【强制】</span><span class="stl_27 stl_08 stl_30" style="word-spacing:0.3806em;">if/for/while/switch/do</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0229em;"> 等保留字与括号之间都必须加空格。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0961em; left:5.0438em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">4. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">任何二目、三目运算符的左右两边都需要加一个空格。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9575em; left:6.5438em;"><span class="stl_56 stl_08 stl_24">说明：</span><span class="stl_57 stl_08 stl_24">运算符包括赋值运算符</span><span class="stl_38 stl_08 stl_24">=</span><span class="stl_57 stl_08 stl_24">、逻辑运算符</span><span class="stl_38 stl_08 stl_24">&amp;&amp;</span><span class="stl_57 stl_08 stl_24">、加减乘除符号等。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.2419em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:30.2419em; left:5.6063em;"><span class="stl_27 stl_08 stl_30" style="word-spacing:0.3807em;">. </span><span class="stl_53 stl_08 stl_30" style="word-spacing:0.3807em;">【强制】</span><span class="stl_23 stl_08 stl_30" style="word-spacing:0.3807em;">采用</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.0428em;"> 4</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0484em;"> 个空格缩进，禁止使用</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.0428em;"> tab</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0376em;"> 字符。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.105em; left:6.5438em;"><span class="stl_56 stl_08 stl_113" style="word-spacing:-0.0301em;">说明：</span><span class="stl_57 stl_08 stl_113" style="word-spacing:-0.0301em;">如果使用 </span><span class="stl_38 stl_08 stl_113" style="word-spacing:-0.0301em;">tab </span><span class="stl_57 stl_08 stl_113" style="word-spacing:-0.0301em;">缩进，必须设置 </span><span class="stl_38 stl_08 stl_113" style="word-spacing:-0.0301em;">1 </span><span class="stl_57 stl_08 stl_113" style="word-spacing:-0.0301em;">个 </span><span class="stl_38 stl_08 stl_113" style="word-spacing:-0.0301em;">tab </span><span class="stl_57 stl_08 stl_113" style="word-spacing:-0.0301em;">为 </span><span class="stl_38 stl_08 stl_113" style="word-spacing:-0.0301em;">4 </span><span class="stl_57 stl_08 stl_113" style="word-spacing:-0.0301em;">个空格。</span><span class="stl_38 stl_08 stl_113" style="word-spacing:-0.0301em;">IDEA </span><span class="stl_57 stl_08 stl_113" style="word-spacing:-0.0301em;">设置 </span><span class="stl_38 stl_08 stl_113" style="word-spacing:-0.0301em;">tab </span><span class="stl_57 stl_08 stl_113" style="word-spacing:-0.0301em;">为 </span><span class="stl_38 stl_08 stl_113" style="word-spacing:-0.0301em;">4 </span><span class="stl_57 stl_08 stl_113" style="word-spacing:-0.0301em;">个空格时，请勿勾选 </span><span class="stl_55 stl_08 stl_113" style="word-spacing:-0.0301em;">Use &nbsp;</span></div>
					<div class="stl_01" style="top:33.8758em; left:6.5438em;"><span class="stl_55 stl_08 stl_26" style="word-spacing:-0.0181em;">tab character</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0181em;">；而在 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0181em;">eclipse </span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0181em;">中，必须勾选 </span><span class="stl_55 stl_08 stl_26" style="word-spacing:-0.0181em;">insert spaces for tabs</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0181em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.6258em; left:6.5438em;"><span class="stl_58 stl_08 stl_111" style="word-spacing:-0.0245em;">正例： </span><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.0245em;">（涉及 </span><span class="stl_38 stl_08 stl_111" style="word-spacing:-0.0245em;">1-5 </span><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.0245em;">点） &nbsp;</span></div>
					<div class="stl_01" style="top:37.8414em; left:8.0458em;"><span class="stl_46 stl_08 stl_59" style="word-spacing:0.2003em;">public static void main(String[] args) { &nbsp;</span></div>
					<div class="stl_01" style="top:39.0106em; left:9.5458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:39.0106em; left:9.8583em;"><span class="stl_82 stl_08 stl_09" style="word-spacing:0.1935em;">/ </span><span class="stl_83 stl_08 stl_09" style="word-spacing:0.1935em;">缩进</span><span class="stl_82 stl_08 stl_09" style="word-spacing:-0.0459em;"> 4</span><span class="stl_83 stl_08 stl_09" style="word-spacing:-0.0457em;"> 个空格 &nbsp;</span></div>
					<div class="stl_01" style="top:40.1773em; left:9.5458em;"><span class="stl_46 stl_08 stl_102" style="word-spacing:0.2041em;">String say = "hello"; &nbsp;</span></div>
					<div class="stl_01" style="top:41.3439em; left:9.8583em;"><span class="stl_82 stl_08 stl_09" style="word-spacing:0.1935em;">/ </span><span class="stl_83 stl_08 stl_09" style="word-spacing:0.1935em;">运算符的左右必须有一个空格 &nbsp;</span></div>
					<div class="stl_01" style="top:42.5106em; left:9.5458em;"><span class="stl_46 stl_08 stl_37" style="word-spacing:0.2012em;">int flag =</span><span class="stl_46 stl_08 stl_37" style="word-spacing:0.2012em;"> 0; &nbsp;</span></div>
					<div class="stl_01" style="top:43.6773em; left:9.8583em;"><span class="stl_82 stl_08 stl_110" style="word-spacing:0.1906em;">/ </span><span class="stl_83 stl_08 stl_110" style="word-spacing:0.1906em;">关键词</span><span class="stl_82 stl_08 stl_110" style="word-spacing:-0.0455em;"> if</span><span class="stl_83 stl_08 stl_110" style="word-spacing:-0.0622em;"> 与括号之间必须有一个空格，括号内的</span><span class="stl_82 stl_08 stl_110" style="word-spacing:-0.0488em;"> f</span><span class="stl_83 stl_08 stl_110" style="word-spacing:-0.0622em;"> 与左括号，</span><span class="stl_82 stl_08 stl_110" style="word-spacing:-0.0622em;">0</span><span class="stl_83 stl_08 stl_110" style="word-spacing:-0.0519em;"> 与右括号不需要空格 &nbsp;</span></div>
					<div class="stl_01" style="top:44.8439em; left:9.5458em;"><span class="stl_46 stl_08 stl_114" style="word-spacing:0.1967em;">if (flag == 0)</span><span class="stl_46 stl_08 stl_114" style="word-spacing:0.1967em;"> { &nbsp;</span></div>
					<div class="stl_01" style="top:46.0123em; left:11.0458em;"><span class="stl_46 stl_08 stl_37">System.out.println(say); &nbsp;</span></div>
					<div class="stl_01" style="top:41.3439em; left:9.5458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:43.6773em; left:9.5458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:47.1789em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:49.5123em; left:9.5458em;"><span class="stl_82 stl_08 stl_49" style="word-spacing:0.1946em;">// </span><span class="stl_83 stl_08 stl_49" style="word-spacing:0.1946em;">左大括号前加空格且不换行；左大括号后换行 &nbsp;</span></div>
					<div class="stl_01" style="top:50.6789em; left:9.5458em;"><span class="stl_46 stl_08 stl_114" style="word-spacing:0.1967em;">if (flag == 1)</span><span class="stl_46 stl_08 stl_114" style="word-spacing:0.1967em;"> { &nbsp;</span></div>
					<div class="stl_01" style="top:51.8456em; left:11.0458em;"><span class="stl_46 stl_08 stl_09">System.out.println("world"); &nbsp;</span></div>
					<div class="stl_01" style="top:53.0148em; left:9.8583em;"><span class="stl_82 stl_08 stl_09" style="word-spacing:0.1935em;">/ </span><span class="stl_83 stl_08 stl_09" style="word-spacing:0.1935em;">右大括号前换行，右大括号后有</span><span class="stl_82 stl_08 stl_09" style="word-spacing:-0.0404em;"> else</span><span class="stl_83 stl_08 stl_09" style="word-spacing:-0.0404em;">，不用换行 &nbsp;</span></div>
					<div class="stl_01" style="top:54.1814em; left:10.1698em;"><span class="stl_46 stl_08 stl_47" style="word-spacing:0.1866em;">else { &nbsp;</span></div>
					<div class="stl_01" style="top:55.3481em; left:11.0458em;"><span class="stl_46 stl_08 stl_24">System.out.println("ok"); &nbsp;</span></div>
					<div class="stl_01" style="top:56.5148em; left:9.8583em;"><span class="stl_82 stl_08 stl_09" style="word-spacing:0.1935em;">/ </span><span class="stl_83 stl_08 stl_09" style="word-spacing:0.1935em;">在右大括号后直接结束，则必须换行 &nbsp;</span></div>
					<div class="stl_01" style="top:53.0148em; left:9.5458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:54.1814em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:56.5148em; left:9.5458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:57.6814em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:58.8481em; left:8.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:60.9815em; left:5.0229em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">6. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">注释的双斜线与注释内容之间有且仅有一个空格。 &nbsp;</span></div>
					<div class="stl_01" style="top:62.8429em; left:6.5438em;"><span class="stl_58 stl_08 stl_09">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:65.0377em; left:7.3563em;"><span class="stl_82 stl_08 stl_49" style="word-spacing:0.1973em;">// </span><span class="stl_83 stl_08 stl_49" style="word-spacing:0.1973em;">这是示例注释，请注意在双斜线之后有一个空格 &nbsp;</span></div>
					<div class="stl_01" style="top:66.2043em; left:7.3563em;"><span class="stl_48 stl_08 stl_24" style="word-spacing:0.0063em;">String param </span><span class="stl_88 stl_08 stl_24" style="word-spacing:0.0063em;">= </span><span class="stl_79 stl_08 stl_24" style="word-spacing:0.0063em;">new </span><span class="stl_48 stl_08 stl_24" style="word-spacing:0.0063em;">String</span><span class="stl_80 stl_08 stl_24" style="word-spacing:0.0063em;">(); &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_09">5</span></div>
					<div class="stl_01" style="top:68.6442em; left:46.2475em;"><span class="stl_75 stl_76 stl_12">/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_11.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_11.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0229em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">7. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">在进行类型强制转换时，右括号与强制转换值之间不需要任何空格隔开。 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5229em;"><span class="stl_58 stl_08 stl_09">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:6.5006em; left:7.3771em;"><span class="stl_79 stl_08 stl_77" style="word-spacing:0.0031em;">long </span><span class="stl_48 stl_08 stl_77" style="word-spacing:0.0031em;">first </span><span class="stl_88 stl_08 stl_77" style="word-spacing:0.0031em;">= </span><span class="stl_48 stl_08 stl_77" style="word-spacing:0.0031em;">1000000000000L</span><span class="stl_80 stl_08 stl_77" style="word-spacing:0.0031em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:7.6673em; left:7.3771em;"><span class="stl_79 stl_08 stl_20" style="word-spacing:0.0037em;">int </span><span class="stl_48 stl_08 stl_20" style="word-spacing:0.0037em;">second </span><span class="stl_88 stl_08 stl_20" style="word-spacing:0.0037em;">= </span><span class="stl_80 stl_08 stl_20" style="word-spacing:0.0037em;">(</span><span class="stl_79 stl_08 stl_20" style="word-spacing:0.0037em;">int</span><span class="stl_80 stl_08 stl_20" style="word-spacing:0.0037em;">)</span><span class="stl_48 stl_08 stl_20" style="word-spacing:0.0037em;">first </span><span class="stl_88 stl_08 stl_20" style="word-spacing:0.0037em;">+ </span><span class="stl_86 stl_08 stl_20" style="word-spacing:0.0037em;">2</span><span class="stl_80 stl_08 stl_20" style="word-spacing:0.0037em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:9.4236em; left:5.0229em;"><span class="stl_27 stl_08 stl_12" style="word-spacing:0.3803em;">8. </span><span class="stl_53 stl_08 stl_12" style="word-spacing:0.3803em;">【强制】</span><span class="stl_23 stl_08 stl_12" style="word-spacing:0.3803em;">单行字符数限制不超过</span><span class="stl_27 stl_08 stl_12" style="word-spacing:-0.0415em;"> 120</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0463em;"> 个，超出需要换行，换行时遵循如下原则： &nbsp;</span></div>
					<div class="stl_01" style="top:11.2867em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:13.0367em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:14.8075em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:16.5783em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:18.3308em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:11.2867em; left:7.4813em;"><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0378em;">）第二行相对第一行缩进 </span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0378em;">4 </span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0378em;">个空格，从第三行开始，不再继续缩进，参考示例。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.0367em; left:7.4813em;"><span class="stl_57 stl_08 stl_24">）运算符与下文一起换行。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.8075em; left:7.4813em;"><span class="stl_57 stl_08 stl_15">）方法调用的点符号与下文一起换行。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.5783em; left:7.4813em;"><span class="stl_57 stl_08 stl_37">）方法调用中的多个参数需要换行时，在逗号后进行。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.3308em; left:7.4813em;"><span class="stl_57 stl_08 stl_37">）在括号前不要换行，见</span><span class="stl_54 stl_08 stl_37">反例</span><span class="stl_57 stl_08 stl_37">。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.1017em; left:6.5229em;"><span class="stl_58 stl_08 stl_09">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:21.6714em; left:8.0458em;"><span class="stl_46 stl_08 stl_110" style="word-spacing:0.2177em;">StringBuilder sb</span><span class="stl_46 stl_08 stl_110" style="word-spacing:0.1725em;"> =</span><span class="stl_46 stl_08 stl_110" style="word-spacing:0.2004em;"> new</span><span class="stl_46 stl_08 stl_110" style="word-spacing:0.2004em;"> StringBuilder(); &nbsp;</span></div>
					<div class="stl_01" style="top:22.8381em; left:8.3583em;"><span class="stl_82 stl_08 stl_59" style="word-spacing:0.1916em;">/ </span><span class="stl_83 stl_08 stl_59" style="word-spacing:0.1916em;">超过</span><span class="stl_82 stl_08 stl_59" style="word-spacing:-0.0478em;"> 120</span><span class="stl_83 stl_08 stl_59" style="word-spacing:-0.0509em;"> 个字符的情况下，换行缩进</span><span class="stl_82 stl_08 stl_59" style="word-spacing:-0.0423em;"> 4</span><span class="stl_83 stl_08 stl_59" style="word-spacing:-0.0509em;"> 个空格，点号和方法名称一起换行 &nbsp;</span></div>
					<div class="stl_01" style="top:24.0064em; left:8.0458em;"><span class="stl_46 stl_08 stl_59">sb.append("Jack").append("Ma")... &nbsp;</span></div>
					<div class="stl_01" style="top:22.8381em; left:8.0458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:25.1731em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">.</span></div>
					<div class="stl_01" style="top:26.3398em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">.</span></div>
					<div class="stl_01" style="top:27.5064em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">.</span></div>
					<div class="stl_01" style="top:25.1731em; left:9.7326em;"><span class="stl_46 stl_08 stl_12">append("alibaba")... &nbsp;</span></div>
					<div class="stl_01" style="top:26.3398em; left:9.7326em;"><span class="stl_46 stl_08 stl_12">append("alibaba")... &nbsp;</span></div>
					<div class="stl_01" style="top:27.5064em; left:9.7326em;"><span class="stl_46 stl_08 stl_39">append("alibaba"); &nbsp;</span></div>
					<div class="stl_01" style="top:28.8533em; left:6.5438em;"><span class="stl_54 stl_08 stl_09">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:30.4439em; left:8.0458em;"><span class="stl_46 stl_08 stl_110" style="word-spacing:0.2177em;">StringBuilder sb</span><span class="stl_46 stl_08 stl_110" style="word-spacing:0.1725em;"> =</span><span class="stl_46 stl_08 stl_110" style="word-spacing:0.2004em;"> new</span><span class="stl_46 stl_08 stl_110" style="word-spacing:0.2004em;"> StringBuilder(); &nbsp;</span></div>
					<div class="stl_01" style="top:31.6123em; left:8.3583em;"><span class="stl_82 stl_08 stl_24" style="word-spacing:0.1932em;">/ </span><span class="stl_83 stl_08 stl_24" style="word-spacing:0.1932em;">超过</span><span class="stl_82 stl_08 stl_24" style="word-spacing:-0.0462em;"> 120</span><span class="stl_83 stl_08 stl_24" style="word-spacing:-0.0493em;"> 个字符的情况下，不要在</span><span class="stl_115 stl_08 stl_24" style="word-spacing:-0.0493em;">括号前</span><span class="stl_83 stl_08 stl_24" style="word-spacing:-0.0493em;">换行 &nbsp;</span></div>
					<div class="stl_01" style="top:32.7789em; left:8.0458em;"><span class="stl_46 stl_08 stl_102">sb.append("Jack").append("Ma")...append &nbsp;</span></div>
					<div class="stl_01" style="top:33.9456em; left:9.7958em;"><span class="stl_46 stl_08 stl_116">"alibaba"); &nbsp;</span></div>
					<div class="stl_01" style="top:31.6123em; left:8.0458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:33.9456em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">(</span></div>
					<div class="stl_01" style="top:36.2789em; left:8.0458em;"><span class="stl_82 stl_08 stl_90" style="word-spacing:0.192em;">// </span><span class="stl_83 stl_08 stl_90" style="word-spacing:0.192em;">参数很多的方法调用可能超过</span><span class="stl_82 stl_08 stl_90" style="word-spacing:-0.0452em;"> 120</span><span class="stl_83 stl_08 stl_90" style="word-spacing:-0.0505em;"> 个字符，不要在</span><span class="stl_115 stl_08 stl_90" style="word-spacing:-0.0505em;">逗号前</span><span class="stl_83 stl_08 stl_90" style="word-spacing:-0.0505em;">换行 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4456em; left:8.4208em;"><span class="stl_46 stl_08 stl_64" style="word-spacing:0.2092em;">method(args1, args2, args3, ... &nbsp;</span></div>
					<div class="stl_01" style="top:38.6148em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">,</span></div>
					<div class="stl_01" style="top:38.6148em; left:10.1068em;"><span class="stl_46 stl_08 stl_117">argsX); &nbsp;</span></div>
					<div class="stl_01" style="top:40.7461em; left:5.0229em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">9. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">方法参数在定义和传入时，多个参数逗号后边必须加空格。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.6075em; left:6.5229em;"><span class="stl_58 stl_08 stl_09" style="word-spacing:-0.0311em;">正例：</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0311em;">下例中实参的 </span><span class="stl_104 stl_08 stl_09" style="word-spacing:-0.0311em;">args1</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0311em;">，后边必须要有一个空格。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1773em; left:9.5458em;"><span class="stl_46 stl_08 stl_102" style="word-spacing:0.2071em;">method(args1, args2, args3); &nbsp;</span></div>
					<div class="stl_01" style="top:46.3311em; left:5.0229em;"><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.037em;">10.</span><span class="stl_53 stl_08 stl_47" style="word-spacing:-0.037em;">【强制】</span><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.037em;">IDE </span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.037em;">的 </span><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.037em;">text file encoding </span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.037em;">设置为 </span><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.037em;">UTF-8; IDE </span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.037em;">中文件的换行符使用 </span><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.037em;">Unix </span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.037em;">格式，不 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0819em; left:6.5229em;"><span class="stl_23 stl_08 stl_59" style="word-spacing:-0.0457em;">要使用 </span><span class="stl_27 stl_08 stl_59" style="word-spacing:-0.0457em;">Windows </span><span class="stl_23 stl_08 stl_59" style="word-spacing:-0.0457em;">格式。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8519em; left:5.0229em;"><span class="stl_27 stl_08 stl_118" style="word-spacing:-0.0531em;">11.</span><span class="stl_17 stl_08 stl_118" style="word-spacing:-0.0531em;">【推荐】</span><span class="stl_65 stl_08 stl_118" style="word-spacing:-0.0531em;">单个方法的总行数不超过 </span><span class="stl_78 stl_08 stl_118" style="word-spacing:-0.0531em;">80 </span><span class="stl_65 stl_08 stl_118" style="word-spacing:-0.0531em;">行。 &nbsp;</span></div>
					<div class="stl_01" style="top:51.6925em; left:6.5229em;"><span class="stl_56 stl_08 stl_20">说明：</span><span class="stl_66 stl_08 stl_20">除注释之外的方法签名、左右大括号、方法内代码、空行、回车及任何不可见字符的总行数不超过 &nbsp;</span></div>
					<div class="stl_01" style="top:53.4658em; left:6.5229em;"><span class="stl_67 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:53.4658em; left:7.0438em;"><span class="stl_67 stl_08 stl_09" style="word-spacing:-0.0228em;">0 </span><span class="stl_66 stl_08 stl_09" style="word-spacing:-0.0228em;">行。 &nbsp;</span></div>
					<div class="stl_01" style="top:55.2367em; left:6.5229em;"><span class="stl_58 stl_08 stl_15">正例：</span><span class="stl_66 stl_08 stl_15">代码逻辑分清红花和绿叶，个性和共性，绿叶逻辑单独出来成为额外方法，使主干代码更加清晰； &nbsp;</span></div>
					<div class="stl_01" style="top:56.9867em; left:6.5229em;"><span class="stl_66 stl_08 stl_37">共性逻辑抽取成为共性方法，便于复用和维护。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.6669em; left:5.0229em;"><span class="stl_27 stl_08 stl_89">12.</span><span class="stl_17 stl_08 stl_89">【推荐】</span><span class="stl_23 stl_08 stl_89">没有必要增加若干空格来使变量的赋值等号与上一行对应位置的等号对齐。 &nbsp;</span></div>
					<div class="stl_01" style="top:60.5092em; left:6.5229em;"><span class="stl_58 stl_08 stl_09">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:62.1002em; left:8.0458em;"><span class="stl_46 stl_08 stl_62" style="word-spacing:0.1901em;">int one =</span><span class="stl_46 stl_08 stl_62" style="word-spacing:0.2085em;"> 1; &nbsp;</span></div>
					<div class="stl_01" style="top:63.2668em; left:8.0458em;"><span class="stl_46 stl_08 stl_119" style="word-spacing:0.2132em;">long two = 2L; &nbsp;</span></div>
					<div class="stl_01" style="top:64.4335em; left:8.0458em;"><span class="stl_46 stl_08 stl_120" style="word-spacing:0.1982em;">float three =</span><span class="stl_46 stl_08 stl_120" style="word-spacing:0.2146em;"> 3F; &nbsp;</span></div>
					<div class="stl_01" style="top:65.6002em; left:8.0458em;"><span class="stl_46 stl_08 stl_110" style="word-spacing:0.2177em;">StringBuilder sb</span><span class="stl_46 stl_08 stl_110" style="word-spacing:0.1725em;"> =</span><span class="stl_46 stl_08 stl_110" style="word-spacing:0.2004em;"> new</span><span class="stl_46 stl_08 stl_110" style="word-spacing:0.2004em;"> StringBuilder(); &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_09">6</span></div>
					<div class="stl_01" style="top:68.6442em; left:46.2475em;"><span class="stl_75 stl_76 stl_12">/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_12.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_12.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.16em; left:6.5438em;"><span class="stl_56 stl_08 stl_24" style="word-spacing:-0.0355em;">说明：</span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0355em;">增加 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0355em;">sb </span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0355em;">这个变量，如果需要对齐，则给 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0355em;">one</span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0355em;">、</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0355em;">two</span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0355em;">、</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0355em;">three </span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0355em;">都要增加几个空格，在变量比较多的情 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5438em;"><span class="stl_57 stl_08 stl_24">况下，是非常累赘的事情。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.0229em;"><span class="stl_27 stl_08 stl_116">13.</span><span class="stl_17 stl_08 stl_116">【推荐】</span><span class="stl_23 stl_08 stl_116">不同逻辑、不同语义、不同业务的代码之间插入一个空行分隔开来以提升可读性。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.0767em; left:6.5229em;"><span class="stl_56 stl_08 stl_20">说明：</span><span class="stl_57 stl_08 stl_20">任何情形，没有必要插入</span><span class="stl_121 stl_08 stl_20">多个空行</span><span class="stl_57 stl_08 stl_20">进行隔开。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.667em; left:3.5438em;"><span class="stl_51 stl_08 stl_122" style="word-spacing:0.3668em;">(</span><span class="stl_52 stl_08 stl_122" style="word-spacing:0.3668em;">四</span><span class="stl_51 stl_08 stl_122" style="word-spacing:0.3668em;">) OOP</span><span class="stl_52 stl_08 stl_122" style="word-spacing:-0.0486em;"> 规约 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6569em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">1. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">避免通过一个类的对象引用访问此类的静态变量或静态方法，无谓增加编译器解析 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4277em; left:6.5438em;"><span class="stl_23 stl_08 stl_13">成本，直接用</span><span class="stl_22 stl_08 stl_13">类名</span><span class="stl_23 stl_08 stl_13">来访问即可。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.8027em; left:5.0438em;"><span class="stl_27 stl_08 stl_49" style="word-spacing:0.381em;">2. </span><span class="stl_53 stl_08 stl_49" style="word-spacing:0.381em;">【强制】</span><span class="stl_23 stl_08 stl_49" style="word-spacing:0.381em;">所有的覆写方法，必须加</span><span class="stl_27 stl_08 stl_49" style="word-spacing:0.381em;">@</span><span class="stl_38 stl_08 stl_49" style="word-spacing:0.4354em;">Override</span><span class="stl_23 stl_08 stl_49" style="word-spacing:-0.0222em;"> 注解。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6642em; left:6.5438em;"><span class="stl_56 stl_08 stl_64" style="word-spacing:-0.0292em;">说明：</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0292em;">getObject()</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0292em;">与 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0292em;">get0bject()</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0292em;">的问题。一个是字母的 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0292em;">O</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0292em;">，一个是数字的 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0292em;">0</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0292em;">，加</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0292em;">@Override </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0292em;">可以准确判 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4367em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">断是否覆盖成功。另外，如果在抽象类中对方法签名进行修改，其实现类会马上编译报错。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7211em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:26.7211em; left:5.6063em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">相同参数类型，相同业务含义，才可以使用</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0435em;"> Java</span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0355em;"> 的可变参数，避免使用</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0483em;"> Object</span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0423em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.5825em; left:6.5229em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">可变参数必须放置在参数列表的最后。（提倡同学们尽量不用可变参数编程） &nbsp;</span></div>
					<div class="stl_01" style="top:30.3325em; left:6.5229em;"><span class="stl_58 stl_08 stl_30" style="word-spacing:0.0029em;">正例：</span><span class="stl_38 stl_08 stl_30" style="word-spacing:0.0029em;">public List&lt;User&gt; listUsers(String type, Long... ids) {...} &nbsp;</span></div>
					<div class="stl_01" style="top:32.8894em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">4. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">外部正在调用或者二方库依赖的接口，不允许修改方法签名，避免对接口调用方产 &nbsp;</span></div>
					<div class="stl_01" style="top:34.6602em; left:6.5438em;"><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0205em;">生影响。接口过时必须加</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.0205em;">@</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0234em;">Deprecated </span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0205em;">注解，并清晰地说明采用的新接口或者新服务是什 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4102em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">么。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.8086em; left:5.0438em;"><span class="stl_27 stl_08 stl_12" style="word-spacing:0.3802em;">5. </span><span class="stl_53 stl_08 stl_12" style="word-spacing:0.3802em;">【强制】</span><span class="stl_23 stl_08 stl_12" style="word-spacing:0.3802em;">不能使用过时的类或方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.67em; left:6.5438em;"><span class="stl_56 stl_08 stl_15" style="word-spacing:0.2136em;">说明：</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.2136em;">java.net.URLDecoder </span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2136em;">中的方法</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0342em;"> decode(String</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0068em;"> encodeStr)</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2206em;"> 这个方法已经过时，应该使用双参数 &nbsp;</span></div>
					<div class="stl_01" style="top:42.42em; left:6.5438em;"><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0086em;">decode(String source, String encode)</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0086em;">。接口提供方既然明确是过时接口，那么有义务同时提供新的接 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1908em; left:6.5438em;"><span class="stl_57 stl_08 stl_13">口；作为调用方来说，有义务去考证过时方法的新实现是什么。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.4769em; left:5.0438em;"><span class="stl_27 stl_08 stl_94" style="word-spacing:0.3814em;">6. </span><span class="stl_53 stl_08 stl_94" style="word-spacing:0.3814em;">【强制】</span><span class="stl_38 stl_08 stl_103" style="word-spacing:0.4358em;">Object</span><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.018em;"> 的</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.051em;"> equals</span><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.0343em;"> 方法容易抛空指针异常，应使用常量或确定有值的对象来调用 &nbsp;</span></div>
					<div class="stl_01" style="top:48.2486em; left:6.5438em;"><span class="stl_38 stl_08 stl_77">equals</span><span class="stl_23 stl_08 stl_98">。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.11em; left:6.5438em;"><span class="stl_58 stl_08 stl_30">正例：</span><span class="stl_38 stl_08 stl_30">"test".equals(object); &nbsp;</span></div>
					<div class="stl_01" style="top:51.8592em; left:6.5438em;"><span class="stl_54 stl_08 stl_30">反例：</span><span class="stl_38 stl_08 stl_30">object.equals("test"); &nbsp;</span></div>
					<div class="stl_01" style="top:53.6325em; left:6.5438em;"><span class="stl_56 stl_08 stl_94" style="word-spacing:-0.026em;">说明：</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.026em;">推荐使用 </span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.026em;">java.util.Objects#equals</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.026em;">（</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.026em;">JDK7 </span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.026em;">引入的工具类）。 &nbsp;</span></div>
					<div class="stl_01" style="top:55.9169em; left:5.0438em;"><span class="stl_27 stl_08 stl_62" style="word-spacing:0.3783em;">7. </span><span class="stl_53 stl_08 stl_62" style="word-spacing:0.3783em;">【强制】</span><span class="stl_23 stl_08 stl_62" style="word-spacing:0.3783em;">所有整型包装类对象之间</span><span class="stl_22 stl_08 stl_62" style="word-spacing:0.3783em;">值的比较，</span><span class="stl_23 stl_08 stl_62" style="word-spacing:0.3783em;">全部使用</span><span class="stl_27 stl_08 stl_62" style="word-spacing:-0.046em;"> equals</span><span class="stl_23 stl_08 stl_62" style="word-spacing:-0.0471em;"> 方法比较。 &nbsp;</span></div>
					<div class="stl_01" style="top:57.7783em; left:6.5438em;"><span class="stl_56 stl_08 stl_68" style="word-spacing:-0.0321em;">说明：</span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0321em;">对于 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0321em;">Integer</span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0088em;"> var</span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0018em;"> =</span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0119em;"> ?</span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0119em;"> 在</span><span class="stl_104 stl_08 stl_68" style="word-spacing:0.2012em;">-128</span><span class="stl_121 stl_08 stl_68" style="word-spacing:-0.0233em;"> 至</span><span class="stl_104 stl_08 stl_68" style="word-spacing:-0.0321em;"> 127</span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0204em;"> 范围内的赋值，</span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0204em;">Integer</span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0266em;"> 对象是在</span><span class="stl_38 stl_08 stl_68" style="word-spacing:0.206em;"> IntegerCache.cache</span><span class="stl_57 stl_08 stl_68" style="word-spacing:0.206em;"> 产 &nbsp;</span></div>
					<div class="stl_01" style="top:59.5508em; left:6.5438em;"><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0258em;">生，会复用已有对象，这个区间内的 </span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0258em;">Integer </span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0258em;">值可以直接使用</span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0258em;">==</span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0258em;">进行判断，但是这个区间之外的所有数 &nbsp;</span></div>
					<div class="stl_01" style="top:61.3012em; left:6.5438em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0314em;">据，都会在堆上产生，并不会复用已有对象，这是一个大坑，推荐使用 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0314em;">equals </span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0314em;">方法进行判断。 &nbsp;</span></div>
					<div class="stl_01" style="top:63.6065em; left:5.0229em;"><span class="stl_27 stl_08 stl_39" style="word-spacing:0.3788em;">8. </span><span class="stl_53 stl_08 stl_39" style="word-spacing:0.3788em;">【强制】</span><span class="stl_23 stl_08 stl_39" style="word-spacing:0.3788em;">浮点数之间的等值判断，基本数据类型不能用</span><span class="stl_27 stl_08 stl_39" style="word-spacing:0.3788em;">==</span><span class="stl_23 stl_08 stl_39" style="word-spacing:0.3788em;">来比较，包装数据类型不能用 &nbsp;</span></div>
					<div class="stl_01" style="top:65.3565em; left:6.5229em;"><span class="stl_27 stl_08 stl_89" style="word-spacing:-0.0512em;">equals </span><span class="stl_23 stl_08 stl_89" style="word-spacing:-0.0512em;">来判断。 &nbsp;</span></div>
					<div class="stl_01" style="top:67.22em; left:6.5229em;"><span class="stl_56 stl_08 stl_24">说明：</span><span class="stl_66 stl_08 stl_24">浮点数采用“尾数</span><span class="stl_67 stl_08 stl_24">+</span><span class="stl_66 stl_08 stl_24">阶码”的编码方式，类似于科学计数法的“有效数字</span><span class="stl_67 stl_08 stl_24">+</span><span class="stl_66 stl_08 stl_24">指数”的表示方式。二进 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_09">7</span></div>
					<div class="stl_01" style="top:68.6442em; left:46.2475em;"><span class="stl_75 stl_76 stl_12">/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_13.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_13.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.16em; left:6.5229em;"><a href="https://detail.tmall.com/item.htm?spm=a1z10.3-b.w4011-16861154605.57.37a81b8bGVGoJD&amp;id=575107529181&amp;rn=f1294dc1e36859a5098c36756bafb4a0&amp;abbucket=18" target="_blank"><span class="stl_66 stl_08 stl_13">制无法精确表示大部分的十进制小数，具体原理参考</span></a><a href="https://detail.tmall.com/item.htm?spm=a1z10.3-b.w4011-16861154605.57.37a81b8bGVGoJD&amp;id=575107529181&amp;rn=f1294dc1e36859a5098c36756bafb4a0&amp;abbucket=18" target="_blank"><span class="stl_123 stl_08 stl_13">《码出高效》</span></a><a href="https://detail.tmall.com/item.htm?spm=a1z10.3-b.w4011-16861154605.57.37a81b8bGVGoJD&amp;id=575107529181&amp;rn=f1294dc1e36859a5098c36756bafb4a0&amp;abbucket=18" target="_blank"><span class="stl_66 stl_08 stl_13">。 &nbsp;</span></a></div>
					<div class="stl_01" style="top:4.9308em; left:6.5229em;"><span class="stl_54 stl_08 stl_09">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:6.5006em; left:8.0458em;"><span class="stl_79 stl_08 stl_64" style="word-spacing:0.0054em;">float </span><span class="stl_48 stl_08 stl_64" style="word-spacing:0.0054em;">a </span><span class="stl_88 stl_08 stl_64" style="word-spacing:0.0054em;">= </span><span class="stl_86 stl_08 stl_64" style="word-spacing:0.0054em;">1.0f </span><span class="stl_88 stl_08 stl_64" style="word-spacing:0.0054em;">- </span><span class="stl_86 stl_08 stl_64" style="word-spacing:0.0054em;">0.9f</span><span class="stl_80 stl_08 stl_64" style="word-spacing:0.0054em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:7.6673em; left:8.0458em;"><span class="stl_79 stl_08 stl_64" style="word-spacing:0.0049em;">float </span><span class="stl_48 stl_08 stl_64" style="word-spacing:0.0049em;">b </span><span class="stl_88 stl_08 stl_64" style="word-spacing:0.0049em;">= </span><span class="stl_86 stl_08 stl_64" style="word-spacing:0.0049em;">0.9f </span><span class="stl_88 stl_08 stl_64" style="word-spacing:0.0049em;">- </span><span class="stl_86 stl_08 stl_64" style="word-spacing:0.0049em;">0.8f</span><span class="stl_80 stl_08 stl_64" style="word-spacing:0.0049em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:10.0023em; left:8.0458em;"><span class="stl_79 stl_08 stl_124" style="word-spacing:-0.0078em;">if </span><span class="stl_80 stl_08 stl_124" style="word-spacing:-0.0078em;">(</span><span class="stl_48 stl_08 stl_124" style="word-spacing:-0.0078em;">a </span><span class="stl_88 stl_08 stl_124" style="word-spacing:-0.0078em;">== </span><span class="stl_48 stl_08 stl_124" style="word-spacing:-0.0078em;">b</span><span class="stl_80 stl_08 stl_124" style="word-spacing:-0.0078em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:11.3381em; left:9.5458em;"><span class="stl_125 stl_126 stl_09">/</span></div>
					<div class="stl_01" style="top:12.5048em; left:9.5458em;"><span class="stl_125 stl_126 stl_09">/</span></div>
					<div class="stl_01" style="top:11.1689em; left:10.0042em;"><span class="stl_125 stl_126 stl_09" style="word-spacing:-0.0891em;">/ </span><span class="stl_83 stl_08 stl_09" style="word-spacing:-0.0891em;">预期进入此代码快，执行其它业务逻辑 &nbsp;</span></div>
					<div class="stl_01" style="top:12.3356em; left:10.0042em;"><span class="stl_125 stl_126 stl_127" style="word-spacing:-0.1077em;">/ </span><span class="stl_83 stl_08 stl_127" style="word-spacing:-0.1077em;">但事实上 </span><span class="stl_125 stl_126 stl_127" style="word-spacing:-0.1077em;">a==b</span><span class="stl_83 stl_08 stl_127" style="word-spacing:-0.1077em;">的结果为 </span><span class="stl_125 stl_126 stl_127" style="word-spacing:-0.1077em;">false &nbsp;</span></div>
					<div class="stl_01" style="top:13.5023em; left:8.0458em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:15.8356em; left:8.0458em;"><span class="stl_48 stl_08 stl_98" style="word-spacing:0.0091em;">Float x </span><span class="stl_88 stl_08 stl_98" style="word-spacing:0.0091em;">= </span><span class="stl_48 stl_08 stl_98" style="word-spacing:0.0091em;">Float</span><span class="stl_80 stl_08 stl_98" style="word-spacing:0.0091em;">.</span><span class="stl_84 stl_08 stl_98" style="word-spacing:0.0091em;">valueOf</span><span class="stl_80 stl_08 stl_98" style="word-spacing:0.0091em;">(</span><span class="stl_48 stl_08 stl_98" style="word-spacing:0.0091em;">a</span><span class="stl_80 stl_08 stl_98" style="word-spacing:0.0091em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:17.0048em; left:8.0458em;"><span class="stl_48 stl_08 stl_77" style="word-spacing:0.0111em;">Float y </span><span class="stl_88 stl_08 stl_77" style="word-spacing:0.0111em;">= </span><span class="stl_48 stl_08 stl_77" style="word-spacing:0.0111em;">Float</span><span class="stl_80 stl_08 stl_77" style="word-spacing:0.0111em;">.</span><span class="stl_84 stl_08 stl_77" style="word-spacing:0.0111em;">valueOf</span><span class="stl_80 stl_08 stl_77" style="word-spacing:0.0111em;">(</span><span class="stl_48 stl_08 stl_77" style="word-spacing:0.0111em;">b</span><span class="stl_80 stl_08 stl_77" style="word-spacing:0.0111em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:18.1714em; left:8.0458em;"><span class="stl_79 stl_08 stl_110" style="word-spacing:-0.0004em;">if </span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0004em;">(</span><span class="stl_48 stl_08 stl_110" style="word-spacing:-0.0004em;">x</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0004em;">.</span><span class="stl_84 stl_08 stl_110" style="word-spacing:-0.0004em;">equals</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0004em;">(</span><span class="stl_48 stl_08 stl_110" style="word-spacing:-0.0004em;">y</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0004em;">)) { &nbsp;</span></div>
					<div class="stl_01" style="top:19.5073em; left:9.5458em;"><span class="stl_125 stl_126 stl_09">/</span></div>
					<div class="stl_01" style="top:20.6739em; left:9.5458em;"><span class="stl_125 stl_126 stl_09">/</span></div>
					<div class="stl_01" style="top:19.3381em; left:10.0042em;"><span class="stl_125 stl_126 stl_09" style="word-spacing:-0.0891em;">/ </span><span class="stl_83 stl_08 stl_09" style="word-spacing:-0.0891em;">预期进入此代码快，执行其它业务逻辑 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5048em; left:10.0042em;"><span class="stl_125 stl_126 stl_128" style="word-spacing:-0.102em;">/ </span><span class="stl_83 stl_08 stl_128" style="word-spacing:-0.102em;">但事实上 </span><span class="stl_125 stl_126 stl_128" style="word-spacing:-0.102em;">equals</span><span class="stl_83 stl_08 stl_128" style="word-spacing:-0.102em;">的结果为 </span><span class="stl_125 stl_126 stl_128" style="word-spacing:-0.102em;">false &nbsp;</span></div>
					<div class="stl_01" style="top:21.6714em; left:8.0458em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:23.895em; left:6.5438em;"><span class="stl_58 stl_08 stl_09">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:25.7356em; left:6.5438em;"><span class="stl_129 stl_08 stl_09">(</span></div>
					<div class="stl_01" style="top:25.7356em; left:6.7943em;"><span class="stl_129 stl_08 stl_24" style="word-spacing:0.2054em;">1) </span><span class="stl_130 stl_08 stl_24" style="word-spacing:0.2054em;">指定一个误差范围，两个浮点数的差值在此范围之内，则认为是相等的。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.2564em; left:8.0458em;"><span class="stl_79 stl_08 stl_64" style="word-spacing:0.0054em;">float </span><span class="stl_48 stl_08 stl_64" style="word-spacing:0.0054em;">a </span><span class="stl_88 stl_08 stl_64" style="word-spacing:0.0054em;">= </span><span class="stl_86 stl_08 stl_64" style="word-spacing:0.0054em;">1.0f </span><span class="stl_88 stl_08 stl_64" style="word-spacing:0.0054em;">- </span><span class="stl_86 stl_08 stl_64" style="word-spacing:0.0054em;">0.9f</span><span class="stl_80 stl_08 stl_64" style="word-spacing:0.0054em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:28.4231em; left:8.0458em;"><span class="stl_79 stl_08 stl_64" style="word-spacing:0.0049em;">float </span><span class="stl_48 stl_08 stl_64" style="word-spacing:0.0049em;">b </span><span class="stl_88 stl_08 stl_64" style="word-spacing:0.0049em;">= </span><span class="stl_86 stl_08 stl_64" style="word-spacing:0.0049em;">0.9f </span><span class="stl_88 stl_08 stl_64" style="word-spacing:0.0049em;">- </span><span class="stl_86 stl_08 stl_64" style="word-spacing:0.0049em;">0.8f</span><span class="stl_80 stl_08 stl_64" style="word-spacing:0.0049em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:29.5898em; left:8.0458em;"><span class="stl_79 stl_08 stl_107" style="word-spacing:0.0083em;">float </span><span class="stl_48 stl_08 stl_107" style="word-spacing:0.0083em;">diff </span><span class="stl_88 stl_08 stl_107" style="word-spacing:0.0083em;">= </span><span class="stl_86 stl_08 stl_107" style="word-spacing:0.0083em;">1e-6f</span><span class="stl_80 stl_08 stl_107" style="word-spacing:0.0083em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:31.9248em; left:8.0458em;"><span class="stl_79 stl_08 stl_15" style="word-spacing:0.0016em;">if </span><span class="stl_80 stl_08 stl_15" style="word-spacing:0.0016em;">(</span><span class="stl_48 stl_08 stl_15" style="word-spacing:0.0016em;">Math</span><span class="stl_80 stl_08 stl_15" style="word-spacing:0.0016em;">.</span><span class="stl_84 stl_08 stl_15" style="word-spacing:0.0016em;">abs</span><span class="stl_80 stl_08 stl_15" style="word-spacing:0.0016em;">(</span><span class="stl_48 stl_08 stl_15" style="word-spacing:0.0016em;">a </span><span class="stl_88 stl_08 stl_15" style="word-spacing:0.0016em;">- </span><span class="stl_48 stl_08 stl_15" style="word-spacing:0.0016em;">b</span><span class="stl_80 stl_08 stl_15" style="word-spacing:0.0016em;">) </span><span class="stl_88 stl_08 stl_15" style="word-spacing:0.0016em;">&lt; </span><span class="stl_48 stl_08 stl_15" style="word-spacing:0.0016em;">diff</span><span class="stl_80 stl_08 stl_15" style="word-spacing:0.0016em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:33.0914em; left:9.5458em;"><span class="stl_48 stl_08 stl_37">System</span><span class="stl_80 stl_08 stl_37">.</span><span class="stl_48 stl_08 stl_37">out</span><span class="stl_80 stl_08 stl_37">.</span><span class="stl_84 stl_08 stl_37">println</span><span class="stl_80 stl_08 stl_37">(</span><span class="stl_131 stl_08 stl_37">"true"</span><span class="stl_80 stl_08 stl_37">); &nbsp;</span></div>
					<div class="stl_01" style="top:34.2581em; left:8.0458em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:35.6748em; left:6.5438em;"><span class="stl_129 stl_08 stl_09">(</span></div>
					<div class="stl_01" style="top:35.6748em; left:6.7943em;"><span class="stl_129 stl_08 stl_39" style="word-spacing:0.2047em;">2) </span><span class="stl_130 stl_08 stl_39" style="word-spacing:0.2047em;">使用</span><span class="stl_129 stl_08 stl_39" style="word-spacing:-0.047em;"> BigDecimal</span><span class="stl_130 stl_08 stl_39" style="word-spacing:-0.0262em;"> 来定义值，再进行浮点数的运算操作。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.1748em; left:8.0458em;"><span class="stl_48 stl_08 stl_90" style="word-spacing:-0.0008em;">BigDecimal a </span><span class="stl_88 stl_08 stl_90" style="word-spacing:-0.0008em;">= </span><span class="stl_79 stl_08 stl_90" style="word-spacing:-0.0008em;">new </span><span class="stl_48 stl_08 stl_90" style="word-spacing:-0.0008em;">BigDecimal</span><span class="stl_80 stl_08 stl_90" style="word-spacing:-0.0008em;">(</span><span class="stl_131 stl_08 stl_90" style="word-spacing:-0.0008em;">"1.0"</span><span class="stl_80 stl_08 stl_90" style="word-spacing:-0.0008em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:38.3439em; left:8.0458em;"><span class="stl_48 stl_08 stl_26" style="word-spacing:0.0075em;">BigDecimal b </span><span class="stl_88 stl_08 stl_26" style="word-spacing:0.0075em;">= </span><span class="stl_79 stl_08 stl_26" style="word-spacing:0.0075em;">new </span><span class="stl_48 stl_08 stl_26" style="word-spacing:0.0075em;">BigDecimal</span><span class="stl_80 stl_08 stl_26" style="word-spacing:0.0075em;">(</span><span class="stl_131 stl_08 stl_26" style="word-spacing:0.0075em;">"0.9"</span><span class="stl_80 stl_08 stl_26" style="word-spacing:0.0075em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:39.5106em; left:8.0458em;"><span class="stl_48 stl_08 stl_26" style="word-spacing:0.007em;">BigDecimal c </span><span class="stl_88 stl_08 stl_26" style="word-spacing:0.007em;">= </span><span class="stl_79 stl_08 stl_26" style="word-spacing:0.007em;">new </span><span class="stl_48 stl_08 stl_26" style="word-spacing:0.007em;">BigDecimal</span><span class="stl_80 stl_08 stl_26" style="word-spacing:0.007em;">(</span><span class="stl_131 stl_08 stl_26" style="word-spacing:0.007em;">"0.8"</span><span class="stl_80 stl_08 stl_26" style="word-spacing:0.007em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:41.8439em; left:8.0458em;"><span class="stl_48 stl_08 stl_49" style="word-spacing:0.0089em;">BigDecimal x </span><span class="stl_88 stl_08 stl_49" style="word-spacing:0.0089em;">= </span><span class="stl_48 stl_08 stl_49" style="word-spacing:0.0089em;">a</span><span class="stl_80 stl_08 stl_49" style="word-spacing:0.0089em;">.</span><span class="stl_84 stl_08 stl_49" style="word-spacing:0.0089em;">subtract</span><span class="stl_80 stl_08 stl_49" style="word-spacing:0.0089em;">(</span><span class="stl_48 stl_08 stl_49" style="word-spacing:0.0089em;">b</span><span class="stl_80 stl_08 stl_49" style="word-spacing:0.0089em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:43.0106em; left:8.0458em;"><span class="stl_48 stl_08 stl_94" style="word-spacing:0.011em;">BigDecimal y </span><span class="stl_88 stl_08 stl_94" style="word-spacing:0.011em;">= </span><span class="stl_48 stl_08 stl_94" style="word-spacing:0.011em;">b</span><span class="stl_80 stl_08 stl_94" style="word-spacing:0.011em;">.</span><span class="stl_84 stl_08 stl_94" style="word-spacing:0.011em;">subtract</span><span class="stl_80 stl_08 stl_94" style="word-spacing:0.011em;">(</span><span class="stl_48 stl_08 stl_94" style="word-spacing:0.011em;">c</span><span class="stl_80 stl_08 stl_94" style="word-spacing:0.011em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:45.3456em; left:8.0458em;"><span class="stl_79 stl_08 stl_110" style="word-spacing:-0.0004em;">if </span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0004em;">(</span><span class="stl_48 stl_08 stl_110" style="word-spacing:-0.0004em;">x</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0004em;">.</span><span class="stl_84 stl_08 stl_110" style="word-spacing:-0.0004em;">equals</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0004em;">(</span><span class="stl_48 stl_08 stl_110" style="word-spacing:-0.0004em;">y</span><span class="stl_80 stl_08 stl_110" style="word-spacing:-0.0004em;">)) { &nbsp;</span></div>
					<div class="stl_01" style="top:46.5123em; left:9.5458em;"><span class="stl_48 stl_08 stl_37">System</span><span class="stl_80 stl_08 stl_37">.</span><span class="stl_48 stl_08 stl_37">out</span><span class="stl_80 stl_08 stl_37">.</span><span class="stl_84 stl_08 stl_37">println</span><span class="stl_80 stl_08 stl_37">(</span><span class="stl_131 stl_08 stl_37">"true"</span><span class="stl_80 stl_08 stl_37">); &nbsp;</span></div>
					<div class="stl_01" style="top:47.6789em; left:8.0458em;"><span class="stl_80 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:49.8102em; left:5.0438em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">9. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_65 stl_08 stl_20" style="word-spacing:0.3795em;">定义数据对象</span><span class="stl_78 stl_08 stl_20" style="word-spacing:-0.0439em;"> DO</span><span class="stl_65 stl_08 stl_20" style="word-spacing:-0.0472em;"> 类时，属性类型要与数据库字段类型相匹配。 &nbsp;</span></div>
					<div class="stl_01" style="top:51.6717em; left:6.5438em;"><span class="stl_58 stl_08 stl_109" style="word-spacing:-0.0242em;">正例：</span><span class="stl_66 stl_08 stl_109" style="word-spacing:-0.0242em;">数据库字段的 </span><span class="stl_67 stl_08 stl_109" style="word-spacing:-0.0242em;">bigint </span><span class="stl_66 stl_08 stl_109" style="word-spacing:-0.0242em;">必须与类属性的 </span><span class="stl_67 stl_08 stl_109" style="word-spacing:-0.0242em;">Long </span><span class="stl_66 stl_08 stl_109" style="word-spacing:-0.0242em;">类型相对应。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.445em; left:6.5438em;"><span class="stl_54 stl_08 stl_74" style="word-spacing:-0.0288em;">反例：</span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0288em;">某个案例的数据库表 </span><span class="stl_67 stl_08 stl_74" style="word-spacing:-0.0288em;">id </span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0288em;">字段定义类型 </span><span class="stl_67 stl_08 stl_74" style="word-spacing:-0.0288em;">bigint unsigned</span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0288em;">，实际类对象属性为 </span><span class="stl_67 stl_08 stl_74" style="word-spacing:-0.0288em;">Integer</span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0288em;">，随着 </span><span class="stl_67 stl_08 stl_74" style="word-spacing:-0.0288em;">id </span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0288em;">越来 &nbsp;</span></div>
					<div class="stl_01" style="top:55.195em; left:6.5438em;"><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0292em;">越大，超过 </span><span class="stl_67 stl_08 stl_64" style="word-spacing:-0.0292em;">Integer </span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0292em;">的表示范围而溢出成为负数。 &nbsp;</span></div>
					<div class="stl_01" style="top:57.5002em; left:5.0229em;"><span class="stl_27 stl_08 stl_116" style="word-spacing:-0.0487em;">10.</span><span class="stl_53 stl_08 stl_116" style="word-spacing:-0.0487em;">【强制】</span><span class="stl_65 stl_08 stl_116" style="word-spacing:-0.0487em;">为了防止精度损失，禁止使用构造方法 </span><span class="stl_132 stl_08 stl_93" style="word-spacing:-0.0531em;">BigDecimal(double)</span><span class="stl_65 stl_08 stl_116" style="word-spacing:-0.0487em;">的方式把 </span><span class="stl_11 stl_08 stl_116" style="word-spacing:-0.0487em;">double </span><span class="stl_10 stl_08 stl_116" style="word-spacing:-0.0487em;">值</span><span class="stl_65 stl_08 stl_116" style="word-spacing:-0.0487em;">转 &nbsp;</span></div>
					<div class="stl_01" style="top:59.2519em; left:6.5229em;"><span class="stl_65 stl_08 stl_62" style="word-spacing:-0.0386em;">化为 </span><span class="stl_132 stl_08 stl_59" style="word-spacing:-0.0421em;">BigDecimal </span><span class="stl_10 stl_08 stl_62" style="word-spacing:-0.0386em;">对象</span><span class="stl_65 stl_08 stl_62" style="word-spacing:-0.0386em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:61.1137em; left:6.5229em;"><span class="stl_56 stl_08 stl_20">说明：</span><span class="stl_67 stl_08 stl_20">BigDecimal(double)</span><span class="stl_66 stl_08 stl_20">存在精度损失风险，在精确计算或值比较的场景中可能会导致业务逻辑异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:62.8846em; left:6.5229em;"><span class="stl_66 stl_08 stl_24" style="word-spacing:0.0085em;">如：</span><span class="stl_67 stl_08 stl_24" style="word-spacing:0.0085em;">BigDecimal g</span><span class="stl_67 stl_08 stl_24" style="word-spacing:-0.007em;"> =</span><span class="stl_67 stl_08 stl_24" style="word-spacing:-0.0025em;"> new BigDecimal(0.1f);</span><span class="stl_66 stl_08 stl_24" style="word-spacing:0.2147em;"> 实际的存储值为：</span><span class="stl_67 stl_08 stl_24" style="word-spacing:0.2147em;">0.10000000149 &nbsp;</span></div>
					<div class="stl_01" style="top:64.6346em; left:6.5229em;"><span class="stl_58 stl_08 stl_77" style="word-spacing:-0.0272em;">正例：</span><span class="stl_66 stl_08 stl_77" style="word-spacing:-0.0272em;">优先推荐入参为 </span><span class="stl_67 stl_08 stl_77" style="word-spacing:-0.0272em;">String </span><span class="stl_66 stl_08 stl_77" style="word-spacing:-0.0272em;">的构造方法，或使用 </span><span class="stl_67 stl_08 stl_77" style="word-spacing:-0.0272em;">BigDecimal </span><span class="stl_66 stl_08 stl_77" style="word-spacing:-0.0272em;">的 </span><span class="stl_67 stl_08 stl_77" style="word-spacing:-0.0272em;">valueOf </span><span class="stl_66 stl_08 stl_77" style="word-spacing:-0.0272em;">方法，此方法内部其实执行了 &nbsp;</span></div>
					<div class="stl_01" style="top:66.4075em; left:6.5229em;"><span class="stl_67 stl_08 stl_77" style="word-spacing:-0.033em;">Double </span><span class="stl_66 stl_08 stl_77" style="word-spacing:-0.033em;">的 </span><span class="stl_67 stl_08 stl_77" style="word-spacing:-0.033em;">toString</span><span class="stl_66 stl_08 stl_77" style="word-spacing:-0.033em;">，而 </span><span class="stl_67 stl_08 stl_77" style="word-spacing:-0.033em;">Double </span><span class="stl_66 stl_08 stl_77" style="word-spacing:-0.033em;">的 </span><span class="stl_67 stl_08 stl_77" style="word-spacing:-0.033em;">toString </span><span class="stl_66 stl_08 stl_77" style="word-spacing:-0.033em;">按 </span><span class="stl_67 stl_08 stl_77" style="word-spacing:-0.033em;">double </span><span class="stl_66 stl_08 stl_77" style="word-spacing:-0.033em;">的实际能表达的精度对尾数进行了截断。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_09">8</span></div>
					<div class="stl_01" style="top:68.6442em; left:46.2475em;"><span class="stl_75 stl_76 stl_12">/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_14.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_14.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:2.9798em; left:8.1083em;"><span class="stl_48 stl_08 stl_30" style="word-spacing:0.0079em;">BigDecimal recommend1 </span><span class="stl_88 stl_08 stl_30" style="word-spacing:0.0079em;">= </span><span class="stl_79 stl_08 stl_30" style="word-spacing:0.0079em;">new </span><span class="stl_48 stl_08 stl_30" style="word-spacing:0.0079em;">BigDecimal</span><span class="stl_80 stl_08 stl_30" style="word-spacing:0.0079em;">(</span><span class="stl_131 stl_08 stl_30" style="word-spacing:0.0079em;">"0.1"</span><span class="stl_80 stl_08 stl_30" style="word-spacing:0.0079em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:4.1464em; left:8.0458em;"><span class="stl_48 stl_08 stl_09" style="word-spacing:0.0011em;">BigDecimal recommend2 </span><span class="stl_88 stl_08 stl_09" style="word-spacing:0.0011em;">= </span><span class="stl_48 stl_08 stl_09" style="word-spacing:0.0011em;">BigDecimal</span><span class="stl_80 stl_08 stl_09" style="word-spacing:0.0011em;">.</span><span class="stl_84 stl_08 stl_09" style="word-spacing:0.0011em;">valueOf</span><span class="stl_80 stl_08 stl_09" style="word-spacing:0.0011em;">(</span><span class="stl_86 stl_08 stl_09" style="word-spacing:0.0011em;">0.1</span><span class="stl_80 stl_08 stl_09" style="word-spacing:0.0011em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:5.9027em; left:5.0438em;"><span class="stl_27 stl_08 stl_133">11.</span><span class="stl_23 stl_08 stl_133">关于基本数据类型与包装数据类型的使用标准如下： &nbsp;</span></div>
					<div class="stl_01" style="top:7.7642em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:9.5142em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:11.2867em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:7.7642em; left:7.5042em;"><span class="stl_57 stl_08 stl_134" style="word-spacing:0.2075em;">） </span><span class="stl_97 stl_08 stl_134" style="word-spacing:0.2075em;">【强制】</span><span class="stl_57 stl_08 stl_134" style="word-spacing:0.2075em;">所有的</span><span class="stl_38 stl_08 stl_134" style="word-spacing:-0.0277em;"> POJO</span><span class="stl_57 stl_08 stl_134" style="word-spacing:-0.0336em;"> 类属性必须使用包装数据类型。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.5142em; left:7.5042em;"><span class="stl_57 stl_08 stl_98" style="word-spacing:0.2063em;">） </span><span class="stl_97 stl_08 stl_98" style="word-spacing:0.2063em;">【强制】</span><span class="stl_38 stl_08 stl_98" style="word-spacing:0.2063em;">RPC</span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0303em;"> 方法的返回值和参数必须使用包装数据类型。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.2867em; left:7.5042em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2041em;">） </span><span class="stl_99 stl_08 stl_09" style="word-spacing:0.2041em;">【推荐】</span><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2041em;">所有的局部变量使用基本数据类型。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.0367em; left:6.5438em;"><span class="stl_56 stl_08 stl_26" style="word-spacing:-0.03em;">说明：</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.03em;">POJO </span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.03em;">类属性没有初值是提醒使用者在需要使用时，必须自己显式地进行赋值，任何 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.03em;">NPE </span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.03em;">问题，或 &nbsp;</span></div>
					<div class="stl_01" style="top:14.8075em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">者入库检查，都由使用者来保证。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.5783em; left:6.5438em;"><span class="stl_58 stl_08 stl_15" style="word-spacing:-0.0299em;">正例：</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0299em;">数据库的查询结果可能是 </span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0299em;">null</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0299em;">，因为自动拆箱，用基本数据类型接收有 </span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0299em;">NPE </span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0299em;">风险。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.3308em; left:6.5438em;"><span class="stl_54 stl_08 stl_64" style="word-spacing:-0.0317em;">反例：</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0317em;">比如显示成交总额涨跌情况，即正负 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0317em;">x%</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0317em;">，</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0317em;">x </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0317em;">为基本数据类型，调用的 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0317em;">RPC </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0317em;">服务，调用不成功时， &nbsp;</span></div>
					<div class="stl_01" style="top:20.1017em; left:6.5438em;"><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0294em;">返回的是默认值，页面显示为 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0294em;">0%</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0294em;">，这是不合理的，应该显示成中划线。所以包装数据类型的 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0294em;">null </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0294em;">值，能 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8508em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">够表示额外的信息，如：远程调用失败，异常退出。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.1586em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:24.1586em; left:5.6271em;"><span class="stl_27 stl_08 stl_135" style="word-spacing:-0.0512em;">2.</span><span class="stl_53 stl_08 stl_135" style="word-spacing:-0.0512em;">【强制】</span><span class="stl_23 stl_08 stl_135" style="word-spacing:-0.0512em;">定义 </span><span class="stl_27 stl_08 stl_135" style="word-spacing:-0.0512em;">DO/DTO/VO </span><span class="stl_23 stl_08 stl_135" style="word-spacing:-0.0512em;">等 </span><span class="stl_27 stl_08 stl_135" style="word-spacing:-0.0512em;">POJO </span><span class="stl_23 stl_08 stl_135" style="word-spacing:-0.0512em;">类时，不要设定任何属性</span><span class="stl_22 stl_08 stl_135" style="word-spacing:-0.0512em;">默认值</span><span class="stl_23 stl_08 stl_135" style="word-spacing:-0.0512em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.02em; left:6.5438em;"><span class="stl_54 stl_08 stl_49" style="word-spacing:-0.0283em;">反例：</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0283em;">POJO </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0283em;">类的 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0283em;">createTime </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0283em;">默认值为 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0283em;">new Date()</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0283em;">，但是这个属性在数据提取时并没有置入具体值，在 &nbsp;</span></div>
					<div class="stl_01" style="top:27.77em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">更新其它字段时又附带更新了此字段，导致创建时间被修改成当前时间。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.0752em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:30.0752em; left:5.6271em;"><span class="stl_27 stl_08 stl_116" style="word-spacing:-0.0393em;">3.</span><span class="stl_53 stl_08 stl_116" style="word-spacing:-0.0393em;">【强制】</span><span class="stl_23 stl_08 stl_116" style="word-spacing:-0.0393em;">序列化类新增属性时，请不要修改 </span><span class="stl_27 stl_08 stl_116" style="word-spacing:-0.0393em;">serialVersionUID </span><span class="stl_23 stl_08 stl_116" style="word-spacing:-0.0393em;">字段，避免反序列失败；如果 &nbsp;</span></div>
					<div class="stl_01" style="top:31.8269em; left:6.5438em;"><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0338em;">完全不兼容升级，避免反序列化混乱，那么请修改 </span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0338em;">serialVersionUID </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0338em;">值。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.6883em; left:6.5438em;"><span class="stl_56 stl_08 stl_103" style="word-spacing:-0.0273em;">说明：</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0273em;">注意 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0273em;">serialVersionUID </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0273em;">不一致会抛出序列化运行时异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.9936em; left:5.0438em;"><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.0422em;">14.</span><span class="stl_53 stl_08 stl_47" style="word-spacing:-0.0422em;">【强制】</span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.0422em;">构造方法里面禁止加入任何业务逻辑，如果有初始化逻辑，请放在 </span><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.0422em;">init </span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.0422em;">方法中。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.3711em; left:5.0438em;"><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0366em;">15.</span><span class="stl_53 stl_08 stl_136" style="word-spacing:-0.0366em;">【强制】</span><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0366em;">POJO </span><span class="stl_23 stl_08 stl_136" style="word-spacing:-0.0366em;">类必须写 </span><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0366em;">toString </span><span class="stl_23 stl_08 stl_136" style="word-spacing:-0.0366em;">方法。使用 </span><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0366em;">IDE </span><span class="stl_23 stl_08 stl_136" style="word-spacing:-0.0366em;">中的工具：</span><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0366em;">source&gt; generate toString &nbsp;</span></div>
					<div class="stl_01" style="top:40.1419em; left:6.5438em;"><span class="stl_23 stl_08 stl_59" style="word-spacing:-0.0459em;">时，如果继承了另一个 </span><span class="stl_27 stl_08 stl_59" style="word-spacing:-0.0459em;">POJO </span><span class="stl_23 stl_08 stl_59" style="word-spacing:-0.0459em;">类，注意在前面加一下 </span><span class="stl_27 stl_08 stl_59" style="word-spacing:-0.0459em;">super.toString</span><span class="stl_23 stl_08 stl_59" style="word-spacing:-0.0459em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.9825em; left:6.5438em;"><span class="stl_56 stl_08 stl_39" style="word-spacing:-0.0414em;">说明：</span><span class="stl_57 stl_08 stl_39" style="word-spacing:-0.0414em;">在方法执行抛出异常时，可以直接调用 </span><span class="stl_38 stl_08 stl_39" style="word-spacing:-0.0414em;">POJO </span><span class="stl_57 stl_08 stl_39" style="word-spacing:-0.0414em;">的 </span><span class="stl_38 stl_08 stl_39" style="word-spacing:-0.0414em;">toString()</span><span class="stl_57 stl_08 stl_39" style="word-spacing:-0.0414em;">方法打印其属性值，便于排查问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.2877em; left:5.0438em;"><span class="stl_27 stl_08 stl_114" style="word-spacing:-0.0508em;">16.</span><span class="stl_53 stl_08 stl_114" style="word-spacing:-0.0508em;">【强制】</span><span class="stl_65 stl_08 stl_114" style="word-spacing:-0.0508em;">禁止在 </span><span class="stl_27 stl_08 stl_114" style="word-spacing:-0.0508em;">POJO </span><span class="stl_65 stl_08 stl_114" style="word-spacing:-0.0508em;">类中，同时存在对应属性 </span><span class="stl_27 stl_08 stl_114" style="word-spacing:-0.0508em;">xxx </span><span class="stl_65 stl_08 stl_114" style="word-spacing:-0.0508em;">的 </span><span class="stl_27 stl_08 stl_114" style="word-spacing:-0.0508em;">isXxx()</span><span class="stl_65 stl_08 stl_114" style="word-spacing:-0.0508em;">和 </span><span class="stl_27 stl_08 stl_114" style="word-spacing:-0.0508em;">getXxx()</span><span class="stl_65 stl_08 stl_114" style="word-spacing:-0.0508em;">方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1508em; left:6.5438em;"><span class="stl_56 stl_08 stl_30" style="word-spacing:-0.0354em;">说明：</span><span class="stl_66 stl_08 stl_30" style="word-spacing:-0.0354em;">框架在调用属性 </span><span class="stl_67 stl_08 stl_30" style="word-spacing:-0.0354em;">xxx </span><span class="stl_66 stl_08 stl_30" style="word-spacing:-0.0354em;">的提取方法时，并不能确定哪个方法一定是被优先调用到。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.4361em; left:5.0438em;"><span class="stl_27 stl_08 stl_117" style="word-spacing:-0.044em;">17.</span><span class="stl_17 stl_08 stl_117" style="word-spacing:-0.044em;">【推荐】</span><span class="stl_23 stl_08 stl_117" style="word-spacing:-0.044em;">使用索引访问用 </span><span class="stl_27 stl_08 stl_117" style="word-spacing:-0.044em;">String </span><span class="stl_23 stl_08 stl_117" style="word-spacing:-0.044em;">的 </span><span class="stl_27 stl_08 stl_117" style="word-spacing:-0.044em;">split </span><span class="stl_23 stl_08 stl_117" style="word-spacing:-0.044em;">方法得到的数组时，需做最后一个分隔符后有无内 &nbsp;</span></div>
					<div class="stl_01" style="top:50.2061em; left:6.5438em;"><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0337em;">容的检查，否则会有抛 </span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0337em;">IndexOutOfBoundsException </span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0337em;">的风险。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.0467em; left:6.5229em;"><span class="stl_56 stl_08 stl_09">说明： &nbsp;</span></div>
					<div class="stl_01" style="top:53.6398em; left:8.0458em;"><span class="stl_46 stl_08 stl_26" style="word-spacing:0.2078em;">String str = "a,b,c,,"; &nbsp;</span></div>
					<div class="stl_01" style="top:54.8064em; left:8.0458em;"><span class="stl_46 stl_08 stl_39" style="word-spacing:0.2033em;">String[] ary = str.split(","); &nbsp;</span></div>
					<div class="stl_01" style="top:55.9731em; left:8.0458em;"><span class="stl_82 stl_08 stl_61" style="word-spacing:0.1961em;">// </span><span class="stl_83 stl_08 stl_61" style="word-spacing:0.1961em;">预期大于</span><span class="stl_82 stl_08 stl_61" style="word-spacing:0.1961em;"> 3</span><span class="stl_83 stl_08 stl_61" style="word-spacing:-0.0433em;">，结果是</span><span class="stl_82 stl_08 stl_61" style="word-spacing:-0.0433em;"> 3 &nbsp;</span></div>
					<div class="stl_01" style="top:57.1398em; left:8.0458em;"><span class="stl_46 stl_08 stl_12">System.out.println(ary.length); &nbsp;</span></div>
					<div class="stl_01" style="top:59.2727em; left:5.0438em;"><span class="stl_27 stl_08 stl_114">18.</span><span class="stl_17 stl_08 stl_114">【推荐】</span><span class="stl_23 stl_08 stl_114">当一个类有多个构造方法，或者多个同名方法，这些方法应该按顺序放置在一起， &nbsp;</span></div>
					<div class="stl_01" style="top:61.044em; left:6.5438em;"><span class="stl_23 stl_08 stl_13">便于阅读，此条规则优先于下一条。 &nbsp;</span></div>
					<div class="stl_01" style="top:63.419em; left:5.0438em;"><span class="stl_27 stl_08 stl_136" style="word-spacing:0.2047em;">19.</span><span class="stl_17 stl_08 stl_136" style="word-spacing:0.2047em;">【推荐】 </span><span class="stl_23 stl_08 stl_136" style="word-spacing:0.2047em;">类内方法定义的顺序依次是：公有方法或保护方法 </span><span class="stl_27 stl_08 stl_136" style="word-spacing:0.2047em;">&gt; </span><span class="stl_23 stl_08 stl_136" style="word-spacing:0.2047em;">私有方法 </span><span class="stl_27 stl_08 stl_136" style="word-spacing:0.2047em;">&gt;</span><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0007em;"> getter</span><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.012em;"> /</span><span class="stl_27 stl_08 stl_136" style="word-spacing:0.0028em;"> setter &nbsp;</span></div>
					<div class="stl_01" style="top:65.1898em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:67.0533em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">公有方法是类的调用者和维护者最关心的方法，首屏展示最好；保护方法虽然只是子类关心，也可 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_09">9</span></div>
					<div class="stl_01" style="top:68.6442em; left:46.2475em;"><span class="stl_75 stl_76 stl_12">/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_15.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_15.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.16em; left:6.5438em;"><span class="stl_57 stl_08 stl_13">能是“模板设计模式”下的核心方法；而私有方法外部一般不需要特别关心，是一个黑盒实现；因为承载 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5438em;"><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0328em;">的信息价值较低，所有 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0328em;">Service </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0328em;">和 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0328em;">DAO </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0328em;">的 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0328em;">getter/setter </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0328em;">方法放在类体最后。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.6063em;"><span class="stl_27 stl_08 stl_137" style="word-spacing:-0.0563em;">0.</span><span class="stl_17 stl_08 stl_137" style="word-spacing:-0.0563em;">【推荐】</span><span class="stl_27 stl_08 stl_137" style="word-spacing:-0.0563em;">setter </span><span class="stl_23 stl_08 stl_137" style="word-spacing:-0.0563em;">方法中，参数名称与类成员变量名称一致，</span><span class="stl_27 stl_08 stl_137" style="word-spacing:-0.0563em;">this.</span><span class="stl_23 stl_08 stl_137" style="word-spacing:-0.0563em;">成员名</span><span class="stl_27 stl_08 stl_137" style="word-spacing:0.2031em;"> =</span><span class="stl_23 stl_08 stl_137" style="word-spacing:0.2031em;"> 参数名。在 &nbsp;</span></div>
					<div class="stl_01" style="top:8.9861em; left:6.5229em;"><span class="stl_27 stl_08 stl_39" style="word-spacing:-0.0478em;">getter/setter </span><span class="stl_23 stl_08 stl_39" style="word-spacing:-0.0478em;">方法中，不要增加业务逻辑，增加排查问题的难度。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.8283em; left:6.5229em;"><span class="stl_54 stl_08 stl_09">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:12.4189em; left:8.0458em;"><span class="stl_46 stl_08 stl_138" style="word-spacing:0.2122em;">public Integer getData() { &nbsp;</span></div>
					<div class="stl_01" style="top:13.5856em; left:9.9208em;"><span class="stl_46 stl_08 stl_139" style="word-spacing:0.1925em;">if (condition) { &nbsp;</span></div>
					<div class="stl_01" style="top:14.7523em; left:11.4208em;"><span class="stl_46 stl_08 stl_98" style="word-spacing:0.209em;">return this.data + 100; &nbsp;</span></div>
					<div class="stl_01" style="top:15.9189em; left:9.9208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:18.2548em; left:9.9208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:15.9189em; left:10.5458em;"><span class="stl_46 stl_08 stl_47" style="word-spacing:0.1888em;">else { &nbsp;</span></div>
					<div class="stl_01" style="top:17.0881em; left:11.4208em;"><span class="stl_46 stl_08 stl_77" style="word-spacing:0.212em;">return this.data - 100; &nbsp;</span></div>
					<div class="stl_01" style="top:19.4214em; left:8.4208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:21.5527em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:21.5527em; left:5.6063em;"><span class="stl_27 stl_08 stl_93" style="word-spacing:-0.0471em;">1.</span><span class="stl_17 stl_08 stl_93" style="word-spacing:-0.0471em;">【推荐】</span><span class="stl_23 stl_08 stl_93" style="word-spacing:-0.0471em;">循环体内，字符串的连接方式，使用 </span><span class="stl_27 stl_08 stl_93" style="word-spacing:-0.0471em;">StringBuilder </span><span class="stl_23 stl_08 stl_93" style="word-spacing:-0.0471em;">的 </span><span class="stl_27 stl_08 stl_93" style="word-spacing:-0.0471em;">append </span><span class="stl_23 stl_08 stl_93" style="word-spacing:-0.0471em;">方法进行扩展。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.4142em; left:6.5229em;"><span class="stl_56 stl_08 stl_49" style="word-spacing:-0.0296em;">说明：</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0296em;">下例中，反编译出的字节码文件显示每次循环都会 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0296em;">new </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0296em;">出一个 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0296em;">StringBuilder </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0296em;">对象，然后进行 &nbsp;</span></div>
					<div class="stl_01" style="top:25.1658em; left:6.5229em;"><span class="stl_38 stl_08 stl_120" style="word-spacing:-0.0241em;">append </span><span class="stl_57 stl_08 stl_120" style="word-spacing:-0.0241em;">操作，最后通过 </span><span class="stl_38 stl_08 stl_120" style="word-spacing:-0.0241em;">toString </span><span class="stl_57 stl_08 stl_120" style="word-spacing:-0.0241em;">方法返回 </span><span class="stl_38 stl_08 stl_120" style="word-spacing:-0.0241em;">String </span><span class="stl_57 stl_08 stl_120" style="word-spacing:-0.0241em;">对象，造成内存资源浪费。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9367em; left:6.5229em;"><span class="stl_54 stl_08 stl_09">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:28.5273em; left:8.0458em;"><span class="stl_46 stl_08 stl_98" style="word-spacing:0.2097em;">String str = "start"; &nbsp;</span></div>
					<div class="stl_01" style="top:29.6939em; left:8.0458em;"><span class="stl_46 stl_08 stl_111" style="word-spacing:0.2086em;">for (int i = 0; i &lt; 100;</span><span class="stl_46 stl_08 stl_111" style="word-spacing:0.1782em;"> i++)</span><span class="stl_46 stl_08 stl_111" style="word-spacing:0.1782em;"> { &nbsp;</span></div>
					<div class="stl_01" style="top:30.8606em; left:9.9208em;"><span class="stl_46 stl_08 stl_108" style="word-spacing:0.2117em;">str = str + "hello"; &nbsp;</span></div>
					<div class="stl_01" style="top:32.0289em; left:8.025em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:34.1602em; left:5.0229em;"><span class="stl_27 stl_08 stl_63" style="word-spacing:-0.0366em;">22.</span><span class="stl_17 stl_08 stl_63" style="word-spacing:-0.0366em;">【推荐】</span><span class="stl_38 stl_08 stl_116" style="word-spacing:-0.0419em;">final </span><span class="stl_23 stl_08 stl_63" style="word-spacing:-0.0366em;">可以声明类、成员变量、方法、以及本地变量，下列情况使用 </span><span class="stl_38 stl_08 stl_116" style="word-spacing:-0.0419em;">final </span><span class="stl_23 stl_08 stl_63" style="word-spacing:-0.0366em;">关键字： &nbsp;</span></div>
					<div class="stl_01" style="top:36.0008em; left:7.0229em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:36.0008em; left:7.5458em;"><span class="stl_57 stl_08 stl_24" style="word-spacing:0.2038em;">） 不允许被继承的类，如：</span><span class="stl_38 stl_08 stl_24" style="word-spacing:0.2038em;">String</span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0288em;"> 类。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.7717em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:39.545em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:41.295em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:43.0658em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:37.7717em; left:7.4813em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2065em;">） 不允许修改引用的域对象。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.545em; left:7.4813em;"><span class="stl_57 stl_08 stl_140" style="word-spacing:0.2105em;">） 不允许被覆写的方法，如：</span><span class="stl_38 stl_08 stl_140" style="word-spacing:0.2105em;">POJO</span><span class="stl_57 stl_08 stl_140" style="word-spacing:-0.034em;"> 类的</span><span class="stl_38 stl_08 stl_140" style="word-spacing:-0.0271em;"> setter</span><span class="stl_57 stl_08 stl_140" style="word-spacing:-0.0275em;"> 方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.295em; left:7.4813em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2065em;">） 不允许运行过程中重新赋值的局部变量。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0658em; left:7.4813em;"><span class="stl_57 stl_08 stl_30" style="word-spacing:0.2071em;">） 避免上下文重复使用一个变量，使用</span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0258em;"> final</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0359em;"> 可以强制重新定义一个变量，方便更好地进行重构。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.6227em; left:5.0438em;"><span class="stl_27 stl_08 stl_141" style="word-spacing:-0.0392em;">23.</span><span class="stl_17 stl_08 stl_141" style="word-spacing:-0.0392em;">【推荐】</span><span class="stl_23 stl_08 stl_141" style="word-spacing:-0.0392em;">慎用 </span><span class="stl_38 stl_08 stl_137" style="word-spacing:-0.0448em;">Object </span><span class="stl_23 stl_08 stl_141" style="word-spacing:-0.0392em;">的 </span><span class="stl_38 stl_08 stl_137" style="word-spacing:-0.0448em;">clone </span><span class="stl_23 stl_08 stl_141" style="word-spacing:-0.0392em;">方法来拷贝对象。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.4642em; left:6.5438em;"><span class="stl_56 stl_08 stl_12" style="word-spacing:-0.0297em;">说明：</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0297em;">对象 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0297em;">clone </span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0297em;">方法默认是浅拷贝，若想实现深拷贝需覆写 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0297em;">clone </span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0297em;">方法实现域对象的深度遍历式拷贝。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.7694em; left:5.0438em;"><span class="stl_27 stl_08 stl_142">24.</span><span class="stl_17 stl_08 stl_142">【推荐】</span><span class="stl_23 stl_08 stl_142">类成员与方法访问控制从严： &nbsp;</span></div>
					<div class="stl_01" style="top:51.61em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:53.3825em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:55.1533em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:56.9033em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:58.6742em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:60.4267em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">6</span></div>
					<div class="stl_01" style="top:62.1971em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">7</span></div>
					<div class="stl_01" style="top:63.9679em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:51.61em; left:7.5042em;"><span class="stl_57 stl_08 stl_64" style="word-spacing:0.205em;">） 如果不允许外部直接通过</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0284em;"> new</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0345em;"> 来创建对象，那么构造方法必须是</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0263em;"> private</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0263em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.3825em; left:7.5042em;"><span class="stl_57 stl_08 stl_94" style="word-spacing:0.2055em;">） 工具类不允许有</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0298em;"> public</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0534em;"> 或</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0326em;"> default</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.022em;"> 构造方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:55.1533em; left:7.5042em;"><span class="stl_57 stl_08 stl_49" style="word-spacing:0.205em;">） 类非</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.033em;"> static</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0298em;"> 成员变量并且与子类共享，必须是</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0281em;"> protected</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0281em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:56.9033em; left:7.5042em;"><span class="stl_57 stl_08 stl_103" style="word-spacing:0.2056em;">） 类非</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0324em;"> static</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0292em;"> 成员变量并且仅在本类使用，必须是</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0513em;"> private</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0513em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.6742em; left:7.5042em;"><span class="stl_57 stl_08 stl_134" style="word-spacing:0.2075em;">） 类</span><span class="stl_38 stl_08 stl_134" style="word-spacing:-0.0306em;"> static</span><span class="stl_57 stl_08 stl_134" style="word-spacing:-0.0303em;"> 成员变量如果仅在本类使用，必须是</span><span class="stl_38 stl_08 stl_134" style="word-spacing:-0.0228em;"> private</span><span class="stl_57 stl_08 stl_134" style="word-spacing:-0.0228em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:60.4267em; left:7.5042em;"><span class="stl_57 stl_08 stl_77" style="word-spacing:0.2065em;">） 若是</span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0316em;"> static</span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0284em;"> 成员变量，考虑是否为</span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0314em;"> final</span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0314em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:62.1971em; left:7.5042em;"><span class="stl_57 stl_08 stl_24" style="word-spacing:0.2036em;">） 类成员方法只供类内部调用，必须是</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0269em;"> private</span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0269em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:63.9679em; left:7.5042em;"><span class="stl_57 stl_08 stl_26" style="word-spacing:0.2044em;">） 类成员方法只对继承类公开，那么限制为</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0308em;"> protected</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0308em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:65.7179em; left:6.5438em;"><span class="stl_56 stl_08 stl_20">说明：</span><span class="stl_57 stl_08 stl_20">任何类、方法、参数、变量，严控访问范围。过于宽泛的访问范围，不利于模块解耦。思考：如果 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">0/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_16.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_16.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.16em; left:6.5438em;"><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0272em;">是一个 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0272em;">private </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0272em;">的方法，想删除就删除，可是一个 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0272em;">public </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0272em;">的 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0272em;">service </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0272em;">成员方法或成员变量，删除一下，不 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5438em;"><span class="stl_57 stl_08 stl_20">得手心冒点汗吗？变量像自己的小孩，尽量在自己的视线内，变量作用域太大，无限制的到处跑，那么你 &nbsp;</span></div>
					<div class="stl_01" style="top:6.6808em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">会担心的。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8962em; left:3.5438em;"><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">(</span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">五</span><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">) </span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">集合处理 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9044em; left:5.0438em;"><span class="stl_27 stl_08 stl_30" style="word-spacing:0.3806em;">1. </span><span class="stl_53 stl_08 stl_30" style="word-spacing:0.3806em;">【强制】</span><span class="stl_23 stl_08 stl_30" style="word-spacing:0.3806em;">关于</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.0429em;"> hashCode</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0442em;"> 和</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.0454em;"> equals</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0481em;"> 的处理，遵循如下规则： &nbsp;</span></div>
					<div class="stl_01" style="top:16.745em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:18.5183em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:16.745em; left:7.0646em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0254em;">） 只要覆写 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0254em;">equals</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0254em;">，就必须覆写 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0254em;">hashCode</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0254em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5183em; left:7.0646em;"><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0272em;">） 因为 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0272em;">Set </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0272em;">存储的是不重复的对象，依据 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0272em;">hashCode </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0272em;">和 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0272em;">equals </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0272em;">进行判断，所以 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0272em;">Set </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0272em;">存储的对象必须覆 &nbsp;</span></div>
					<div class="stl_01" style="top:20.2683em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">写这两个方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.0383em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:22.0383em; left:7.0646em;"><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0283em;">） 如果自定义对象作为 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0283em;">Map </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0283em;">的键，那么必须覆写 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0283em;">hashCode </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0283em;">和 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0283em;">equals</span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0283em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.81em; left:6.5438em;"><span class="stl_56 stl_08 stl_87" style="word-spacing:-0.0294em;">说明：</span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0294em;">String </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0294em;">已覆写 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0294em;">hashCode </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0294em;">和 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0294em;">equals </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0294em;">方法，所以我们可以愉快地使用 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0294em;">String </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0294em;">对象作为 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0294em;">key </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0294em;">来使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.0961em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:26.0961em; left:5.6271em;"><span class="stl_27 stl_08 stl_30" style="word-spacing:0.3806em;">. </span><span class="stl_53 stl_08 stl_30" style="word-spacing:0.3806em;">【强制】</span><span class="stl_27 stl_08 stl_30" style="word-spacing:0.3806em;">ArrayList</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0367em;"> 的</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.0453em;"> subList</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.037em;"> 结果不可强转成</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.0428em;"> ArrayList</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0428em;">，否则会抛出</span><span class="stl_38 stl_08 stl_30" style="word-spacing:0.2387em;"> ClassCastException</span><span class="stl_23 stl_08 stl_30" style="word-spacing:0.2089em;"> 异 &nbsp;</span></div>
					<div class="stl_01" style="top:27.8669em; left:6.5438em;"><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0113em;">常，即 </span><span class="stl_38 stl_08 stl_39" style="word-spacing:-0.0129em;">java.util.RandomAccessSubList cannot be cast to java.util.ArrayList</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0113em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.7075em; left:6.5438em;"><span class="stl_56 stl_08 stl_61" style="word-spacing:0.2213em;">说明：</span><span class="stl_38 stl_08 stl_61" style="word-spacing:0.2213em;">subList </span><span class="stl_57 stl_08 stl_61" style="word-spacing:0.2213em;">返回的是</span><span class="stl_38 stl_08 stl_61" style="word-spacing:-0.0314em;"> ArrayList</span><span class="stl_57 stl_08 stl_61" style="word-spacing:-0.0194em;"> 的内部类</span><span class="stl_38 stl_08 stl_61" style="word-spacing:-0.0284em;"> SubList</span><span class="stl_57 stl_08 stl_61" style="word-spacing:-0.0284em;">，并不是</span><span class="stl_38 stl_08 stl_61" style="word-spacing:0.2067em;"> ArrayList</span><span class="stl_57 stl_08 stl_61" style="word-spacing:-0.0185em;"> 而是</span><span class="stl_38 stl_08 stl_61" style="word-spacing:-0.0553em;"> ArrayList</span><span class="stl_57 stl_08 stl_61" style="word-spacing:0.2187em;"> 的一个视图，对 &nbsp;</span></div>
					<div class="stl_01" style="top:31.48em; left:6.5438em;"><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0264em;">于 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0264em;">SubList </span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0264em;">子列表的所有操作最终会反映到原列表上。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7642em; left:5.0438em;"><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3797em;">3. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3797em;">【强制】</span><span class="stl_65 stl_08 stl_24" style="word-spacing:0.3797em;">使用</span><span class="stl_143 stl_71 stl_24" style="word-spacing:-0.0437em;"> Map</span><span class="stl_65 stl_08 stl_24" style="word-spacing:-0.0082em;"> 的方法</span><span class="stl_144 stl_73 stl_24" style="word-spacing:-0.0535em;"> keySet()</span><span class="stl_143 stl_71 stl_24" style="word-spacing:-0.0446em;">/</span><span class="stl_144 stl_73 stl_24" style="word-spacing:-0.0535em;">values()</span><span class="stl_143 stl_71 stl_24" style="word-spacing:-0.0446em;">/</span><span class="stl_144 stl_73 stl_24" style="word-spacing:-0.0535em;">entrySet()</span><span class="stl_65 stl_08 stl_24" style="word-spacing:-0.0446em;">返回集合对象时，不可以对其进行添 &nbsp;</span></div>
					<div class="stl_01" style="top:35.5142em; left:6.5438em;"><span class="stl_65 stl_08 stl_94" style="word-spacing:-0.0165em;">加元素操作，否则会抛出 </span><span class="stl_143 stl_71 stl_94" style="word-spacing:-0.0165em;">UnsupportedOperationException </span><span class="stl_65 stl_08 stl_94" style="word-spacing:-0.0165em;">异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9126em; left:5.0229em;"><span class="stl_78 stl_08 stl_09" style="word-spacing:0.3801em;">4. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_143 stl_71 stl_09" style="word-spacing:0.3801em;">Collections</span><span class="stl_65 stl_08 stl_09" style="word-spacing:-0.0035em;"> 类返回的对象，如：</span><span class="stl_144 stl_73 stl_09" style="word-spacing:-0.0042em;">emptyList()</span><span class="stl_143 stl_71 stl_09" style="word-spacing:-0.0035em;">/</span><span class="stl_144 stl_73 stl_09" style="word-spacing:-0.0042em;">singletonList()</span><span class="stl_65 stl_08 stl_09" style="word-spacing:-0.0035em;">等都是</span><span class="stl_143 stl_71 stl_09" style="word-spacing:-0.0433em;"> immutable &nbsp;</span></div>
					<div class="stl_01" style="top:39.6626em; left:6.5229em;"><span class="stl_143 stl_71 stl_24">list</span><span class="stl_65 stl_08 stl_24">，不可对其进行添加或者删除元素的操作。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5266em; left:6.5229em;"><span class="stl_54 stl_08 stl_26" style="word-spacing:-0.0288em;">反例：</span><span class="stl_66 stl_08 stl_26" style="word-spacing:-0.0288em;">如果查询无结果，返回 </span><span class="stl_70 stl_71 stl_26" style="word-spacing:-0.0288em;">Collections.emptyList()</span><span class="stl_66 stl_08 stl_26" style="word-spacing:-0.0288em;">空集合对象，调用方一旦进行了添加元素的操作，就 &nbsp;</span></div>
					<div class="stl_01" style="top:43.2975em; left:6.5229em;"><span class="stl_66 stl_08 stl_103" style="word-spacing:-0.0059em;">会触发 </span><span class="stl_70 stl_71 stl_103" style="word-spacing:-0.0059em;">UnsupportedOperationException </span><span class="stl_66 stl_08 stl_103" style="word-spacing:-0.0059em;">异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8519em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.38em;">5. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.38em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.38em;">在</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.046em;"> subList</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0369em;"> 场景中，</span><span class="stl_22 stl_08 stl_09" style="word-spacing:-0.0369em;">高度注意</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0369em;">对原集合元素的增加或删除，均会导致子列表的遍 &nbsp;</span></div>
					<div class="stl_01" style="top:47.6017em; left:6.5438em;"><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0451em;">历、增加、删除产生 </span><span class="stl_143 stl_71 stl_64" style="word-spacing:-0.0451em;">ConcurrentModificationException</span><span class="stl_23 stl_08 stl_64" style="word-spacing:0.2378em;"> 异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0186em; left:5.0229em;"><span class="stl_78 stl_08 stl_20" style="word-spacing:0.3795em;">6. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">使用集合转数组的方法，必须使用集合的</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0381em;"> toArray(T[]</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0064em;"> array)</span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0064em;">，传入的是类型完全一 &nbsp;</span></div>
					<div class="stl_01" style="top:51.7686em; left:6.5229em;"><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0452em;">致、长度为 </span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0452em;">0 </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0452em;">的空数组。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.6141em; left:6.5229em;"><span class="stl_54 stl_08 stl_37" style="word-spacing:-0.0259em;">反例：</span><span class="stl_66 stl_08 stl_37" style="word-spacing:-0.0259em;">直接使用 </span><span class="stl_70 stl_71 stl_37" style="word-spacing:-0.0259em;">toArray </span><span class="stl_66 stl_08 stl_37" style="word-spacing:-0.0259em;">无参方法存在问题，此方法返回值只能是 </span><span class="stl_70 stl_71 stl_37" style="word-spacing:-0.0259em;">Object[]</span><span class="stl_66 stl_08 stl_37" style="word-spacing:-0.0259em;">类，若强转其它类型数组将出 &nbsp;</span></div>
					<div class="stl_01" style="top:55.3641em; left:6.5229em;"><span class="stl_66 stl_08 stl_145" style="word-spacing:-0.0112em;">现 </span><span class="stl_70 stl_71 stl_145" style="word-spacing:-0.0112em;">ClassCastException </span><span class="stl_66 stl_08 stl_145" style="word-spacing:-0.0112em;">错误。 &nbsp;</span></div>
					<div class="stl_01" style="top:57.1533em; left:6.5229em;"><span class="stl_58 stl_08 stl_09">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:58.7439em; left:9.9208em;"><span class="stl_46 stl_08 stl_15" style="word-spacing:0.2054em;">List&lt;String&gt; list = new</span><span class="stl_46 stl_08 stl_15" style="word-spacing:0.2054em;"> ArrayList&lt;&gt;(2); &nbsp;</span></div>
					<div class="stl_01" style="top:59.9123em; left:9.9208em;"><span class="stl_46 stl_08 stl_13">list.add("guan"); &nbsp;</span></div>
					<div class="stl_01" style="top:61.0793em; left:9.9208em;"><span class="stl_46 stl_08 stl_81">list.add("bao"); &nbsp;</span></div>
					<div class="stl_01" style="top:62.246em; left:9.9208em;"><span class="stl_46 stl_08 stl_102" style="word-spacing:0.2045em;">String[] array =</span><span class="stl_46 stl_08 stl_102" style="word-spacing:0.1855em;"> list.toArray(new</span><span class="stl_46 stl_08 stl_102" style="word-spacing:0.1855em;"> String[0]); &nbsp;</span></div>
					<div class="stl_01" style="top:63.5745em; left:6.6063em;"><span class="stl_56 stl_08 stl_12" style="word-spacing:-0.0252em;">说明：</span><span class="stl_66 stl_08 stl_12" style="word-spacing:-0.0252em;">使用 </span><span class="stl_70 stl_71 stl_12" style="word-spacing:-0.0252em;">toArray </span><span class="stl_66 stl_08 stl_12" style="word-spacing:-0.0252em;">带参方法，数组空间大小的 </span><span class="stl_70 stl_71 stl_12" style="word-spacing:-0.0252em;">length</span><span class="stl_66 stl_08 stl_12" style="word-spacing:-0.0252em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:65.3245em; left:8.7958em;"><span class="stl_70 stl_71 stl_09">1</span></div>
					<div class="stl_01" style="top:67.0975em; left:8.7958em;"><span class="stl_70 stl_71 stl_09">2</span></div>
					<div class="stl_01" style="top:65.3245em; left:9.275em;"><span class="stl_66 stl_08 stl_103" style="word-spacing:0.2057em;">） </span><span class="stl_121 stl_08 stl_103" style="word-spacing:0.2057em;">等于</span><span class="stl_146 stl_71 stl_103" style="word-spacing:0.2057em;"> 0</span><span class="stl_66 stl_08 stl_103" style="word-spacing:-0.0295em;">，动态创建与</span><span class="stl_70 stl_71 stl_103" style="word-spacing:-0.0303em;"> size</span><span class="stl_66 stl_08 stl_103" style="word-spacing:-0.0085em;"> 相同的数组，性能最好。 &nbsp;</span></div>
					<div class="stl_01" style="top:67.0975em; left:9.275em;"><span class="stl_66 stl_08 stl_94" style="word-spacing:0.2054em;">） </span><span class="stl_121 stl_08 stl_94" style="word-spacing:0.2054em;">大于</span><span class="stl_146 stl_71 stl_94" style="word-spacing:-0.0298em;"> 0</span><span class="stl_121 stl_08 stl_94" style="word-spacing:-0.0022em;"> 但小于</span><span class="stl_146 stl_71 stl_94" style="word-spacing:-0.0565em;"> size</span><span class="stl_66 stl_08 stl_94" style="word-spacing:-0.0565em;">，重新创建大小等于</span><span class="stl_70 stl_71 stl_94" style="word-spacing:-0.0298em;"> size</span><span class="stl_66 stl_08 stl_94" style="word-spacing:-0.0088em;"> 的数组，增加</span><span class="stl_70 stl_71 stl_94" style="word-spacing:-0.0277em;"> GC</span><span class="stl_66 stl_08 stl_94" style="word-spacing:-0.0118em;"> 负担。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">1/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_17.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_17.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.1416em; left:8.7958em;"><span class="stl_70 stl_71 stl_09">3</span></div>
					<div class="stl_01" style="top:4.9125em; left:8.7958em;"><span class="stl_70 stl_71 stl_09">4</span></div>
					<div class="stl_01" style="top:3.1416em; left:9.275em;"><span class="stl_66 stl_08 stl_26" style="word-spacing:0.2045em;">） </span><span class="stl_121 stl_08 stl_26" style="word-spacing:0.2045em;">等于</span><span class="stl_146 stl_71 stl_26" style="word-spacing:-0.0308em;"> size</span><span class="stl_66 stl_08 stl_26" style="word-spacing:-0.0308em;">，在高并发情况下，数组创建完成之后，</span><span class="stl_70 stl_71 stl_26" style="word-spacing:-0.0308em;">size</span><span class="stl_66 stl_08 stl_26" style="word-spacing:-0.0105em;"> 正在变大的情况下，负面影响与上相同。 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9125em; left:9.275em;"><span class="stl_66 stl_08 stl_24" style="word-spacing:0.2038em;">） </span><span class="stl_121 stl_08 stl_24" style="word-spacing:0.2038em;">大于</span><span class="stl_146 stl_71 stl_24" style="word-spacing:-0.0315em;"> size</span><span class="stl_66 stl_08 stl_24" style="word-spacing:-0.0315em;">，空间浪费，且在</span><span class="stl_70 stl_71 stl_24" style="word-spacing:-0.0562em;"> size</span><span class="stl_66 stl_08 stl_24" style="word-spacing:-0.0076em;"> 处插入</span><span class="stl_70 stl_71 stl_24" style="word-spacing:-0.0343em;"> null</span><span class="stl_66 stl_08 stl_24" style="word-spacing:-0.0135em;"> 值，存在</span><span class="stl_70 stl_71 stl_24" style="word-spacing:-0.0324em;"> NPE</span><span class="stl_66 stl_08 stl_24" style="word-spacing:-0.0148em;"> 隐患。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.5902em; left:5.0438em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3792em;">7. </span><span class="stl_53 stl_08 stl_13" style="word-spacing:0.3792em;">【强制】</span><span class="stl_65 stl_08 stl_13" style="word-spacing:0.3792em;">在使用</span><span class="stl_78 stl_08 stl_13" style="word-spacing:-0.0442em;"> Collection</span><span class="stl_65 stl_08 stl_13" style="word-spacing:-0.0328em;"> 接口任何实现类的</span><span class="stl_78 stl_08 stl_13" style="word-spacing:-0.0442em;"> addAll()</span><span class="stl_65 stl_08 stl_13" style="word-spacing:-0.0442em;">方法时，都要对输入的集合参数进行 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3611em; left:6.5438em;"><span class="stl_78 stl_08 stl_140" style="word-spacing:-0.0484em;">NPE </span><span class="stl_65 stl_08 stl_140" style="word-spacing:-0.0484em;">判断。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.2033em; left:6.5438em;"><span class="stl_56 stl_08 stl_09" style="word-spacing:-0.0229em;">说明：</span><span class="stl_66 stl_08 stl_09" style="word-spacing:-0.0229em;">在 </span><span class="stl_67 stl_08 stl_09" style="word-spacing:-0.0229em;">ArrayList#addAll </span><span class="stl_66 stl_08 stl_09" style="word-spacing:-0.0229em;">方法的第一行代码即 </span><span class="stl_67 stl_08 stl_09" style="word-spacing:-0.0229em;">Object[] a = c.toArray(); </span><span class="stl_66 stl_08 stl_09" style="word-spacing:-0.0229em;">其中 </span><span class="stl_67 stl_08 stl_09" style="word-spacing:-0.0229em;">c </span><span class="stl_66 stl_08 stl_09" style="word-spacing:-0.0229em;">为输入集合参数，如果 &nbsp;</span></div>
					<div class="stl_01" style="top:12.9742em; left:6.5438em;"><span class="stl_66 stl_08 stl_09" style="word-spacing:-0.0316em;">为 </span><span class="stl_67 stl_08 stl_09" style="word-spacing:-0.0316em;">null</span><span class="stl_66 stl_08 stl_09" style="word-spacing:-0.0316em;">，则直接抛出异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.2794em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:15.2794em; left:5.6271em;"><span class="stl_27 stl_08 stl_12" style="word-spacing:0.3803em;">. </span><span class="stl_53 stl_08 stl_12" style="word-spacing:0.3803em;">【强制】</span><span class="stl_23 stl_08 stl_12" style="word-spacing:0.3803em;">使用工具类</span><span class="stl_27 stl_08 stl_12" style="word-spacing:-0.0431em;"> Arrays.asList()</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0431em;">把数组转换成集合时，不能使用其修改集合相关的方 &nbsp;</span></div>
					<div class="stl_01" style="top:17.0319em; left:6.5438em;"><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0389em;">法，它的 </span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0389em;">add/remove/clear </span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0389em;">方法会抛出 </span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0389em;">UnsupportedOperationException </span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0389em;">异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.8933em; left:6.5438em;"><span class="stl_56 stl_08 stl_87" style="word-spacing:-0.027em;">说明：</span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.027em;">asList </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.027em;">的返回对象是一个 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.027em;">Arrays </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.027em;">内部类，并没有实现集合的修改方法。</span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.027em;">Arrays.asList </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.027em;">体现的是适 &nbsp;</span></div>
					<div class="stl_01" style="top:20.6433em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">配器模式，只是转换接口，后台的数据仍是数组。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.4839em; left:8.0458em;"><span class="stl_46 stl_08 stl_94" style="word-spacing:0.0085em;">String[] str = new String[] { "yang", "hao" }; &nbsp;</span></div>
					<div class="stl_01" style="top:24.2564em; left:8.0458em;"><span class="stl_46 stl_08 stl_13" style="word-spacing:-0.0037em;">List list = Arrays.asList(str); &nbsp;</span></div>
					<div class="stl_01" style="top:25.9367em; left:6.5438em;"><span class="stl_57 stl_08 stl_64" style="word-spacing:0.204em;">第一种情况：</span><span class="stl_38 stl_08 stl_64" style="word-spacing:0.204em;">list.add("yangguanbao"); </span><span class="stl_57 stl_08 stl_64" style="word-spacing:0.204em;">运行时异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.7075em; left:6.5438em;"><span class="stl_57 stl_08 stl_62" style="word-spacing:-0.0079em;">第二种情况：</span><span class="stl_38 stl_08 stl_62" style="word-spacing:-0.0079em;">str[0] =</span><span class="stl_38 stl_08 stl_62" style="word-spacing:-0.0153em;"> "changed";</span><span class="stl_66 stl_08 stl_62" style="word-spacing:0.1993em;"> 也会随之修改，反之亦然。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.9919em; left:5.0438em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">9. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">泛型通配符</span><span class="stl_147 stl_08 stl_15" style="word-spacing:0.4144em;">&lt;?</span><span class="stl_147 stl_08 stl_15" style="word-spacing:-0.006em;"> extends</span><span class="stl_147 stl_08 stl_15" style="word-spacing:-0.008em;"> T&gt;</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0073em;">来接收返回的数据，此写法的泛型集合不能使用</span><span class="stl_147 stl_08 stl_15" style="word-spacing:-0.0385em;"> add</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0353em;"> 方 &nbsp;</span></div>
					<div class="stl_01" style="top:31.7644em; left:6.5438em;"><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0241em;">法，而</span><span class="stl_147 stl_08 stl_90" style="word-spacing:-0.0263em;">&lt;? super T&gt;</span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0241em;">不能使用 </span><span class="stl_147 stl_08 stl_90" style="word-spacing:-0.0263em;">get </span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0241em;">方法，作为接口调用赋值时易出错。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.6258em; left:6.5438em;"><span class="stl_56 stl_08 stl_39" style="word-spacing:-0.0189em;">说明：</span><span class="stl_57 stl_08 stl_39" style="word-spacing:-0.0189em;">扩展说一下 </span><span class="stl_38 stl_08 stl_39" style="word-spacing:-0.0189em;">PECS(Producer Extends Consumer Super)</span><span class="stl_57 stl_08 stl_39" style="word-spacing:-0.0189em;">原则：第一、频繁往外读取内容的，适合 &nbsp;</span></div>
					<div class="stl_01" style="top:35.3758em; left:6.5438em;"><span class="stl_57 stl_08 stl_62" style="word-spacing:-0.0099em;">用</span><span class="stl_38 stl_08 stl_62" style="word-spacing:-0.0099em;">&lt;? extends T&gt;</span><span class="stl_57 stl_08 stl_62" style="word-spacing:-0.0099em;">。第二、经常往里插入的，适合用</span><span class="stl_38 stl_08 stl_62" style="word-spacing:-0.0099em;">&lt;? super T&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:37.6811em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:37.6811em; left:5.6271em;"><span class="stl_27 stl_08 stl_114">0.</span><span class="stl_53 stl_08 stl_114">【强制】</span><span class="stl_65 stl_08 stl_114">在无泛型限制定义的集合赋值给泛型限制的集合时，在使用集合元素时，需要进行 &nbsp;</span></div>
					<div class="stl_01" style="top:39.4336em; left:6.5438em;"><span class="stl_78 stl_08 stl_94" style="word-spacing:-0.0331em;">instanceof </span><span class="stl_65 stl_08 stl_94" style="word-spacing:-0.0331em;">判断，避免抛出 </span><span class="stl_78 stl_08 stl_94" style="word-spacing:-0.0331em;">ClassCastException </span><span class="stl_65 stl_08 stl_94" style="word-spacing:-0.0331em;">异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.295em; left:6.5438em;"><span class="stl_56 stl_08 stl_94" style="word-spacing:-0.0265em;">说明：</span><span class="stl_66 stl_08 stl_94" style="word-spacing:-0.0265em;">毕竟泛型是在 </span><span class="stl_67 stl_08 stl_94" style="word-spacing:-0.0265em;">JDK5 </span><span class="stl_66 stl_08 stl_94" style="word-spacing:-0.0265em;">后才出现，考虑到向前兼容，编译器是允许非泛型集合与泛型集合互相赋值。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0658em; left:6.5438em;"><span class="stl_54 stl_08 stl_60">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:45.2623em; left:8.7958em;"><span class="stl_48 stl_08 stl_49" style="word-spacing:0.0111em;">List</span><span class="stl_88 stl_08 stl_49" style="word-spacing:0.0111em;">&lt;</span><span class="stl_48 stl_08 stl_49" style="word-spacing:0.0111em;">String</span><span class="stl_88 stl_08 stl_49" style="word-spacing:0.0111em;">&gt; </span><span class="stl_48 stl_08 stl_49" style="word-spacing:0.0111em;">generics </span><span class="stl_88 stl_08 stl_49" style="word-spacing:0.0111em;">= </span><span class="stl_48 stl_08 stl_49" style="word-spacing:0.0111em;">null</span><span class="stl_80 stl_08 stl_49" style="word-spacing:0.0111em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:46.4289em; left:8.7958em;"><span class="stl_48 stl_08 stl_77" style="word-spacing:0.0121em;">List notGenerics </span><span class="stl_88 stl_08 stl_77" style="word-spacing:0.0121em;">= </span><span class="stl_79 stl_08 stl_77" style="word-spacing:0.0121em;">new </span><span class="stl_48 stl_08 stl_77" style="word-spacing:0.0121em;">ArrayList</span><span class="stl_80 stl_08 stl_77" style="word-spacing:0.0121em;">(</span><span class="stl_86 stl_08 stl_77" style="word-spacing:0.0121em;">10</span><span class="stl_80 stl_08 stl_77" style="word-spacing:0.0121em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:47.5964em; left:8.7958em;"><span class="stl_48 stl_08 stl_30" style="word-spacing:-0.0019em;">notGenerics</span><span class="stl_80 stl_08 stl_30" style="word-spacing:-0.0019em;">.</span><span class="stl_84 stl_08 stl_30" style="word-spacing:-0.0019em;">add</span><span class="stl_80 stl_08 stl_30" style="word-spacing:-0.0019em;">(</span><span class="stl_79 stl_08 stl_30" style="word-spacing:-0.0019em;">new </span><span class="stl_48 stl_08 stl_30" style="word-spacing:-0.0019em;">Object</span><span class="stl_80 stl_08 stl_30" style="word-spacing:-0.0019em;">()); &nbsp;</span></div>
					<div class="stl_01" style="top:48.7623em; left:8.7958em;"><span class="stl_48 stl_08 stl_30" style="word-spacing:-0.0018em;">notGenerics</span><span class="stl_80 stl_08 stl_30" style="word-spacing:-0.0018em;">.</span><span class="stl_84 stl_08 stl_30" style="word-spacing:-0.0018em;">add</span><span class="stl_80 stl_08 stl_30" style="word-spacing:-0.0018em;">(</span><span class="stl_79 stl_08 stl_30" style="word-spacing:-0.0018em;">new </span><span class="stl_48 stl_08 stl_30" style="word-spacing:-0.0018em;">Integer</span><span class="stl_80 stl_08 stl_30" style="word-spacing:-0.0018em;">(</span><span class="stl_86 stl_08 stl_30" style="word-spacing:-0.0018em;">1</span><span class="stl_80 stl_08 stl_30" style="word-spacing:-0.0018em;">)); &nbsp;</span></div>
					<div class="stl_01" style="top:51.0956em; left:8.7958em;"><span class="stl_48 stl_08 stl_77" style="word-spacing:0.023em;">generics </span><span class="stl_88 stl_08 stl_77" style="word-spacing:0.023em;">= </span><span class="stl_48 stl_08 stl_77" style="word-spacing:0.023em;">notGenerics</span><span class="stl_80 stl_08 stl_77" style="word-spacing:0.023em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:52.2648em; left:8.7958em;"><span class="stl_148 stl_08 stl_09" style="word-spacing:0.1936em;">// </span><span class="stl_149 stl_08 stl_09" style="word-spacing:0.1936em;">此处抛出</span><span class="stl_148 stl_08 stl_09" style="word-spacing:-0.0425em;"> ClassCastException</span><span class="stl_149 stl_08 stl_09" style="word-spacing:-0.0399em;"> 异常 &nbsp;</span></div>
					<div class="stl_01" style="top:53.4314em; left:8.7958em;"><span class="stl_48 stl_08 stl_30" style="word-spacing:0.0064em;">String string </span><span class="stl_88 stl_08 stl_30" style="word-spacing:0.0064em;">= </span><span class="stl_48 stl_08 stl_30" style="word-spacing:0.0064em;">generics</span><span class="stl_80 stl_08 stl_30" style="word-spacing:0.0064em;">.</span><span class="stl_84 stl_08 stl_30" style="word-spacing:0.0064em;">get</span><span class="stl_80 stl_08 stl_30" style="word-spacing:0.0064em;">(</span><span class="stl_86 stl_08 stl_30" style="word-spacing:0.0064em;">0</span><span class="stl_80 stl_08 stl_30" style="word-spacing:0.0064em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:55.1877em; left:5.0229em;"><span class="stl_27 stl_08 stl_122" style="word-spacing:-0.0445em;">11.</span><span class="stl_53 stl_08 stl_122" style="word-spacing:-0.0445em;">【强制】</span><span class="stl_23 stl_08 stl_122" style="word-spacing:-0.0445em;">不要在 </span><span class="stl_27 stl_08 stl_122" style="word-spacing:-0.0445em;">foreach </span><span class="stl_23 stl_08 stl_122" style="word-spacing:-0.0445em;">循环里进行元素的 </span><span class="stl_27 stl_08 stl_122" style="word-spacing:-0.0445em;">remove/add </span><span class="stl_23 stl_08 stl_122" style="word-spacing:-0.0445em;">操作。</span><span class="stl_27 stl_08 stl_122" style="word-spacing:-0.0445em;">remove </span><span class="stl_23 stl_08 stl_122" style="word-spacing:-0.0445em;">元素请使用 &nbsp;</span></div>
					<div class="stl_01" style="top:56.9586em; left:6.5229em;"><span class="stl_27 stl_08 stl_39" style="word-spacing:-0.0478em;">Iterator </span><span class="stl_23 stl_08 stl_39" style="word-spacing:-0.0478em;">方式，如果并发操作，需要对 </span><span class="stl_27 stl_08 stl_39" style="word-spacing:-0.0478em;">Iterator </span><span class="stl_23 stl_08 stl_39" style="word-spacing:-0.0478em;">对象加锁。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.7992em; left:6.5438em;"><span class="stl_58 stl_08 stl_09">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:60.3923em; left:8.0458em;"><span class="stl_46 stl_08 stl_24" style="word-spacing:0.2003em;">List&lt;String&gt; list = new ArrayList&lt;&gt;(); &nbsp;</span></div>
					<div class="stl_01" style="top:61.5585em; left:8.0458em;"><span class="stl_46 stl_08 stl_62">list.add("1"); &nbsp;</span></div>
					<div class="stl_01" style="top:62.7252em; left:8.0458em;"><span class="stl_46 stl_08 stl_62">list.add("2"); &nbsp;</span></div>
					<div class="stl_01" style="top:63.8918em; left:8.0458em;"><span class="stl_46 stl_08 stl_24" style="word-spacing:0.2102em;">Iterator&lt;String&gt; iterator = list.iterator(); &nbsp;</span></div>
					<div class="stl_01" style="top:65.0585em; left:8.0458em;"><span class="stl_46 stl_08 stl_94" style="word-spacing:0.1989em;">while (iterator.hasNext()) { &nbsp;</span></div>
					<div class="stl_01" style="top:66.2252em; left:9.9208em;"><span class="stl_46 stl_08 stl_107" style="word-spacing:0.2144em;">String item = iterator.next(); &nbsp;</span></div>
					<div class="stl_01" style="top:67.3939em; left:9.9208em;"><span class="stl_46 stl_08 stl_122" style="word-spacing:0.1923em;">if (</span><span class="stl_45 stl_08 stl_122" style="word-spacing:0.1923em;">删除元素的条件</span><span class="stl_46 stl_08 stl_122" style="word-spacing:0.1923em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">2/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_18.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_18.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:2.9798em; left:11.7958em;"><span class="stl_46 stl_08 stl_24">iterator.remove(); &nbsp;</span></div>
					<div class="stl_01" style="top:4.1464em; left:9.9208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:5.5631em; left:8.025em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:7.2642em; left:6.6063em;"><span class="stl_54 stl_08 stl_09">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:8.8339em; left:8.0458em;"><span class="stl_46 stl_08 stl_39" style="word-spacing:0.2074em;">for (String item : list) { &nbsp;</span></div>
					<div class="stl_01" style="top:10.0023em; left:9.9208em;"><span class="stl_46 stl_08 stl_114" style="word-spacing:0.1928em;">if ("1".equals(item)) { &nbsp;</span></div>
					<div class="stl_01" style="top:11.1689em; left:11.7958em;"><span class="stl_46 stl_08 stl_122">list.remove(item); &nbsp;</span></div>
					<div class="stl_01" style="top:12.3356em; left:9.9208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:13.5023em; left:8.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:14.8492em; left:6.5438em;"><span class="stl_56 stl_08 stl_102">说明：</span><span class="stl_57 stl_08 stl_102">以上代码的执行结果肯定会出乎大家的意料，那么试一下把“1”换成“2”，会是同样的结果吗？ &nbsp;</span></div>
					<div class="stl_01" style="top:17.4069em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:17.4069em; left:5.6063em;"><span class="stl_27 stl_08 stl_63" style="word-spacing:-0.0453em;">2.</span><span class="stl_53 stl_08 stl_63" style="word-spacing:-0.0453em;">【强制】</span><span class="stl_23 stl_08 stl_63" style="word-spacing:-0.0453em;">在 </span><span class="stl_38 stl_08 stl_150" style="word-spacing:-0.0517em;">JDK</span><span class="stl_27 stl_08 stl_63" style="word-spacing:-0.0453em;">7 </span><span class="stl_23 stl_08 stl_63" style="word-spacing:-0.0453em;">版本及以上，</span><span class="stl_38 stl_08 stl_150" style="word-spacing:-0.0517em;">Comparator </span><span class="stl_23 stl_08 stl_63" style="word-spacing:-0.0453em;">实现类要满足如下三个条件，不然 </span><span class="stl_38 stl_08 stl_150" style="word-spacing:-0.0517em;">Arrays</span><span class="stl_27 stl_08 stl_63" style="word-spacing:-0.0453em;">.</span><span class="stl_38 stl_08 stl_150" style="word-spacing:-0.0517em;">sort</span><span class="stl_23 stl_08 stl_63" style="word-spacing:-0.0453em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:19.1777em; left:6.5229em;"><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0291em;">Collections</span><span class="stl_27 stl_08 stl_94" style="word-spacing:-0.0255em;">.</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0291em;">sort </span><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.0255em;">会抛 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0291em;">IllegalArgumentException </span><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.0255em;">异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.0183em; left:6.5229em;"><span class="stl_56 stl_08 stl_102">说明：</span><span class="stl_57 stl_08 stl_102">三个条件如下 &nbsp;</span></div>
					<div class="stl_01" style="top:22.7883em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:24.5408em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:26.3117em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:22.7883em; left:7.4813em;"><span class="stl_57 stl_08 stl_94" style="word-spacing:0.2078em;">） </span><span class="stl_38 stl_08 stl_94" style="word-spacing:0.2078em;">x</span><span class="stl_57 stl_08 stl_94" style="word-spacing:0.2078em;">，</span><span class="stl_38 stl_08 stl_94" style="word-spacing:0.2078em;">y</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0382em;"> 的比较结果和</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0382em;"> y</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0382em;">，</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0298em;">x</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0395em;"> 的比较结果相反。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5408em; left:7.4813em;"><span class="stl_57 stl_08 stl_107" style="word-spacing:0.2094em;">） </span><span class="stl_38 stl_08 stl_107" style="word-spacing:0.2094em;">x&gt;y</span><span class="stl_57 stl_08 stl_107" style="word-spacing:0.2094em;">，</span><span class="stl_38 stl_08 stl_107" style="word-spacing:0.2094em;">y&gt;z</span><span class="stl_57 stl_08 stl_107" style="word-spacing:0.2094em;">，则</span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.0311em;"> x&gt;z</span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0311em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.3117em; left:7.4813em;"><span class="stl_57 stl_08 stl_151" style="word-spacing:0.2119em;">） </span><span class="stl_38 stl_08 stl_151" style="word-spacing:0.2119em;">x=y</span><span class="stl_57 stl_08 stl_151" style="word-spacing:0.2119em;">，则</span><span class="stl_38 stl_08 stl_151" style="word-spacing:0.2119em;"> x</span><span class="stl_57 stl_08 stl_151" style="word-spacing:0.2119em;">，</span><span class="stl_38 stl_08 stl_151" style="word-spacing:-0.0285em;">z</span><span class="stl_57 stl_08 stl_151" style="word-spacing:-0.0202em;"> 比较结果和</span><span class="stl_38 stl_08 stl_151" style="word-spacing:-0.0202em;"> y</span><span class="stl_57 stl_08 stl_151" style="word-spacing:-0.0202em;">，</span><span class="stl_38 stl_08 stl_151" style="word-spacing:-0.0266em;">z</span><span class="stl_57 stl_08 stl_151" style="word-spacing:-0.0202em;"> 比较结果相同。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.0825em; left:6.5229em;"><span class="stl_54 stl_08 stl_15">反例：</span><span class="stl_57 stl_08 stl_15">下例中没有处理相等的情况，交换两个对象判断结果并不互反，不符合第一个条件，在实际使用中 &nbsp;</span></div>
					<div class="stl_01" style="top:29.8325em; left:9.2333em;"><span class="stl_57 stl_08 stl_09">可能会出现异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.4248em; left:8.0458em;"><span class="stl_46 stl_08 stl_77" style="word-spacing:0.1992em;">new Comparator&lt;Student&gt;() { &nbsp;</span></div>
					<div class="stl_01" style="top:32.5914em; left:9.5458em;"><span class="stl_152 stl_08 stl_24">@</span><span class="stl_153 stl_08 stl_24">Override &nbsp;</span></div>
					<div class="stl_01" style="top:33.7581em; left:9.5458em;"><span class="stl_46 stl_08 stl_26" style="word-spacing:0.1953em;">public int compare(Student o1,</span><span class="stl_46 stl_08 stl_26" style="word-spacing:0.2024em;"> Student o2)</span><span class="stl_46 stl_08 stl_26" style="word-spacing:0.2024em;"> { &nbsp;</span></div>
					<div class="stl_01" style="top:34.9248em; left:11.4208em;"><span class="stl_46 stl_08 stl_74" style="word-spacing:0.2016em;">return o1.getId() &gt; o2.getId() ? 1 :</span><span class="stl_46 stl_08 stl_74" style="word-spacing:0.2364em;"> -1; &nbsp;</span></div>
					<div class="stl_01" style="top:36.0914em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:37.2581em; left:8.0458em;"><span class="stl_46 stl_08 stl_94">}; &nbsp;</span></div>
					<div class="stl_01" style="top:39.3919em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:39.3919em; left:5.6063em;"><span class="stl_27 stl_08 stl_154" style="word-spacing:-0.0503em;">3.</span><span class="stl_17 stl_08 stl_154" style="word-spacing:-0.0503em;">【推荐】</span><span class="stl_23 stl_08 stl_154" style="word-spacing:-0.0503em;">集合泛型定义时，在 </span><span class="stl_27 stl_08 stl_154" style="word-spacing:-0.0503em;">JDK7 </span><span class="stl_23 stl_08 stl_154" style="word-spacing:-0.0503em;">及以上，使用 </span><span class="stl_27 stl_08 stl_154" style="word-spacing:-0.0503em;">diamond </span><span class="stl_23 stl_08 stl_154" style="word-spacing:-0.0503em;">语法或全省略。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.2533em; left:6.1688em;"><span class="stl_56 stl_08 stl_09" style="word-spacing:-0.0311em;">说明：</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0311em;">菱形泛型，即 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0311em;">diamond</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0311em;">，直接使用</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0311em;">&lt;&gt;</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0311em;">来指代前边已经指定的类型。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.0033em; left:6.1688em;"><span class="stl_58 stl_08 stl_09">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:44.5939em; left:8.0458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:44.5939em; left:8.3583em;"><span class="stl_82 stl_08 stl_141" style="word-spacing:0.1879em;">/ diamond</span><span class="stl_83 stl_08 stl_141" style="word-spacing:-0.0527em;"> 方式，即</span><span class="stl_82 stl_08 stl_141" style="word-spacing:-0.0527em;">&lt;&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:45.7623em; left:8.0458em;"><span class="stl_46 stl_08 stl_26" style="word-spacing:0.2183em;">HashMap&lt;String, String&gt; userCache</span><span class="stl_46 stl_08 stl_26" style="word-spacing:0.1983em;"> = new</span><span class="stl_46 stl_08 stl_26" style="word-spacing:0.1983em;"> HashMap&lt;&gt;(16); &nbsp;</span></div>
					<div class="stl_01" style="top:46.9289em; left:8.3583em;"><span class="stl_82 stl_08 stl_09" style="word-spacing:0.1935em;">/ </span><span class="stl_83 stl_08 stl_09" style="word-spacing:0.1935em;">全省略方式 &nbsp;</span></div>
					<div class="stl_01" style="top:46.9289em; left:8.0458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:48.0956em; left:8.0458em;"><span class="stl_46 stl_08 stl_49" style="word-spacing:0.2114em;">ArrayList&lt;User&gt; users</span><span class="stl_46 stl_08 stl_49" style="word-spacing:0.1843em;"> =</span><span class="stl_46 stl_08 stl_49" style="word-spacing:0.202em;"> new</span><span class="stl_46 stl_08 stl_49" style="word-spacing:0.202em;"> ArrayList(10); &nbsp;</span></div>
					<div class="stl_01" style="top:50.2269em; left:5.0229em;"><span class="stl_27 stl_08 stl_155">14.</span><span class="stl_17 stl_08 stl_155">【推荐】</span><span class="stl_23 stl_08 stl_155">集合初始化时，指定集合初始值大小。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.0883em; left:6.5229em;"><span class="stl_56 stl_08 stl_107" style="word-spacing:-0.0233em;">说明：</span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.0233em;">HashMap </span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0233em;">使用</span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.0311em;"> HashMap(int</span><span class="stl_38 stl_08 stl_107" style="word-spacing:0.0005em;"> initialCapacity)</span><span class="stl_57 stl_08 stl_107" style="word-spacing:0.2394em;"> 初始化。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.8408em; left:6.5229em;"><span class="stl_58 stl_08 stl_90" style="word-spacing:-0.0116em;">正例：</span><span class="stl_38 stl_08 stl_90" style="word-spacing:-0.0116em;">initialCapacity =</span><span class="stl_38 stl_08 stl_90" style="word-spacing:-0.0116em;"> (</span><span class="stl_57 stl_08 stl_90" style="word-spacing:0.0083em;">需要存储的元素个数</span><span class="stl_38 stl_08 stl_90" style="word-spacing:0.0083em;"> / </span><span class="stl_57 stl_08 stl_90" style="word-spacing:0.2055em;">负载因子</span><span class="stl_38 stl_08 stl_90" style="word-spacing:0.2055em;">)</span><span class="stl_38 stl_08 stl_90" style="word-spacing:-0.0126em;"> +</span><span class="stl_38 stl_08 stl_90" style="word-spacing:-0.0126em;"> 1</span><span class="stl_57 stl_08 stl_90" style="word-spacing:-0.0153em;">。注意负载因子（即</span><span class="stl_38 stl_08 stl_90" style="word-spacing:-0.0328em;"> loader</span><span class="stl_38 stl_08 stl_90" style="word-spacing:-0.0124em;"> factor</span><span class="stl_57 stl_08 stl_90" style="word-spacing:-0.0124em;">）默认 &nbsp;</span></div>
					<div class="stl_01" style="top:55.6117em; left:6.5229em;"><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0272em;">为 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0272em;">0.75</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0272em;">，如果暂时无法确定初始值大小，请设置为 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0272em;">16</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0272em;">（即默认值）。 &nbsp;</span></div>
					<div class="stl_01" style="top:57.3617em; left:6.5438em;"><span class="stl_54 stl_08 stl_98" style="word-spacing:-0.0244em;">反例：</span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0244em;">HashMap </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0244em;">需要放置 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0244em;">1024 </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0244em;">个元素，由于没有设置容量初始大小，随着元素不断增加，容量 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0244em;">7 </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0244em;">次被 &nbsp;</span></div>
					<div class="stl_01" style="top:59.1325em; left:6.5438em;"><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0272em;">迫扩大，</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0272em;">resize </span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0272em;">需要重建 </span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0272em;">hash </span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0272em;">表，严重影响性能。 &nbsp;</span></div>
					<div class="stl_01" style="top:61.4398em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:61.4398em; left:5.6271em;"><span class="stl_27 stl_08 stl_60" style="word-spacing:-0.0361em;">5.</span><span class="stl_17 stl_08 stl_60" style="word-spacing:-0.0361em;">【推荐】</span><span class="stl_23 stl_08 stl_60" style="word-spacing:-0.0361em;">使用 </span><span class="stl_38 stl_08 stl_156" style="word-spacing:-0.0412em;">entrySet </span><span class="stl_23 stl_08 stl_60" style="word-spacing:-0.0361em;">遍历 </span><span class="stl_38 stl_08 stl_156" style="word-spacing:-0.0412em;">Map </span><span class="stl_23 stl_08 stl_60" style="word-spacing:-0.0361em;">类集合 </span><span class="stl_38 stl_08 stl_156" style="word-spacing:-0.0412em;">KV</span><span class="stl_23 stl_08 stl_60" style="word-spacing:-0.0361em;">，而不是 </span><span class="stl_38 stl_08 stl_156" style="word-spacing:-0.0412em;">keySet </span><span class="stl_23 stl_08 stl_60" style="word-spacing:-0.0361em;">方式进行遍历。 &nbsp;</span></div>
					<div class="stl_01" style="top:63.2804em; left:6.5438em;"><span class="stl_56 stl_08 stl_138" style="word-spacing:-0.0289em;">说明：</span><span class="stl_38 stl_08 stl_138" style="word-spacing:-0.0289em;">keySet </span><span class="stl_57 stl_08 stl_138" style="word-spacing:-0.0289em;">其实是遍历了 </span><span class="stl_38 stl_08 stl_138" style="word-spacing:-0.0289em;">2 </span><span class="stl_57 stl_08 stl_138" style="word-spacing:-0.0289em;">次，一次是转为 </span><span class="stl_38 stl_08 stl_138" style="word-spacing:-0.0289em;">Iterator </span><span class="stl_57 stl_08 stl_138" style="word-spacing:-0.0289em;">对象，另一次是从 </span><span class="stl_38 stl_08 stl_138" style="word-spacing:-0.0289em;">hashMap </span><span class="stl_57 stl_08 stl_138" style="word-spacing:-0.0289em;">中取出 </span><span class="stl_38 stl_08 stl_138" style="word-spacing:-0.0289em;">key </span><span class="stl_57 stl_08 stl_138" style="word-spacing:-0.0289em;">所对应 &nbsp;</span></div>
					<div class="stl_01" style="top:65.0512em; left:6.5438em;"><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0301em;">的 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0301em;">value</span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0301em;">。而 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0301em;">entrySet </span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0301em;">只是遍历了一次就把 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0301em;">key </span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0301em;">和 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0301em;">value </span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0301em;">都放到了 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0301em;">entry </span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0301em;">中，效率更高。如果是 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0301em;">JDK8</span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0301em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:66.8033em; left:6.5438em;"><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0312em;">使用 </span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0312em;">Map.forEach </span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0312em;">方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">3/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_19.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_19.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.16em; left:6.5438em;"><span class="stl_58 stl_08 stl_107" style="word-spacing:-0.0302em;">正例：</span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.0302em;">values()</span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0302em;">返回的是 </span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.0302em;">V </span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0302em;">值集合，是一个 </span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.0302em;">list </span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0302em;">集合对象；</span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.0302em;">keySet()</span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0302em;">返回的是 </span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.0302em;">K </span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0302em;">值集合，是一个 </span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.0302em;">Set </span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0302em;">集合 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5438em;"><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.041em;">对象；</span><span class="stl_38 stl_08 stl_111" style="word-spacing:-0.041em;">entrySet()</span><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.041em;">返回的是 </span><span class="stl_38 stl_08 stl_111" style="word-spacing:-0.041em;">K-V </span><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.041em;">值组合集合。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.0438em;"><span class="stl_27 stl_08 stl_157" style="word-spacing:-0.0509em;">16.</span><span class="stl_17 stl_08 stl_157" style="word-spacing:-0.0509em;">【推荐】</span><span class="stl_23 stl_08 stl_157" style="word-spacing:-0.0509em;">高度注意 </span><span class="stl_27 stl_08 stl_157" style="word-spacing:-0.0509em;">Map </span><span class="stl_23 stl_08 stl_157" style="word-spacing:-0.0509em;">类集合 </span><span class="stl_27 stl_08 stl_157" style="word-spacing:-0.0509em;">K/V </span><span class="stl_23 stl_08 stl_157" style="word-spacing:-0.0509em;">能不能存储 </span><span class="stl_27 stl_08 stl_157" style="word-spacing:-0.0509em;">null </span><span class="stl_23 stl_08 stl_157" style="word-spacing:-0.0509em;">值的情况，如下表格： &nbsp;</span></div>
					<div class="stl_01" style="top:10.1641em; left:9.9833em;"><span class="stl_158 stl_08 stl_09">集合类 &nbsp;</span></div>
					<div class="stl_01" style="top:10.1641em; left:18.0083em;"><span class="stl_159 stl_08 stl_138">Key &nbsp;</span></div>
					<div class="stl_01" style="top:10.1641em; left:23.615em;"><span class="stl_159 stl_08 stl_160">Value &nbsp;</span></div>
					<div class="stl_01" style="top:10.1641em; left:29.6375em;"><span class="stl_159 stl_08 stl_161">Super &nbsp;</span></div>
					<div class="stl_01" style="top:10.1641em; left:38.1em;"><span class="stl_158 stl_08 stl_09">说明 &nbsp;</span></div>
					<div class="stl_01" style="top:12.7731em; left:7.5042em;"><span class="stl_48 stl_08 stl_110">Hashtable &nbsp;</span></div>
					<div class="stl_01" style="top:12.7731em; left:16.465em;"><span class="stl_162 stl_08 stl_15" style="word-spacing:-0.0438em;">不允许为 </span><span class="stl_163 stl_08 stl_15" style="word-spacing:-0.0438em;">null &nbsp;</span></div>
					<div class="stl_01" style="top:15.3564em; left:16.465em;"><span class="stl_162 stl_08 stl_15" style="word-spacing:-0.0438em;">不允许为 </span><span class="stl_163 stl_08 stl_15" style="word-spacing:-0.0438em;">null &nbsp;</span></div>
					<div class="stl_01" style="top:17.9423em; left:16.465em;"><span class="stl_115 stl_08 stl_15" style="word-spacing:-0.0438em;">不允许为 </span><span class="stl_164 stl_08 stl_15" style="word-spacing:-0.0438em;">null &nbsp;</span></div>
					<div class="stl_01" style="top:20.5048em; left:16.465em;"><span class="stl_165 stl_08 stl_15" style="word-spacing:-0.0439em;">允许为 </span><span class="stl_166 stl_08 stl_15" style="word-spacing:-0.0439em;">null &nbsp;</span></div>
					<div class="stl_01" style="top:12.7731em; left:22.4667em;"><span class="stl_162 stl_08 stl_15" style="word-spacing:-0.0427em;">不允许为 </span><span class="stl_163 stl_08 stl_15" style="word-spacing:-0.0427em;">null &nbsp;</span></div>
					<div class="stl_01" style="top:15.3564em; left:22.4667em;"><span class="stl_162 stl_08 stl_15" style="word-spacing:-0.0427em;">不允许为 </span><span class="stl_163 stl_08 stl_15" style="word-spacing:-0.0427em;">null &nbsp;</span></div>
					<div class="stl_01" style="top:17.9423em; left:22.4667em;"><span class="stl_165 stl_08 stl_15" style="word-spacing:-0.0428em;">允许为 </span><span class="stl_166 stl_08 stl_15" style="word-spacing:-0.0428em;">null &nbsp;</span></div>
					<div class="stl_01" style="top:20.5048em; left:22.4667em;"><span class="stl_165 stl_08 stl_15" style="word-spacing:-0.0428em;">允许为 </span><span class="stl_166 stl_08 stl_15" style="word-spacing:-0.0428em;">null &nbsp;</span></div>
					<div class="stl_01" style="top:12.7731em; left:28.4917em;"><span class="stl_48 stl_08 stl_13">Dictionary &nbsp;</span></div>
					<div class="stl_01" style="top:12.7731em; left:34.5975em;"><span class="stl_167 stl_08 stl_09">线程安全 &nbsp;</span></div>
					<div class="stl_01" style="top:15.3564em; left:7.5042em;"><span class="stl_48 stl_08 stl_61">ConcurrentHashMap &nbsp;</span></div>
					<div class="stl_01" style="top:17.9423em; left:7.5042em;"><span class="stl_48 stl_08 stl_120">TreeMap &nbsp;</span></div>
					<div class="stl_01" style="top:15.3564em; left:28.4917em;"><span class="stl_48 stl_08 stl_120">AbstractMap &nbsp;</span></div>
					<div class="stl_01" style="top:17.9423em; left:28.4917em;"><span class="stl_48 stl_08 stl_120">AbstractMap &nbsp;</span></div>
					<div class="stl_01" style="top:20.5048em; left:28.4917em;"><span class="stl_48 stl_08 stl_120">AbstractMap &nbsp;</span></div>
					<div class="stl_01" style="top:15.3564em; left:34.5975em;"><span class="stl_167 stl_08 stl_74">锁分段技术（</span><span class="stl_48 stl_08 stl_74">JDK8:CAS</span><span class="stl_167 stl_08 stl_74">） &nbsp;</span></div>
					<div class="stl_01" style="top:17.9423em; left:34.5975em;"><span class="stl_167 stl_08 stl_09">线程不安全 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5048em; left:7.5042em;"><span class="stl_48 stl_08 stl_62">HashMap &nbsp;</span></div>
					<div class="stl_01" style="top:20.5048em; left:34.5975em;"><span class="stl_167 stl_08 stl_09">线程不安全 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6425em; left:6.5438em;"><span class="stl_54 stl_08 stl_77" style="word-spacing:-0.0277em;">反例：</span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0277em;">由于 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0277em;">HashMap </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0277em;">的干扰，很多人认为 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0277em;">ConcurrentHashMap </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0277em;">是可以置入 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0277em;">null </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0277em;">值，而事实上，存储 &nbsp;</span></div>
					<div class="stl_01" style="top:24.395em; left:6.5438em;"><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.034em;">null </span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.034em;">值时会抛出 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.034em;">NPE </span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.034em;">异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7002em; left:5.0438em;"><span class="stl_27 stl_08 stl_114">17.</span><span class="stl_100 stl_08 stl_114">【参考】</span><span class="stl_23 stl_08 stl_114">合理利用好集合的有序性</span><span class="stl_27 stl_08 stl_114">(sort)</span><span class="stl_23 stl_08 stl_114">和稳定性</span><span class="stl_27 stl_08 stl_114">(order)</span><span class="stl_23 stl_08 stl_114">，避免集合的无序性</span><span class="stl_27 stl_08 stl_114">(unsort)</span><span class="stl_23 stl_08 stl_114">和不稳 &nbsp;</span></div>
					<div class="stl_01" style="top:28.4711em; left:6.5438em;"><span class="stl_23 stl_08 stl_59">定性</span><span class="stl_27 stl_08 stl_59">(unorder)</span><span class="stl_23 stl_08 stl_59">带来的负面影响。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.3117em; left:6.5438em;"><span class="stl_56 stl_08 stl_20">说明：</span><span class="stl_57 stl_08 stl_20">有序性是指遍历的结果是按某种比较规则依次排列的。稳定性指集合每次遍历的元素次序是一定 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0842em; left:6.5438em;"><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0316em;">的。如：</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0316em;">ArrayList </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0316em;">是 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0316em;">order/unsort</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0316em;">；</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0316em;">HashMap </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0316em;">是 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0316em;">unorder/unsort</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0316em;">；</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0316em;">TreeSet </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0316em;">是 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0316em;">order/sort</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0316em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.3686em; left:5.0438em;"><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.0469em;">18.</span><span class="stl_100 stl_08 stl_47" style="word-spacing:-0.0469em;">【参考】</span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.0469em;">利用 </span><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.0469em;">Set </span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.0469em;">元素唯一的特性，可以快速对一个集合进行去重操作，避免使用 </span><span class="stl_27 stl_08 stl_47" style="word-spacing:-0.0469em;">List </span><span class="stl_23 stl_08 stl_47" style="word-spacing:-0.0469em;">的 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1394em; left:6.5438em;"><span class="stl_27 stl_08 stl_111" style="word-spacing:-0.0472em;">contains </span><span class="stl_23 stl_08 stl_111" style="word-spacing:-0.0472em;">方法进行遍历、对比、去重操作。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4462em; left:3.5438em;"><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">(</span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">六</span><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">) </span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">并发处理 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4336em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">1. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">获取单例对象需要保证线程安全，其中的方法也要保证线程安全。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.2967em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">资源驱动类、工具类、单例工厂类都需要注意。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.6019em; left:5.0229em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">2. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">创建线程或线程池时请指定有意义的线程名称，方便出错时回溯。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.4433em; left:6.5229em;"><span class="stl_58 stl_08 stl_20">正例：</span><span class="stl_66 stl_08 stl_20">自定义线程工厂，并且根据外部特征进行分组，比如机房信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.1367em; left:9.0458em;"><span class="stl_168 stl_73 stl_60" style="word-spacing:-0.0079em;">public class </span><span class="stl_169 stl_73 stl_60" style="word-spacing:-0.0079em;">UserThreadFactory </span><span class="stl_168 stl_73 stl_60" style="word-spacing:-0.0079em;">implements </span><span class="stl_169 stl_73 stl_60" style="word-spacing:-0.0079em;">ThreadFactory </span><span class="stl_170 stl_73 stl_60" style="word-spacing:-0.0079em;">{ &nbsp;</span></div>
					<div class="stl_01" style="top:54.4726em; left:9.0458em;"><span class="stl_168 stl_73 stl_60" style="word-spacing:-0.0064em;">private final </span><span class="stl_169 stl_73 stl_60" style="word-spacing:-0.0064em;">String namePrefix</span><span class="stl_170 stl_73 stl_60" style="word-spacing:-0.0064em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:55.6392em; left:9.0458em;"><span class="stl_168 stl_73 stl_102" style="word-spacing:-0.001em;">private final </span><span class="stl_169 stl_73 stl_102" style="word-spacing:-0.001em;">AtomicInteger nextId </span><span class="stl_171 stl_73 stl_102" style="word-spacing:-0.001em;">= </span><span class="stl_168 stl_73 stl_102" style="word-spacing:-0.001em;">new </span><span class="stl_169 stl_73 stl_102" style="word-spacing:-0.001em;">AtomicInteger</span><span class="stl_170 stl_73 stl_102" style="word-spacing:-0.001em;">(</span><span class="stl_172 stl_73 stl_102" style="word-spacing:-0.001em;">1</span><span class="stl_170 stl_73 stl_102" style="word-spacing:-0.001em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:57.9726em; left:9.0458em;"><span class="stl_173 stl_73 stl_09">/</span></div>
					<div class="stl_01" style="top:57.8689em; left:9.4625em;"><span class="stl_173 stl_73 stl_174" style="word-spacing:-0.0394em;">/ </span><span class="stl_83 stl_08 stl_174" style="word-spacing:-0.0394em;">定义线程组名称，在 </span><span class="stl_173 stl_73 stl_174" style="word-spacing:-0.0394em;">jstack</span><span class="stl_83 stl_08 stl_174" style="word-spacing:-0.0394em;">问题排查时，非常有帮助 &nbsp;</span></div>
					<div class="stl_01" style="top:59.1392em; left:9.0458em;"><span class="stl_175 stl_73 stl_20" style="word-spacing:0.013em;">UserThreadFactory</span><span class="stl_170 stl_73 stl_20" style="word-spacing:0.013em;">(</span><span class="stl_169 stl_73 stl_20" style="word-spacing:0.013em;">String whatFeaturOfGroup</span><span class="stl_170 stl_73 stl_20" style="word-spacing:0.013em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:60.3084em; left:10.7125em;"><span class="stl_169 stl_73 stl_103" style="word-spacing:0.0066em;">namePrefix </span><span class="stl_171 stl_73 stl_103" style="word-spacing:0.0066em;">= </span><span class="stl_176 stl_73 stl_103" style="word-spacing:0.0066em;">"From UserThreadFactory's " </span><span class="stl_171 stl_73 stl_103" style="word-spacing:0.0066em;">+ </span><span class="stl_169 stl_73 stl_103" style="word-spacing:0.0066em;">whatFeaturOfGroup </span><span class="stl_171 stl_73 stl_103" style="word-spacing:0.0066em;">+ </span><span class="stl_176 stl_73 stl_103" style="word-spacing:0.0066em;">"-Worker-"</span><span class="stl_170 stl_73 stl_103" style="word-spacing:0.0066em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:61.4746em; left:9.0458em;"><span class="stl_170 stl_73 stl_09">}</span></div>
					<div class="stl_01" style="top:63.808em; left:9.0458em;"><span class="stl_170 stl_73 stl_09">@</span></div>
					<div class="stl_01" style="top:63.808em; left:9.4621em;"><span class="stl_170 stl_73 stl_81">Override &nbsp;</span></div>
					<div class="stl_01" style="top:64.9746em; left:9.0458em;"><span class="stl_168 stl_73 stl_20" style="word-spacing:0.0067em;">public </span><span class="stl_169 stl_73 stl_20" style="word-spacing:0.0067em;">Thread </span><span class="stl_175 stl_73 stl_20" style="word-spacing:0.0067em;">newThread</span><span class="stl_170 stl_73 stl_20" style="word-spacing:0.0067em;">(</span><span class="stl_169 stl_73 stl_20" style="word-spacing:0.0067em;">Runnable task</span><span class="stl_170 stl_73 stl_20" style="word-spacing:0.0067em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:66.1413em; left:10.7125em;"><span class="stl_169 stl_73 stl_64" style="word-spacing:0.0035em;">String name </span><span class="stl_171 stl_73 stl_64" style="word-spacing:0.0035em;">= </span><span class="stl_169 stl_73 stl_64" style="word-spacing:0.0035em;">namePrefix </span><span class="stl_171 stl_73 stl_64" style="word-spacing:0.0035em;">+ </span><span class="stl_169 stl_73 stl_64" style="word-spacing:0.0035em;">nextId</span><span class="stl_170 stl_73 stl_64" style="word-spacing:0.0035em;">.</span><span class="stl_175 stl_73 stl_64" style="word-spacing:0.0035em;">getAndIncrement</span><span class="stl_170 stl_73 stl_64" style="word-spacing:0.0035em;">(); &nbsp;</span></div>
					<div class="stl_01" style="top:67.3101em; left:10.7125em;"><span class="stl_169 stl_73 stl_87" style="word-spacing:0.0086em;">Thread thread </span><span class="stl_171 stl_73 stl_87" style="word-spacing:0.0086em;">= </span><span class="stl_168 stl_73 stl_87" style="word-spacing:0.0086em;">new </span><span class="stl_169 stl_73 stl_87" style="word-spacing:0.0086em;">Thread</span><span class="stl_170 stl_73 stl_87" style="word-spacing:0.0086em;">(</span><span class="stl_169 stl_73 stl_87" style="word-spacing:0.0086em;">null</span><span class="stl_170 stl_73 stl_87" style="word-spacing:0.0086em;">, </span><span class="stl_169 stl_73 stl_87" style="word-spacing:0.0086em;">task</span><span class="stl_170 stl_73 stl_87" style="word-spacing:0.0086em;">, </span><span class="stl_169 stl_73 stl_87" style="word-spacing:0.0086em;">name</span><span class="stl_170 stl_73 stl_87" style="word-spacing:0.0086em;">, </span><span class="stl_172 stl_73 stl_87" style="word-spacing:0.0086em;">0</span><span class="stl_170 stl_73 stl_87" style="word-spacing:0.0086em;">, </span><span class="stl_172 stl_73 stl_87" style="word-spacing:0.0086em;">false</span><span class="stl_170 stl_73 stl_87" style="word-spacing:0.0086em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">4/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_20.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_20.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0834em; left:10.7125em;"><span class="stl_169 stl_73 stl_39">System</span><span class="stl_170 stl_73 stl_39">.</span><span class="stl_169 stl_73 stl_39">out</span><span class="stl_170 stl_73 stl_39">.</span><span class="stl_175 stl_73 stl_39">println</span><span class="stl_170 stl_73 stl_39">(</span><span class="stl_169 stl_73 stl_39">thread</span><span class="stl_170 stl_73 stl_39">.</span><span class="stl_175 stl_73 stl_39">getName</span><span class="stl_170 stl_73 stl_39">()); &nbsp;</span></div>
					<div class="stl_01" style="top:4.2501em; left:10.7125em;"><span class="stl_168 stl_73 stl_140" style="word-spacing:0.0209em;">return </span><span class="stl_169 stl_73 stl_140" style="word-spacing:0.0209em;">thread</span><span class="stl_170 stl_73 stl_140" style="word-spacing:0.0209em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:5.4167em; left:10.5458em;"><span class="stl_170 stl_73 stl_09">}</span></div>
					<div class="stl_01" style="top:6.5834em; left:9.0458em;"><span class="stl_170 stl_73 stl_09">}</span></div>
					<div class="stl_01" style="top:8.6111em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:8.6111em; left:5.6063em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">线程资源必须通过线程池提供，不允许在应用中自行显式创建线程。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4742em; left:6.5229em;"><span class="stl_56 stl_08 stl_20">说明：</span><span class="stl_57 stl_08 stl_20">线程池的好处是减少在创建和销毁线程上所消耗的时间以及系统资源的开销，解决资源不足的问 &nbsp;</span></div>
					<div class="stl_01" style="top:12.2242em; left:6.5229em;"><span class="stl_57 stl_08 stl_13">题。如果不使用线程池，有可能造成系统创建大量同类线程而导致消耗完内存或者“过度切换”的问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.7794em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:14.7794em; left:5.6063em;"><span class="stl_27 stl_08 stl_39" style="word-spacing:0.3788em;">. </span><span class="stl_53 stl_08 stl_39" style="word-spacing:0.3788em;">【强制】</span><span class="stl_23 stl_08 stl_39" style="word-spacing:0.3788em;">线程池不允许使用</span><span class="stl_27 stl_08 stl_39" style="word-spacing:-0.0429em;"> Executors</span><span class="stl_23 stl_08 stl_39" style="word-spacing:-0.0482em;"> 去创建，而是通过</span><span class="stl_27 stl_08 stl_39" style="word-spacing:-0.0446em;"> ThreadPoolExecutor</span><span class="stl_23 stl_08 stl_39" style="word-spacing:-0.0438em;"> 的方式，这 &nbsp;</span></div>
					<div class="stl_01" style="top:16.5502em; left:6.5229em;"><span class="stl_23 stl_08 stl_09">样的处理方式让写的同学更加明确线程池的运行规则，规避资源耗尽的风险。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.3933em; left:6.5229em;"><span class="stl_56 stl_08 stl_102" style="word-spacing:-0.0411em;">说明：</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0411em;">Executors </span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0411em;">返回的线程池对象的弊端如下： &nbsp;</span></div>
					<div class="stl_01" style="top:20.1642em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:20.1642em; left:7.0646em;"><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2062em;">） </span><span class="stl_55 stl_08 stl_15" style="word-spacing:0.2062em;">FixedThreadPool</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0533em;"> 和</span><span class="stl_55 stl_08 stl_15" style="word-spacing:-0.0342em;"> SingleThreadPool</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0342em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:21.935em; left:7.4188em;"><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0277em;">允许的请求队列长度为 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0277em;">Integer.MAX_VALUE</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0277em;">，可能会堆积大量的请求，从而导致 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0277em;">OOM</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0277em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.685em; left:7.0646em;"><span class="stl_57 stl_08 stl_110" style="word-spacing:0.2034em;">） </span><span class="stl_55 stl_08 stl_110" style="word-spacing:0.2034em;">CachedThreadPool</span><span class="stl_57 stl_08 stl_110" style="word-spacing:0.2034em;">： &nbsp;</span></div>
					<div class="stl_01" style="top:23.685em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:25.4575em; left:7.4188em;"><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0277em;">允许的创建线程数量为 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0277em;">Integer.MAX_VALUE</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0277em;">，可能会创建大量的线程，从而导致 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0277em;">OOM</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0277em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.7419em; left:5.0229em;"><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3804em;">5. </span><span class="stl_53 stl_08 stl_26" style="word-spacing:0.3804em;">【强制】</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.4347em;">SimpleDateFormat</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.2563em;"> 是线程不安全的类，一般不要定义为</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0445em;"> static</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0266em;"> 变量，如果定义为 &nbsp;</span></div>
					<div class="stl_01" style="top:29.5127em; left:6.5229em;"><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0428em;">static</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0375em;">，必须加锁，或者使用 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0428em;">DateUtils </span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0375em;">工具类。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.3758em; left:6.5229em;"><span class="stl_58 stl_08 stl_30" style="word-spacing:-0.0306em;">正例：</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0306em;">注意线程安全，使用 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0306em;">DateUtils</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0306em;">。亦推荐如下处理： &nbsp;</span></div>
					<div class="stl_01" style="top:32.9456em; left:8.0458em;"><span class="stl_46 stl_08 stl_94" style="word-spacing:0.1981em;">private static final</span><span class="stl_46 stl_08 stl_94" style="word-spacing:0.2146em;"> ThreadLocal&lt;DateFormat&gt; df</span><span class="stl_46 stl_08 stl_94" style="word-spacing:0.1898em;"> =</span><span class="stl_46 stl_08 stl_94" style="word-spacing:0.2121em;"> new ThreadLocal&lt;DateFormat&gt;()</span><span class="stl_46 stl_08 stl_94" style="word-spacing:0.2121em;"> { &nbsp;</span></div>
					<div class="stl_01" style="top:33.98em; left:9.9208em;"><span class="stl_38 stl_08 stl_64">@</span><span class="stl_46 stl_08 stl_64">Override &nbsp;</span></div>
					<div class="stl_01" style="top:35.2789em; left:9.9208em;"><span class="stl_46 stl_08 stl_49" style="word-spacing:0.2314em;">protected DateFormat</span><span class="stl_46 stl_08 stl_49" style="word-spacing:0.1993em;"> initialValue()</span><span class="stl_46 stl_08 stl_49" style="word-spacing:0.1993em;"> { &nbsp;</span></div>
					<div class="stl_01" style="top:36.4456em; left:11.7958em;"><span class="stl_46 stl_08 stl_90" style="word-spacing:0.1932em;">return new SimpleDateFormat("yyyy-MM-dd"); &nbsp;</span></div>
					<div class="stl_01" style="top:37.6123em; left:9.9208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:38.7814em; left:8.4208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:38.7814em; left:8.6713em;"><span class="stl_46 stl_08 stl_09">;</span></div>
					<div class="stl_01" style="top:40.1283em; left:6.5438em;"><span class="stl_56 stl_08 stl_145" style="word-spacing:-0.0254em;">说明：</span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0254em;">如果是 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0254em;">JDK8 </span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0254em;">的应用，可以使用 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0254em;">Instant </span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0254em;">代替 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0254em;">Date</span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0254em;">，</span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0254em;">LocalDateTime </span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0254em;">代替 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0254em;">Calendar</span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0254em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:41.8992em; left:6.5438em;"><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0174em;">DateTimeFormatter </span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0174em;">代替 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0174em;">SimpleDateFormat</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0174em;">，官方给出的解释：</span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0174em;">simple beautiful strong immutable &nbsp;</span></div>
					<div class="stl_01" style="top:43.6492em; left:6.5438em;"><span class="stl_38 stl_08 stl_62">thread-safe</span><span class="stl_57 stl_08 stl_62">。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.9561em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">6</span></div>
					<div class="stl_01" style="top:45.9561em; left:5.6063em;"><span class="stl_27 stl_08 stl_30" style="word-spacing:0.3807em;">. </span><span class="stl_53 stl_08 stl_30" style="word-spacing:0.3807em;">【强制】</span><span class="stl_23 stl_08 stl_30" style="word-spacing:0.3807em;">必须回收自定义的</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.041em;"> ThreadLocal</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0343em;"> 变量，尤其在线程池场景下，线程经常会被复用， &nbsp;</span></div>
					<div class="stl_01" style="top:47.7277em; left:6.5229em;"><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0175em;">如果不清理自定义的 </span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0175em;">ThreadLocal </span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0175em;">变量，可能会影响后续业务逻辑和造成内存泄露等问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.4769em; left:6.5229em;"><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0455em;">尽量在代理中使用 </span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0455em;">try-finally </span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0455em;">块进行回收。 &nbsp;</span></div>
					<div class="stl_01" style="top:51.3383em; left:6.5229em;"><span class="stl_58 stl_08 stl_60">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:52.9106em; left:9.5458em;"><span class="stl_46 stl_08 stl_30">objectThreadLocal.set(userInfo); &nbsp;</span></div>
					<div class="stl_01" style="top:54.0773em; left:9.5458em;"><span class="stl_46 stl_08 stl_151" style="word-spacing:0.2072em;">try { &nbsp;</span></div>
					<div class="stl_01" style="top:55.2439em; left:11.0458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:55.2439em; left:11.3586em;"><span class="stl_82 stl_08 stl_177" style="word-spacing:0.1763em;">/ ... &nbsp;</span></div>
					<div class="stl_01" style="top:56.4106em; left:10.1698em;"><span class="stl_46 stl_08 stl_89" style="word-spacing:0.1965em;">finally { &nbsp;</span></div>
					<div class="stl_01" style="top:57.5773em; left:11.0458em;"><span class="stl_46 stl_08 stl_30">objectThreadLocal.remove(); &nbsp;</span></div>
					<div class="stl_01" style="top:56.4106em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:58.7439em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:60.8981em; left:5.0229em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">7. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3794em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">高并发时，同步调用应该去考量锁的性能损耗。能用无锁数据结构，就不要用锁</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.4336em;">； &nbsp;</span></div>
					<div class="stl_01" style="top:62.6481em; left:6.5229em;"><span class="stl_23 stl_08 stl_24">能锁区块，就不要锁整个方法体</span><span class="stl_57 stl_08 stl_20">；</span><span class="stl_23 stl_08 stl_24">能用对象锁，就不要用类锁。 &nbsp;</span></div>
					<div class="stl_01" style="top:64.5096em; left:6.5438em;"><span class="stl_56 stl_08 stl_09" style="word-spacing:-0.0289em;">说明：</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0289em;">尽可能使加锁的代码块工作量尽可能的小，避免在锁代码块中调用 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0289em;">RPC </span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0289em;">方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">5/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_21.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_21.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">8. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">对多个资源、数据库表、对象同时加锁时，需要保持一致的加锁顺序，否则可能会 &nbsp;</span></div>
					<div class="stl_01" style="top:4.8402em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">造成死锁。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.6808em; left:6.5438em;"><span class="stl_56 stl_08 stl_64" style="word-spacing:-0.0329em;">说明：</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0329em;">线程一需要对表 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0329em;">A</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0329em;">、</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0329em;">B</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0329em;">、</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0329em;">C </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0329em;">依次全部加锁后才可以进行更新操作，那么线程二的加锁顺序也必须是 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4517em; left:6.5438em;"><span class="stl_38 stl_08 stl_24">A</span><span class="stl_57 stl_08 stl_24">、</span><span class="stl_38 stl_08 stl_24">B</span><span class="stl_57 stl_08 stl_24">、</span><span class="stl_38 stl_08 stl_24">C</span><span class="stl_57 stl_08 stl_24">，否则可能出现死锁。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.7377em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">9</span></div>
					<div class="stl_01" style="top:10.7167em; left:5.6063em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.38em;">. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.38em;">【强制】</span><span class="stl_65 stl_08 stl_09" style="word-spacing:0.38em;">在使用阻塞等待获取锁的方式中，必须在</span><span class="stl_143 stl_71 stl_09" style="word-spacing:-0.0376em;"> try</span><span class="stl_65 stl_08 stl_09" style="word-spacing:-0.0064em;"> 代码块之外，并且在加锁方法与</span><span class="stl_143 stl_71 stl_09" style="word-spacing:-0.0401em;"> try</span><span class="stl_65 stl_08 stl_09" style="word-spacing:-0.0401em;"> 代 &nbsp;</span></div>
					<div class="stl_01" style="top:12.4876em; left:6.5229em;"><span class="stl_65 stl_08 stl_24" style="word-spacing:-0.0185em;">码块之间没有任何可能抛出异常的方法调用，避免加锁成功后，在 </span><span class="stl_143 stl_71 stl_24" style="word-spacing:-0.0185em;">finally </span><span class="stl_65 stl_08 stl_24" style="word-spacing:-0.0185em;">中无法解锁。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.37em; left:6.5229em;"><span class="stl_56 stl_08 stl_103" style="word-spacing:-0.0318em;">说明一：</span><span class="stl_66 stl_08 stl_103" style="word-spacing:-0.0318em;">如果在 </span><span class="stl_67 stl_08 stl_103" style="word-spacing:-0.0318em;">lock </span><span class="stl_66 stl_08 stl_103" style="word-spacing:-0.0318em;">方法与 </span><span class="stl_67 stl_08 stl_103" style="word-spacing:-0.0318em;">try </span><span class="stl_66 stl_08 stl_103" style="word-spacing:-0.0318em;">代码块之间的方法调用抛出异常，那么无法解锁，造成其它线程无法成功 &nbsp;</span></div>
					<div class="stl_01" style="top:16.12em; left:6.5229em;"><span class="stl_66 stl_08 stl_09">获取锁。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.8933em; left:6.5229em;"><span class="stl_56 stl_08 stl_68" style="word-spacing:-0.0307em;">说明二：</span><span class="stl_66 stl_08 stl_68" style="word-spacing:-0.0307em;">如果 </span><span class="stl_67 stl_08 stl_68" style="word-spacing:-0.0307em;">lock </span><span class="stl_66 stl_08 stl_68" style="word-spacing:-0.0307em;">方法在 </span><span class="stl_67 stl_08 stl_68" style="word-spacing:-0.0307em;">try </span><span class="stl_66 stl_08 stl_68" style="word-spacing:-0.0307em;">代码块之内，可能由于其它方法抛出异常，导致在 </span><span class="stl_67 stl_08 stl_68" style="word-spacing:-0.0307em;">finally </span><span class="stl_66 stl_08 stl_68" style="word-spacing:-0.0307em;">代码块中， &nbsp;</span></div>
					<div class="stl_01" style="top:19.6433em; left:6.5229em;"><span class="stl_67 stl_08 stl_30" style="word-spacing:-0.039em;">unlock </span><span class="stl_66 stl_08 stl_30" style="word-spacing:-0.039em;">对未加锁的对象解锁，它会调用 </span><span class="stl_67 stl_08 stl_30" style="word-spacing:-0.039em;">AQS </span><span class="stl_66 stl_08 stl_30" style="word-spacing:-0.039em;">的 </span><span class="stl_67 stl_08 stl_30" style="word-spacing:-0.039em;">tryRelease </span><span class="stl_66 stl_08 stl_30" style="word-spacing:-0.039em;">方法（取决于具体实现类），抛出 &nbsp;</span></div>
					<div class="stl_01" style="top:21.4142em; left:6.5229em;"><span class="stl_67 stl_08 stl_20" style="word-spacing:-0.0125em;">IllegalMonitorStateException </span><span class="stl_66 stl_08 stl_20" style="word-spacing:-0.0125em;">异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.1842em; left:6.5229em;"><span class="stl_56 stl_08 stl_138" style="word-spacing:-0.0262em;">说明三：</span><span class="stl_66 stl_08 stl_138" style="word-spacing:-0.0262em;">在 </span><span class="stl_67 stl_08 stl_138" style="word-spacing:-0.0262em;">Lock </span><span class="stl_66 stl_08 stl_138" style="word-spacing:-0.0262em;">对象的 </span><span class="stl_67 stl_08 stl_138" style="word-spacing:-0.0262em;">lock </span><span class="stl_66 stl_08 stl_138" style="word-spacing:-0.0262em;">方法实现中可能抛出 </span><span class="stl_67 stl_08 stl_138" style="word-spacing:-0.0262em;">unchecked </span><span class="stl_66 stl_08 stl_138" style="word-spacing:-0.0262em;">异常，产生的后果与说明二相同。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9367em; left:6.5229em;"><span class="stl_58 stl_08 stl_60">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:26.5273em; left:9.5458em;"><span class="stl_46 stl_08 stl_112" style="word-spacing:0.218em;">Lock lock = new</span><span class="stl_46 stl_08 stl_112" style="word-spacing:0.1963em;"> XxxLock(); &nbsp;</span></div>
					<div class="stl_01" style="top:27.6939em; left:9.5458em;"><span class="stl_82 stl_08 stl_63" style="word-spacing:0.1886em;">// ... &nbsp;</span></div>
					<div class="stl_01" style="top:28.8606em; left:9.5458em;"><span class="stl_46 stl_08 stl_150">lock.lock(); &nbsp;</span></div>
					<div class="stl_01" style="top:30.0273em; left:9.5458em;"><span class="stl_46 stl_08 stl_151" style="word-spacing:0.2072em;">try { &nbsp;</span></div>
					<div class="stl_01" style="top:31.1956em; left:11.0458em;"><span class="stl_46 stl_08 stl_64">doSomething(); &nbsp;</span></div>
					<div class="stl_01" style="top:32.3623em; left:11.0458em;"><span class="stl_46 stl_08 stl_120">doOthers(); &nbsp;</span></div>
					<div class="stl_01" style="top:33.5289em; left:10.1698em;"><span class="stl_46 stl_08 stl_89" style="word-spacing:0.1965em;">finally { &nbsp;</span></div>
					<div class="stl_01" style="top:34.6956em; left:11.0458em;"><span class="stl_46 stl_08 stl_60">lock.unlock(); &nbsp;</span></div>
					<div class="stl_01" style="top:33.5289em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:35.8623em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:37.2092em; left:6.5438em;"><span class="stl_54 stl_08 stl_60">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:38.7814em; left:9.5458em;"><span class="stl_46 stl_08 stl_112" style="word-spacing:0.218em;">Lock lock = new</span><span class="stl_46 stl_08 stl_112" style="word-spacing:0.1963em;"> XxxLock(); &nbsp;</span></div>
					<div class="stl_01" style="top:39.9481em; left:9.8586em;"><span class="stl_82 stl_08 stl_177" style="word-spacing:0.1763em;">/ ... &nbsp;</span></div>
					<div class="stl_01" style="top:41.1148em; left:9.5458em;"><span class="stl_46 stl_08 stl_151" style="word-spacing:0.2072em;">try { &nbsp;</span></div>
					<div class="stl_01" style="top:39.9481em; left:9.5458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:42.2814em; left:11.0458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:42.2814em; left:11.3583em;"><span class="stl_82 stl_08 stl_90" style="word-spacing:0.192em;">/ </span><span class="stl_83 stl_08 stl_90" style="word-spacing:0.192em;">如果此处抛出异常，则直接执行</span><span class="stl_82 stl_08 stl_90" style="word-spacing:-0.0385em;"> finally</span><span class="stl_83 stl_08 stl_90" style="word-spacing:-0.0456em;"> 代码块 &nbsp;</span></div>
					<div class="stl_01" style="top:43.4481em; left:11.0458em;"><span class="stl_46 stl_08 stl_64">doSomething(); &nbsp;</span></div>
					<div class="stl_01" style="top:44.6148em; left:11.3583em;"><span class="stl_82 stl_08 stl_59" style="word-spacing:0.1915em;">/ </span><span class="stl_83 stl_08 stl_59" style="word-spacing:0.1915em;">无论加锁是否成功，</span><span class="stl_82 stl_08 stl_59" style="word-spacing:0.1915em;">finally</span><span class="stl_83 stl_08 stl_59" style="word-spacing:-0.0461em;"> 代码块都会执行 &nbsp;</span></div>
					<div class="stl_01" style="top:44.6148em; left:11.0458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:45.7831em; left:11.0458em;"><span class="stl_46 stl_08 stl_150">lock.lock(); &nbsp;</span></div>
					<div class="stl_01" style="top:46.9498em; left:11.0458em;"><span class="stl_46 stl_08 stl_120">doOthers(); &nbsp;</span></div>
					<div class="stl_01" style="top:48.1164em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:50.4498em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:48.1164em; left:10.1698em;"><span class="stl_46 stl_08 stl_89" style="word-spacing:0.1965em;">finally { &nbsp;</span></div>
					<div class="stl_01" style="top:49.2839em; left:11.0458em;"><span class="stl_46 stl_08 stl_60">lock.unlock(); &nbsp;</span></div>
					<div class="stl_01" style="top:52.6876em; left:5.0229em;"><span class="stl_143 stl_71 stl_09">1</span></div>
					<div class="stl_01" style="top:52.6876em; left:5.5646em;"><span class="stl_143 stl_71 stl_15" style="word-spacing:-0.0743em;">0. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:-0.0743em;">【强制】</span><span class="stl_65 stl_08 stl_15" style="word-spacing:-0.0743em;">在使用尝试机制来获取锁的方式中，进入业务代码块之前，必须先判断当前线程是 &nbsp;</span></div>
					<div class="stl_01" style="top:54.4794em; left:6.5229em;"><span class="stl_65 stl_08 stl_09">否持有锁。锁的释放规则与锁的阻塞等待方式相同。 &nbsp;</span></div>
					<div class="stl_01" style="top:56.3225em; left:6.5229em;"><span class="stl_56 stl_08 stl_74" style="word-spacing:-0.0171em;">说明：</span><span class="stl_70 stl_71 stl_74" style="word-spacing:-0.0171em;">Lock </span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0171em;">对象的 </span><span class="stl_70 stl_71 stl_74" style="word-spacing:-0.0171em;">unlock </span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0171em;">方法在执行时，它会调用 </span><span class="stl_70 stl_71 stl_74" style="word-spacing:-0.0171em;">AQS </span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0171em;">的 </span><span class="stl_70 stl_71 stl_74" style="word-spacing:-0.0171em;">tryRelease </span><span class="stl_66 stl_08 stl_74" style="word-spacing:-0.0171em;">方法（取决于具体实现类），如果 &nbsp;</span></div>
					<div class="stl_01" style="top:58.0725em; left:6.5229em;"><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0075em;">当前线程不持有锁，则抛出 </span><span class="stl_70 stl_71 stl_64" style="word-spacing:-0.0075em;">IllegalMonitorStateException </span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0075em;">异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:59.8642em; left:6.5229em;"><span class="stl_58 stl_08 stl_60">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:61.4335em; left:9.5458em;"><span class="stl_46 stl_08 stl_112" style="word-spacing:0.218em;">Lock lock = new</span><span class="stl_46 stl_08 stl_112" style="word-spacing:0.1963em;"> XxxLock(); &nbsp;</span></div>
					<div class="stl_01" style="top:62.6002em; left:9.5458em;"><span class="stl_82 stl_08 stl_63" style="word-spacing:0.1886em;">// ... &nbsp;</span></div>
					<div class="stl_01" style="top:63.7668em; left:9.5458em;"><span class="stl_46 stl_08 stl_24" style="word-spacing:0.2012em;">boolean isLocked =</span><span class="stl_46 stl_08 stl_24" style="word-spacing:0.2208em;"> lock.tryLock(); &nbsp;</span></div>
					<div class="stl_01" style="top:64.9335em; left:9.5458em;"><span class="stl_46 stl_08 stl_117" style="word-spacing:0.1921em;">if (isLocked) { &nbsp;</span></div>
					<div class="stl_01" style="top:66.1002em; left:11.0458em;"><span class="stl_46 stl_08 stl_151" style="word-spacing:0.2072em;">try { &nbsp;</span></div>
					<div class="stl_01" style="top:67.2689em; left:12.5483em;"><span class="stl_46 stl_08 stl_64">doSomething(); &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">6/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_22.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_22.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:2.9798em; left:12.5483em;"><span class="stl_46 stl_08 stl_120">doOthers(); &nbsp;</span></div>
					<div class="stl_01" style="top:4.1464em; left:11.6698em;"><span class="stl_46 stl_08 stl_89" style="word-spacing:0.1965em;">finally { &nbsp;</span></div>
					<div class="stl_01" style="top:5.3131em; left:12.5483em;"><span class="stl_46 stl_08 stl_60">lock.unlock(); &nbsp;</span></div>
					<div class="stl_01" style="top:4.1464em; left:11.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:6.4798em; left:11.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:7.6464em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:9.7794em; left:5.0438em;"><span class="stl_27 stl_08 stl_150">11.</span><span class="stl_53 stl_08 stl_150">【强制】</span><span class="stl_23 stl_08 stl_150">并发修改同一记录时，避免更新丢失，需要加锁。要么在应用层加锁，要么在缓存 &nbsp;</span></div>
					<div class="stl_01" style="top:11.5502em; left:6.5438em;"><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0299em;">加锁，要么在数据库层使用乐观锁，使用 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0341em;">version </span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0299em;">作为更新依据。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.3908em; left:6.5438em;"><span class="stl_56 stl_08 stl_30" style="word-spacing:-0.0287em;">说明：</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0287em;">如果每次访问冲突概率小于 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0287em;">20%</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0287em;">，推荐使用乐观锁，否则使用悲观锁。乐观锁的重试次数不得小于 &nbsp;</span></div>
					<div class="stl_01" style="top:15.1617em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:15.1617em; left:7.2938em;"><span class="stl_57 stl_08 stl_09">次。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4694em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:17.4694em; left:5.6271em;"><span class="stl_27 stl_08 stl_156" style="word-spacing:-0.0353em;">2.</span><span class="stl_53 stl_08 stl_156" style="word-spacing:-0.0353em;">【强制】</span><span class="stl_23 stl_08 stl_156" style="word-spacing:-0.0353em;">多线程并行处理定时任务时，</span><span class="stl_38 stl_08 stl_117" style="word-spacing:-0.0403em;">Timer </span><span class="stl_23 stl_08 stl_156" style="word-spacing:-0.0353em;">运行多个 </span><span class="stl_38 stl_08 stl_117" style="word-spacing:-0.0403em;">TimeTask </span><span class="stl_23 stl_08 stl_156" style="word-spacing:-0.0353em;">时，只要其中之一没有捕获 &nbsp;</span></div>
					<div class="stl_01" style="top:19.2194em; left:6.5438em;"><span class="stl_23 stl_08 stl_13">抛出的异常，其它任务便会自动终止运行，如果在处理定时任务时使用 &nbsp;</span></div>
					<div class="stl_01" style="top:20.9902em; left:6.5438em;"><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0146em;">ScheduledExecutorService </span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0128em;">则没有这个问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.3652em; left:5.0438em;"><span class="stl_27 stl_08 stl_154">13.</span><span class="stl_17 stl_08 stl_154">【推荐】</span><span class="stl_65 stl_08 stl_154">资金相关的金融敏感信息，使用悲观锁策略。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.2283em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">乐观锁在获得锁的同时已经完成了更新操作，校验逻辑容易出现漏洞，另外，乐观锁对冲突的解决 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9992em; left:6.5438em;"><span class="stl_66 stl_08 stl_09">策略有较复杂的要求，处理不当容易造成系统压力或数据异常，所以资金相关的金融敏感信息不建议使用 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7492em; left:6.5438em;"><span class="stl_66 stl_08 stl_37">乐观锁更新。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.0561em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:31.0561em; left:5.6271em;"><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0379em;">4.</span><span class="stl_17 stl_08 stl_136" style="word-spacing:-0.0379em;">【推荐】</span><span class="stl_23 stl_08 stl_136" style="word-spacing:-0.0379em;">使用 </span><span class="stl_38 stl_08 stl_150" style="word-spacing:-0.0433em;">CountDownLatch </span><span class="stl_23 stl_08 stl_136" style="word-spacing:-0.0379em;">进行异步转同步操作，每个线程退出前必须调用 </span><span class="stl_38 stl_08 stl_150" style="word-spacing:-0.0433em;">countDown &nbsp;</span></div>
					<div class="stl_01" style="top:32.8061em; left:6.5438em;"><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0331em;">方法，线程执行代码注意 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0378em;">catch </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0331em;">异常，确保 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0378em;">countDown </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0331em;">方法被执行到，避免主线程无法执行 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5769em; left:6.5438em;"><span class="stl_23 stl_08 stl_108" style="word-spacing:-0.0317em;">至 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0363em;">await </span><span class="stl_23 stl_08 stl_108" style="word-spacing:-0.0317em;">方法，直到超时才返回结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4383em; left:6.5438em;"><span class="stl_56 stl_08 stl_15" style="word-spacing:-0.0289em;">说明：</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0289em;">注意，子线程抛出异常堆栈，不能在主线程 </span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0289em;">try-catch </span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0289em;">到。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.7252em; left:5.0229em;"><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0438em;">15.</span><span class="stl_17 stl_08 stl_136" style="word-spacing:-0.0438em;">【推荐】</span><span class="stl_23 stl_08 stl_136" style="word-spacing:-0.0438em;">避免 </span><span class="stl_38 stl_08 stl_150" style="word-spacing:-0.0501em;">Random </span><span class="stl_23 stl_08 stl_136" style="word-spacing:-0.0438em;">实例被多线程使用，虽然共享该实例是线程安全的，但会因竞争同一 &nbsp;</span></div>
					<div class="stl_01" style="top:40.4961em; left:6.5229em;"><span class="stl_38 stl_08 stl_74" style="word-spacing:0.2855em;">seed </span><span class="stl_23 stl_08 stl_49" style="word-spacing:0.2498em;">导致的性能下降。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.3367em; left:6.5438em;"><span class="stl_56 stl_08 stl_15" style="word-spacing:-0.0385em;">说明：</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0385em;">Random </span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0385em;">实例包括</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0342em;"> java.util.Random</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2045em;"> 的实例或者</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.2045em;"> Math.random()</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2045em;">的方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1075em; left:6.5438em;"><span class="stl_58 stl_08 stl_26" style="word-spacing:-0.0337em;">正例：</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0337em;">在 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0337em;">JDK7</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0213em;"> 之后，可以直接使用</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0316em;"> API</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0175em;"> ThreadLocalRandom</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0175em;">，而在</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.2044em;"> JDK7</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0243em;"> 之前，需要编码保证每个线 &nbsp;</span></div>
					<div class="stl_01" style="top:45.88em; left:6.5438em;"><span class="stl_57 stl_08 stl_20">程持有一个实例。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1644em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:48.1644em; left:5.6063em;"><span class="stl_27 stl_08 stl_114" style="word-spacing:0.035em;">6.</span><span class="stl_17 stl_08 stl_114" style="word-spacing:0.035em;">【推荐】</span><span class="stl_23 stl_08 stl_114" style="word-spacing:0.035em;">在并发场景下，通过双重检查锁</span><span class="stl_57 stl_08 stl_47" style="word-spacing:0.04em;">（</span><span class="stl_38 stl_08 stl_47" style="word-spacing:0.04em;">double</span><span class="stl_27 stl_08 stl_114" style="word-spacing:0.035em;">-</span><span class="stl_38 stl_08 stl_47" style="word-spacing:0.04em;">checked locking</span><span class="stl_57 stl_08 stl_47" style="word-spacing:0.04em;">）</span><span class="stl_23 stl_08 stl_114" style="word-spacing:0.035em;">实现延迟初始化的优化 &nbsp;</span></div>
					<div class="stl_01" style="top:49.9361em; left:6.5229em;"><span class="stl_23 stl_08 stl_24" style="word-spacing:0.2062em;">问题隐患</span><span class="stl_38 stl_08 stl_24" style="word-spacing:0.2357em;">(</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.2062em;">可参考 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:0.2357em;">The</span><span class="stl_27 stl_08 stl_24" style="word-spacing:0.2062em;"> "</span><span class="stl_38 stl_08 stl_24" style="word-spacing:0.0441em;">Double</span><span class="stl_27 stl_08 stl_24" style="word-spacing:0.0386em;">-</span><span class="stl_38 stl_08 stl_24" style="word-spacing:0.0441em;">Checked Locking is</span><span class="stl_38 stl_08 stl_24" style="word-spacing:0.0265em;"> Broken</span><span class="stl_27 stl_08 stl_24" style="word-spacing:0.0232em;">"</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.003em;"> Declaration)</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0026em;">，推荐解决方案中较为 &nbsp;</span></div>
					<div class="stl_01" style="top:51.6852em; left:6.5229em;"><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0431em;">简单一种</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0493em;">（</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0431em;">适用于 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0493em;">JDK</span><span class="stl_27 stl_08 stl_12" style="word-spacing:-0.0431em;">5</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0487em;"> 及以上版本</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0557em;">）</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0487em;">，将目标属性声明为</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.2357em;"> volatile</span><span class="stl_23 stl_08 stl_12" style="word-spacing:0.2062em;"> 型</span><span class="stl_57 stl_08 stl_26" style="word-spacing:0.2357em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.5492em; left:6.5229em;"><span class="stl_54 stl_08 stl_09">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:55.1398em; left:8.0458em;"><span class="stl_46 stl_08 stl_30" style="word-spacing:0.2122em;">public class LazyInitDemo { &nbsp;</span></div>
					<div class="stl_01" style="top:56.3064em; left:9.9208em;"><span class="stl_46 stl_08 stl_26" style="word-spacing:0.2056em;">private Helper helper =</span><span class="stl_46 stl_08 stl_26" style="word-spacing:0.2056em;"> null; &nbsp;</span></div>
					<div class="stl_01" style="top:57.4731em; left:9.9208em;"><span class="stl_46 stl_08 stl_68" style="word-spacing:0.2063em;">public Helper getHelper() { &nbsp;</span></div>
					<div class="stl_01" style="top:58.6398em; left:11.7958em;"><span class="stl_46 stl_08 stl_39" style="word-spacing:0.2017em;">if (helper == null)</span><span class="stl_46 stl_08 stl_39" style="word-spacing:0.2093em;"> synchronized(this)</span><span class="stl_46 stl_08 stl_39" style="word-spacing:0.2093em;"> { &nbsp;</span></div>
					<div class="stl_01" style="top:59.8089em; left:13.6733em;"><span class="stl_46 stl_08 stl_62" style="word-spacing:0.2011em;">if (helper ==</span><span class="stl_46 stl_08 stl_62" style="word-spacing:0.2011em;"> null) &nbsp;</span></div>
					<div class="stl_01" style="top:60.9748em; left:13.6733em;"><span class="stl_46 stl_08 stl_112" style="word-spacing:0.2147em;">helper = new</span><span class="stl_46 stl_08 stl_112" style="word-spacing:0.1964em;"> Helper(); &nbsp;</span></div>
					<div class="stl_01" style="top:62.1418em; left:11.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:63.3085em; left:11.0458em;"><span class="stl_46 stl_08 stl_112" style="word-spacing:0.2028em;">return helper; &nbsp;</span></div>
					<div class="stl_01" style="top:64.4752em; left:9.9208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:65.6418em; left:9.9208em;"><span class="stl_82 stl_08 stl_26" style="word-spacing:0.1932em;">// other</span><span class="stl_82 stl_08 stl_26" style="word-spacing:0.212em;"> methods and</span><span class="stl_82 stl_08 stl_26" style="word-spacing:0.212em;"> fields... &nbsp;</span></div>
					<div class="stl_01" style="top:66.8106em; left:8.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">7/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_23.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_23.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0229em;"><span class="stl_27 stl_08 stl_117" style="word-spacing:-0.026em;">17.</span><span class="stl_100 stl_08 stl_117" style="word-spacing:-0.026em;">【参考】</span><span class="stl_38 stl_08 stl_178" style="word-spacing:-0.0297em;">volatile </span><span class="stl_23 stl_08 stl_117" style="word-spacing:-0.026em;">解决多线程内存不可见问题。对于一写多读，是可以解决变量同步问题，但 &nbsp;</span></div>
					<div class="stl_01" style="top:4.8402em; left:6.5229em;"><span class="stl_23 stl_08 stl_09">是如果多写，同样无法解决线程安全问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.6808em; left:6.5438em;"><span class="stl_56 stl_08 stl_37" style="word-spacing:-0.0158em;">说明：</span><span class="stl_57 stl_08 stl_37" style="word-spacing:-0.0158em;">如果是 </span><span class="stl_38 stl_08 stl_37" style="word-spacing:-0.0158em;">count++</span><span class="stl_57 stl_08 stl_37" style="word-spacing:-0.0158em;">操作，使用如下类实现：</span><span class="stl_38 stl_08 stl_37" style="word-spacing:-0.0158em;">AtomicInteger count = new AtomicInteger(); &nbsp;</span></div>
					<div class="stl_01" style="top:8.4517em; left:6.5438em;"><span class="stl_38 stl_08 stl_12" style="word-spacing:0.2141em;">count.addAndGet(1); </span><span class="stl_57 stl_08 stl_12" style="word-spacing:0.2141em;">如果是</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0556em;"> JDK8</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0556em;">，推荐使用</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0547em;"> LongAdder</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0265em;"> 对象，比</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0316em;"> AtomicLong</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.024em;"> 性能更好（减少乐观 &nbsp;</span></div>
					<div class="stl_01" style="top:10.2033em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">锁的重试次数）。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.5086em; left:5.0438em;"><span class="stl_27 stl_08 stl_178" style="word-spacing:-0.0452em;">18.</span><span class="stl_100 stl_08 stl_178" style="word-spacing:-0.0452em;">【参考】</span><span class="stl_27 stl_08 stl_178" style="word-spacing:-0.0452em;">HashMap </span><span class="stl_23 stl_08 stl_178" style="word-spacing:-0.0452em;">在容量不够进行 </span><span class="stl_27 stl_08 stl_178" style="word-spacing:-0.0452em;">resize </span><span class="stl_23 stl_08 stl_178" style="word-spacing:-0.0452em;">时由于高并发可能出现死链，导致 </span><span class="stl_27 stl_08 stl_178" style="word-spacing:-0.0452em;">CPU </span><span class="stl_23 stl_08 stl_178" style="word-spacing:-0.0452em;">飙升，在 &nbsp;</span></div>
					<div class="stl_01" style="top:14.2794em; left:6.5438em;"><span class="stl_23 stl_08 stl_13">开发过程中可以使用其它数据结构或加锁来规避此风险。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6569em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:16.6569em; left:5.6271em;"><span class="stl_27 stl_08 stl_139" style="word-spacing:-0.0426em;">9.</span><span class="stl_100 stl_08 stl_139" style="word-spacing:-0.0426em;">【参考】</span><span class="stl_27 stl_08 stl_139" style="word-spacing:-0.0426em;">ThreadLocal </span><span class="stl_23 stl_08 stl_139" style="word-spacing:-0.0426em;">对象使用 </span><span class="stl_27 stl_08 stl_139" style="word-spacing:-0.0426em;">static </span><span class="stl_23 stl_08 stl_139" style="word-spacing:-0.0426em;">修饰，</span><span class="stl_27 stl_08 stl_139" style="word-spacing:-0.0426em;">ThreadLocal </span><span class="stl_23 stl_08 stl_139" style="word-spacing:-0.0426em;">无法解决共享对象的更新问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5183em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">这个变量是针对一个线程内所有操作共享的，所以设置为静态变量，所有此类实例共享此静态变 &nbsp;</span></div>
					<div class="stl_01" style="top:20.2683em; left:6.5438em;"><span class="stl_57 stl_08 stl_20">量，也就是说在类第一次被使用时装载，只分配一块存储空间，所有此类的对象</span><span class="stl_38 stl_08 stl_20">(</span><span class="stl_57 stl_08 stl_20">只要是这个线程内定义 &nbsp;</span></div>
					<div class="stl_01" style="top:22.0383em; left:6.5438em;"><span class="stl_57 stl_08 stl_13">的</span><span class="stl_38 stl_08 stl_13">)</span><span class="stl_57 stl_08 stl_13">都可以操控这个变量。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.2545em; left:3.5438em;"><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">(</span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">七</span><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">) </span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">控制语句 &nbsp;</span></div>
					<div class="stl_01" style="top:30.2419em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:30.2419em; left:5.6271em;"><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3804em;">. </span><span class="stl_53 stl_08 stl_26" style="word-spacing:0.3804em;">【强制】</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.3804em;">在一个</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.043em;"> switch</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0344em;"> 块内，每个</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.0439em;"> case</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0471em;"> 要么通过</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.0437em;"> continue/break/return</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0271em;"> 等来终止，要么 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0144em; left:6.5438em;"><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0414em;">注释说明程序将继续执行到哪一个 </span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0414em;">case </span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0414em;">为止；在一个 </span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0414em;">switch </span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0414em;">块内，都必须包含一个 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7852em; left:6.5438em;"><span class="stl_27 stl_08 stl_49" style="word-spacing:-0.0374em;">default </span><span class="stl_23 stl_08 stl_49" style="word-spacing:-0.0374em;">语句并且放在最后，即使它什么代码也没有。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.5142em; left:6.5438em;"><span class="stl_179 stl_08 stl_20" style="word-spacing:-0.023em;">说明：</span><span class="stl_65 stl_08 stl_20" style="word-spacing:-0.023em;">注意 </span><span class="stl_143 stl_71 stl_20" style="word-spacing:-0.023em;">break </span><span class="stl_65 stl_08 stl_20" style="word-spacing:-0.023em;">是退出 </span><span class="stl_143 stl_71 stl_20" style="word-spacing:-0.023em;">switch </span><span class="stl_65 stl_08 stl_20" style="word-spacing:-0.023em;">语句块，而 </span><span class="stl_143 stl_71 stl_20" style="word-spacing:-0.023em;">return </span><span class="stl_65 stl_08 stl_20" style="word-spacing:-0.023em;">是退出方法体。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9336em; left:5.0438em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">2. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">当</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0465em;"> switch</span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0329em;"> 括号内的变量类型为</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0423em;"> String</span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0588em;"> 并且此变量为外部参数时，必须先进行</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.039em;"> null &nbsp;</span></div>
					<div class="stl_01" style="top:39.6836em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">判断。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4544em; left:6.5438em;"><span class="stl_180 stl_08 stl_13">反例：</span><span class="stl_10 stl_08 stl_13">猜猜下</span><span class="stl_65 stl_08 stl_13">面的代码输出是什么？ &nbsp;</span></div>
					<div class="stl_01" style="top:43.7606em; left:8.0458em;"><span class="stl_46 stl_08 stl_15" style="word-spacing:0.2078em;">public class SwitchString</span><span class="stl_46 stl_08 stl_15" style="word-spacing:0.2078em;"> { &nbsp;</span></div>
					<div class="stl_01" style="top:44.9273em; left:9.5458em;"><span class="stl_46 stl_08 stl_37" style="word-spacing:0.2008em;">public static void main(String[] args) { &nbsp;</span></div>
					<div class="stl_01" style="top:46.0956em; left:11.0458em;"><span class="stl_46 stl_08 stl_94">method(null); &nbsp;</span></div>
					<div class="stl_01" style="top:47.2623em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:49.5956em; left:9.5458em;"><span class="stl_46 stl_08 stl_20" style="word-spacing:0.2015em;">public static void method(String param) { &nbsp;</span></div>
					<div class="stl_01" style="top:50.7631em; left:11.0458em;"><span class="stl_46 stl_08 stl_60" style="word-spacing:0.1973em;">switch (param) { &nbsp;</span></div>
					<div class="stl_01" style="top:51.9298em; left:12.5483em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:51.9298em; left:12.8608em;"><span class="stl_82 stl_08 stl_09" style="word-spacing:0.1935em;">/ </span><span class="stl_83 stl_08 stl_09" style="word-spacing:0.1935em;">肯定不是进入这里 &nbsp;</span></div>
					<div class="stl_01" style="top:53.0981em; left:12.5483em;"><span class="stl_46 stl_08 stl_63" style="word-spacing:0.1876em;">case "sth": &nbsp;</span></div>
					<div class="stl_01" style="top:54.2648em; left:14.0483em;"><span class="stl_46 stl_08 stl_15" style="word-spacing:0.2109em;">System.out.println("it's sth"); &nbsp;</span></div>
					<div class="stl_01" style="top:55.4314em; left:14.0483em;"><span class="stl_46 stl_08 stl_117">break; &nbsp;</span></div>
					<div class="stl_01" style="top:56.5981em; left:12.5483em;"><span class="stl_82 stl_08 stl_107" style="word-spacing:0.1965em;">// </span><span class="stl_83 stl_08 stl_107" style="word-spacing:0.1965em;">也不是进入这里 &nbsp;</span></div>
					<div class="stl_01" style="top:57.7648em; left:12.5483em;"><span class="stl_46 stl_08 stl_155" style="word-spacing:0.1837em;">case "null": &nbsp;</span></div>
					<div class="stl_01" style="top:58.9314em; left:14.0483em;"><span class="stl_46 stl_08 stl_12" style="word-spacing:0.2115em;">System.out.println("it's null"); &nbsp;</span></div>
					<div class="stl_01" style="top:60.0998em; left:14.0483em;"><span class="stl_46 stl_08 stl_117">break; &nbsp;</span></div>
					<div class="stl_01" style="top:61.2668em; left:12.5483em;"><span class="stl_82 stl_08 stl_107" style="word-spacing:0.1965em;">// </span><span class="stl_83 stl_08 stl_107" style="word-spacing:0.1965em;">也不是进入这里 &nbsp;</span></div>
					<div class="stl_01" style="top:62.4335em; left:12.5483em;"><span class="stl_46 stl_08 stl_181">default: &nbsp;</span></div>
					<div class="stl_01" style="top:63.6002em; left:14.0483em;"><span class="stl_46 stl_08 stl_64">System.out.println("default"); &nbsp;</span></div>
					<div class="stl_01" style="top:64.7668em; left:11.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:65.9335em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:67.1023em; left:8.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">8/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_24.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_24.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0229em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">3. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">在</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0524em;"> if</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0458em;">/</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0524em;">else</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0458em;">/</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0524em;">for</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0458em;">/</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0524em;">while</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0458em;">/</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0524em;">do</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0234em;"> 语句中必须使用大括号。 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5438em;"><span class="stl_56 stl_08 stl_13" style="word-spacing:-0.0066em;">说明：</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0066em;">即使只有一行代码，避免采用单行的编码方式：</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0066em;">if (condition) statements; &nbsp;</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.6271em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_65 stl_08 stl_20" style="word-spacing:0.3795em;">在高并发场景中，避免使用”等于”判断作为中断或退出的条件。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.0767em; left:6.5438em;"><span class="stl_56 stl_08 stl_20">说明：</span><span class="stl_66 stl_08 stl_20">如果并发控制没有处理好，容易产生等值判断被“击穿”的情况，使用大于或小于的区间判断条件 &nbsp;</span></div>
					<div class="stl_01" style="top:10.8283em; left:6.5438em;"><span class="stl_66 stl_08 stl_09">来代替。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.5992em; left:6.5438em;"><span class="stl_54 stl_08 stl_49" style="word-spacing:-0.0262em;">反例：</span><span class="stl_66 stl_08 stl_49" style="word-spacing:-0.0262em;">判断剩余奖品数量等于 </span><span class="stl_67 stl_08 stl_49" style="word-spacing:-0.0262em;">0 </span><span class="stl_66 stl_08 stl_49" style="word-spacing:-0.0262em;">时，终止发放奖品，但因为并发处理错误导致奖品数量瞬间变成了负数， &nbsp;</span></div>
					<div class="stl_01" style="top:14.37em; left:6.5438em;"><span class="stl_66 stl_08 stl_09">这样的话，活动无法终止。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6569em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">5. </span><span class="stl_17 stl_08 stl_09" style="word-spacing:0.3801em;">【推荐】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">表达异常的分支时，少用</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0523em;"> if-else</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0281em;"> 方式</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0246em;">，这种方式可以改写成： &nbsp;</span></div>
					<div class="stl_01" style="top:18.9631em; left:8.0458em;"><span class="stl_46 stl_08 stl_110" style="word-spacing:0.1956em;">if (condition) { &nbsp;</span></div>
					<div class="stl_01" style="top:20.1298em; left:10.2958em;"><span class="stl_46 stl_08 stl_09">.</span></div>
					<div class="stl_01" style="top:20.1298em; left:10.4833em;"><span class="stl_46 stl_08 stl_91">.. &nbsp;</span></div>
					<div class="stl_01" style="top:21.2964em; left:10.2958em;"><span class="stl_46 stl_08 stl_30" style="word-spacing:0.1985em;">return obj; &nbsp;</span></div>
					<div class="stl_01" style="top:22.4631em; left:8.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:23.6298em; left:8.0458em;"><span class="stl_82 stl_08 stl_12" style="word-spacing:0.1936em;">// </span><span class="stl_83 stl_08 stl_12" style="word-spacing:0.1936em;">接着写</span><span class="stl_82 stl_08 stl_12" style="word-spacing:-0.0458em;"> else</span><span class="stl_83 stl_08 stl_12" style="word-spacing:-0.0527em;"> 的业务逻辑代码</span><span class="stl_82 stl_08 stl_12" style="word-spacing:-0.0527em;">; &nbsp;</span></div>
					<div class="stl_01" style="top:24.9783em; left:6.5438em;"><span class="stl_56 stl_08 stl_24" style="word-spacing:-0.0242em;">说明：</span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0242em;">如果非使用 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0242em;">if()...else if()...else...</span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0242em;">方式表达逻辑，避免后续代码维护困难，</span><span class="stl_97 stl_08 stl_24" style="word-spacing:-0.0242em;">【强制】</span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0242em;">请勿超过 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0242em;">3 </span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0242em;">层。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7283em; left:6.5438em;"><span class="stl_58 stl_08 stl_94" style="word-spacing:-0.0326em;">正例：</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0326em;">超过 </span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0326em;">3</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0237em;"> 层的</span><span class="stl_38 stl_08 stl_94" style="word-spacing:0.2098em;"> if-else</span><span class="stl_57 stl_08 stl_94" style="word-spacing:0.2098em;"> 的逻辑判断代码可以使用卫语句、策略模式、状态模式等来实现，其中卫语句 &nbsp;</span></div>
					<div class="stl_01" style="top:28.4992em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">即代码逻辑先考虑失败、异常、中断、退出等直接返回的情况，以方法多个出口的方式，解决代码中判断 &nbsp;</span></div>
					<div class="stl_01" style="top:30.27em; left:6.5438em;"><span class="stl_57 stl_08 stl_13">分支嵌套的问题，这是逆向思维的体现。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0217em; left:6.5438em;"><span class="stl_57 stl_08 stl_39">示例如下： &nbsp;</span></div>
					<div class="stl_01" style="top:33.6123em; left:8.0458em;"><span class="stl_46 stl_08 stl_15" style="word-spacing:0.2037em;">public void findBoyfriend(Man man) { &nbsp;</span></div>
					<div class="stl_01" style="top:34.7789em; left:9.9208em;"><span class="stl_46 stl_08 stl_150" style="word-spacing:0.1912em;">if (man.</span><span class="stl_182 stl_73 stl_136" style="word-spacing:0.1721em;">isUgly()</span><span class="stl_46 stl_08 stl_150" style="word-spacing:0.1912em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:36.1491em; left:12.2542em;"><span class="stl_183 stl_73 stl_12">System</span><span class="stl_184 stl_73 stl_12">.</span><span class="stl_183 stl_73 stl_12">out</span><span class="stl_184 stl_73 stl_12">.</span><span class="stl_183 stl_73 stl_12">println</span><span class="stl_184 stl_73 stl_12">(</span><span class="stl_185 stl_08 stl_12">"</span><span class="stl_186 stl_08 stl_12">本姑娘是外貌协会的资深会员</span><span class="stl_185 stl_08 stl_12">"</span><span class="stl_184 stl_73 stl_12">); &nbsp;</span></div>
					<div class="stl_01" style="top:37.6956em; left:12.1708em;"><span class="stl_46 stl_08 stl_187">return; &nbsp;</span></div>
					<div class="stl_01" style="top:38.8648em; left:9.9208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:41.1981em; left:9.9208em;"><span class="stl_46 stl_08 stl_150" style="word-spacing:0.1912em;">if (man.</span><span class="stl_182 stl_73 stl_136" style="word-spacing:0.1721em;">isPool()</span><span class="stl_46 stl_08 stl_150" style="word-spacing:0.1912em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:42.5683em; left:12.2542em;"><span class="stl_183 stl_73 stl_37">System</span><span class="stl_184 stl_73 stl_37">.</span><span class="stl_183 stl_73 stl_37">out</span><span class="stl_184 stl_73 stl_37">.</span><span class="stl_183 stl_73 stl_37">println</span><span class="stl_184 stl_73 stl_37">(</span><span class="stl_188 stl_73 stl_37">"</span><span class="stl_186 stl_08 stl_37">贫贱夫妻百事哀</span><span class="stl_188 stl_73 stl_37">"</span><span class="stl_184 stl_73 stl_37">); &nbsp;</span></div>
					<div class="stl_01" style="top:44.1356em; left:12.1708em;"><span class="stl_46 stl_08 stl_187">return; &nbsp;</span></div>
					<div class="stl_01" style="top:45.3039em; left:9.9208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:47.6373em; left:9.9208em;"><span class="stl_46 stl_08 stl_139" style="word-spacing:0.1921em;">if (man.</span><span class="stl_182 stl_73 stl_122" style="word-spacing:0.1729em;">isBadTemper()</span><span class="stl_46 stl_08 stl_139" style="word-spacing:0.1921em;">) { &nbsp;</span></div>
					<div class="stl_01" style="top:49.0082em; left:12.2542em;"><span class="stl_183 stl_73 stl_37">System</span><span class="stl_184 stl_73 stl_37">.</span><span class="stl_183 stl_73 stl_37">out</span><span class="stl_184 stl_73 stl_37">.</span><span class="stl_183 stl_73 stl_37">println</span><span class="stl_184 stl_73 stl_37">(</span><span class="stl_188 stl_73 stl_37">"</span><span class="stl_186 stl_08 stl_37">银河有多远，你就给我滚多远</span><span class="stl_188 stl_73 stl_37">"</span><span class="stl_184 stl_73 stl_37">); &nbsp;</span></div>
					<div class="stl_01" style="top:50.5756em; left:12.1708em;"><span class="stl_46 stl_08 stl_187">return; &nbsp;</span></div>
					<div class="stl_01" style="top:51.7423em; left:9.9208em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:53.9891em; left:9.9208em;"><span class="stl_46 stl_08 stl_39">System.out.println(</span><span class="stl_188 stl_73 stl_39">"</span><span class="stl_186 stl_08 stl_39">可以先交往一段时间看看</span><span class="stl_188 stl_73 stl_39">"</span><span class="stl_46 stl_08 stl_39">); &nbsp;</span></div>
					<div class="stl_01" style="top:55.2439em; left:8.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:57.3752em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">6</span></div>
					<div class="stl_01" style="top:57.3752em; left:5.6063em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3798em;">. </span><span class="stl_17 stl_08 stl_15" style="word-spacing:0.3798em;">【推荐】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3798em;">除常用方法（如</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.048em;"> getXxx/isXxx</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.042em;">）等外，不要在条件判断中执行其它复杂的语句，将复 &nbsp;</span></div>
					<div class="stl_01" style="top:59.1269em; left:6.5229em;"><span class="stl_23 stl_08 stl_13">杂逻辑判断的结果赋值给一个有意义的布尔变量名，以提高可读性。 &nbsp;</span></div>
					<div class="stl_01" style="top:60.9887em; left:6.5229em;"><span class="stl_56 stl_08 stl_09" style="word-spacing:0.2094em;">说明：</span><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2094em;">很多 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:0.2094em;">if </span><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2094em;">语句内的逻辑表达式相当复杂，与、或、取反混合运算，甚至各种方法纵深调用，理解成 &nbsp;</span></div>
					<div class="stl_01" style="top:62.7596em; left:6.5229em;"><span class="stl_57 stl_08 stl_20">本非常高。如果赋值一个非常好理解的布尔变量名字，则是件令人爽心悦目的事情。 &nbsp;</span></div>
					<div class="stl_01" style="top:64.5096em; left:6.5229em;"><span class="stl_58 stl_08 stl_09">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:66.1002em; left:8.0458em;"><span class="stl_82 stl_08 stl_120" style="word-spacing:0.1978em;">// </span><span class="stl_83 stl_08 stl_120" style="word-spacing:0.1978em;">伪代码如下 &nbsp;</span></div>
					<div class="stl_01" style="top:67.2689em; left:8.0458em;"><span class="stl_46 stl_08 stl_30" style="word-spacing:0.208em;">final boolean existed = (file.open(fileName, "w") != null) &amp;&amp;</span><span class="stl_46 stl_08 stl_30" style="word-spacing:0.203em;"> (...) ||</span><span class="stl_46 stl_08 stl_30" style="word-spacing:0.203em;"> (...); &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">1</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">9/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_25.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_25.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:2.9798em; left:8.0458em;"><span class="stl_46 stl_08 stl_61" style="word-spacing:0.1979em;">if (existed) { &nbsp;</span></div>
					<div class="stl_01" style="top:4.1464em; left:9.7333em;"><span class="stl_46 stl_08 stl_91">.. &nbsp;</span></div>
					<div class="stl_01" style="top:4.1464em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">.</span></div>
					<div class="stl_01" style="top:5.3131em; left:8.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:7.2225em; left:6.6063em;"><span class="stl_54 stl_08 stl_09">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:8.5214em; left:8.0458em;"><span class="stl_46 stl_08 stl_102" style="word-spacing:0.2029em;">public final void acquire(long arg)</span><span class="stl_46 stl_08 stl_102" style="word-spacing:0.2029em;"> { &nbsp;</span></div>
					<div class="stl_01" style="top:9.6881em; left:9.5458em;"><span class="stl_46 stl_08 stl_103" style="word-spacing:0.1969em;">if (!tryAcquire(arg) &amp;&amp; &nbsp;</span></div>
					<div class="stl_01" style="top:10.8564em; left:11.0458em;"><span class="stl_46 stl_08 stl_30" style="word-spacing:0.2062em;">acquireQueued(addWaiter(Node.EXCLUSIVE), arg)) { &nbsp;</span></div>
					<div class="stl_01" style="top:12.0231em; left:12.5483em;"><span class="stl_46 stl_08 stl_145">selfInterrupt(); &nbsp;</span></div>
					<div class="stl_01" style="top:13.1898em; left:11.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:14.3564em; left:8.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:16.7609em; left:5.0229em;"><span class="stl_143 stl_71 stl_09">7</span></div>
					<div class="stl_01" style="top:16.7609em; left:5.5646em;"><span class="stl_143 stl_71 stl_15" style="word-spacing:0.4675em;">. </span><span class="stl_17 stl_08 stl_15" style="word-spacing:0.4675em;">【推荐】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.4675em;">不要在其它表达式（尤其是条件表达式）中，插入赋值语句。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.6433em; left:6.5229em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">赋值点类似于人体的穴位，对于代码的理解至关重要，所以赋值语句需要清晰地单独成为一行。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.3933em; left:6.5229em;"><span class="stl_54 stl_08 stl_60">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:21.9831em; left:8.0458em;"><span class="stl_46 stl_08 stl_49" style="word-spacing:0.2058em;">public Lock getLock(boolean fair) { &nbsp;</span></div>
					<div class="stl_01" style="top:23.1498em; left:9.5458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:23.1498em; left:9.8583em;"><span class="stl_82 stl_08 stl_102" style="word-spacing:0.1921em;">/ </span><span class="stl_83 stl_08 stl_102" style="word-spacing:0.1921em;">算术表达式中出现赋值操作，容易忽略</span><span class="stl_82 stl_08 stl_102" style="word-spacing:-0.0385em;"> count</span><span class="stl_83 stl_08 stl_102" style="word-spacing:-0.0587em;"> 值已经被改变 &nbsp;</span></div>
					<div class="stl_01" style="top:24.3189em; left:9.5458em;"><span class="stl_46 stl_08 stl_108" style="word-spacing:0.2055em;">threshold = (count = Integer.MAX_VALUE)</span><span class="stl_46 stl_08 stl_108" style="word-spacing:0.2239em;"> -</span><span class="stl_46 stl_08 stl_108" style="word-spacing:0.2239em;"> 1; &nbsp;</span></div>
					<div class="stl_01" style="top:25.4856em; left:9.8583em;"><span class="stl_82 stl_08 stl_37" style="word-spacing:0.1925em;">/ </span><span class="stl_83 stl_08 stl_37" style="word-spacing:0.1925em;">条件表达式中出现赋值操作，容易误认为是</span><span class="stl_82 stl_08 stl_37" style="word-spacing:-0.0381em;"> sync==fair &nbsp;</span></div>
					<div class="stl_01" style="top:26.6523em; left:9.5458em;"><span class="stl_46 stl_08 stl_37" style="word-spacing:0.199em;">return (sync = fair) ? new FairSync() : new</span><span class="stl_46 stl_08 stl_37" style="word-spacing:0.199em;"> NonfairSync(); &nbsp;</span></div>
					<div class="stl_01" style="top:25.4856em; left:9.5458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:27.8189em; left:8.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:29.9502em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:29.9502em; left:5.6063em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_17 stl_08 stl_15" style="word-spacing:0.3799em;">【推荐】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">循环体中的语句要考量性能，以下操作尽量移至循环体外处理，如定义对象、变 &nbsp;</span></div>
					<div class="stl_01" style="top:31.7227em; left:6.5229em;"><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0342em;">量、获取数据库连接，进行不必要的 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0391em;">try</span><span class="stl_27 stl_08 stl_12" style="word-spacing:-0.0342em;">-</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0391em;">catch </span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0342em;">操作</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0391em;">（</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0342em;">这个 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0391em;">try</span><span class="stl_27 stl_08 stl_12" style="word-spacing:-0.0342em;">-</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0391em;">catch </span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0342em;">是否可以移至循环体 &nbsp;</span></div>
					<div class="stl_01" style="top:33.4727em; left:6.5229em;"><span class="stl_23 stl_08 stl_59">外</span><span class="stl_57 stl_08 stl_60">）</span><span class="stl_23 stl_08 stl_59">。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1186em; left:5.0229em;"><span class="stl_27 stl_08 stl_12" style="word-spacing:0.3802em;">9. </span><span class="stl_17 stl_08 stl_12" style="word-spacing:0.3802em;">【推荐】</span><span class="stl_65 stl_08 stl_12" style="word-spacing:0.3802em;">避免采用取反逻辑运算符。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9825em; left:6.5229em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">取反逻辑不利于快速理解，并且取反逻辑写法必然存在对应的正向逻辑写法。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.7325em; left:6.5229em;"><span class="stl_58 stl_08 stl_154" style="word-spacing:-0.0407em;">正例：</span><span class="stl_66 stl_08 stl_154" style="word-spacing:-0.0407em;">使用 </span><span class="stl_67 stl_08 stl_154" style="word-spacing:-0.0407em;">if</span><span class="stl_67 stl_08 stl_154" style="word-spacing:-0.0073em;"> (x</span><span class="stl_67 stl_08 stl_154" style="word-spacing:-0.0244em;"> &lt;</span><span class="stl_67 stl_08 stl_154" style="word-spacing:-0.0203em;"> 628)</span><span class="stl_66 stl_08 stl_154" style="word-spacing:0.1979em;"> 来表达 </span><span class="stl_67 stl_08 stl_154" style="word-spacing:0.1979em;">x </span><span class="stl_66 stl_08 stl_154" style="word-spacing:0.1979em;">小于</span><span class="stl_67 stl_08 stl_154" style="word-spacing:-0.0407em;"> 628</span><span class="stl_66 stl_08 stl_154" style="word-spacing:-0.0407em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5033em; left:6.5229em;"><span class="stl_54 stl_08 stl_63" style="word-spacing:-0.0382em;">反例：</span><span class="stl_66 stl_08 stl_63" style="word-spacing:-0.0382em;">使用 </span><span class="stl_67 stl_08 stl_63" style="word-spacing:-0.0382em;">if</span><span class="stl_67 stl_08 stl_63" style="word-spacing:-0.0048em;"> (!(x</span><span class="stl_67 stl_08 stl_63" style="word-spacing:-0.022em;"> &gt;=</span><span class="stl_67 stl_08 stl_63" style="word-spacing:-0.0178em;"> 628))</span><span class="stl_66 stl_08 stl_63" style="word-spacing:0.2002em;"> 来表达 </span><span class="stl_67 stl_08 stl_63" style="word-spacing:0.2002em;">x </span><span class="stl_66 stl_08 stl_63" style="word-spacing:0.2002em;">小于</span><span class="stl_67 stl_08 stl_63" style="word-spacing:-0.0354em;"> 628</span><span class="stl_66 stl_08 stl_63" style="word-spacing:-0.0354em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0586em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:44.0586em; left:5.6271em;"><span class="stl_27 stl_08 stl_189">0.</span><span class="stl_17 stl_08 stl_189">【推荐】</span><span class="stl_23 stl_08 stl_189">接口入参保护，这种场景常见的是用作批量操作的接口。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.4352em; left:5.6063em;"><span class="stl_27 stl_08 stl_190">1.</span><span class="stl_100 stl_08 stl_190">【参考】</span><span class="stl_23 stl_08 stl_190">下列情形，需要进行参数校验： &nbsp;</span></div>
					<div class="stl_01" style="top:46.4352em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:48.2967em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:50.0683em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:48.2967em; left:7.4813em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2065em;">） 调用频次低的方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.0683em; left:7.4813em;"><span class="stl_57 stl_08 stl_24" style="word-spacing:0.2061em;">） 执行时间开销很大的方法。此情形中，参数校验时间几乎可以忽略不计，但如果因为参数错误导致 &nbsp;</span></div>
					<div class="stl_01" style="top:51.8175em; left:6.5229em;"><span class="stl_57 stl_08 stl_09">中间执行回退，或者错误，那得不偿失。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.5908em; left:6.9604em;"><span class="stl_38 stl_08 stl_39" style="word-spacing:0.2053em;">3</span><span class="stl_57 stl_08 stl_39" style="word-spacing:0.2053em;">） 需要极高稳定性和可用性的方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:55.3408em; left:6.9604em;"><span class="stl_38 stl_08 stl_68" style="word-spacing:0.2084em;">4</span><span class="stl_57 stl_08 stl_68" style="word-spacing:0.2084em;">） 对外提供的开放接口，不管是</span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0273em;"> RPC/API/HTTP</span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.02em;"> 接口。 &nbsp;</span></div>
					<div class="stl_01" style="top:57.1117em; left:6.9813em;"><span class="stl_38 stl_08 stl_136" style="word-spacing:0.2001em;">5</span><span class="stl_57 stl_08 stl_136" style="word-spacing:0.2001em;">） 敏感权限入口。 &nbsp;</span></div>
					<div class="stl_01" style="top:59.4186em; left:5.0438em;"><span class="stl_27 stl_08 stl_118">12.</span><span class="stl_100 stl_08 stl_118">【参考】</span><span class="stl_23 stl_08 stl_118">下列情形，不需要进行参数校验： &nbsp;</span></div>
					<div class="stl_01" style="top:61.2596em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:63.0304em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:61.2596em; left:7.5042em;"><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2033em;">） 极有可能被循环调用的方法。但在方法说明里必须注明外部参数检查要求。 &nbsp;</span></div>
					<div class="stl_01" style="top:63.0304em; left:7.5042em;"><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2039em;">） 底层调用频度比较高的方法。毕竟是像纯净水过滤的最后一道，参数错误不太可能到底层才会暴露 &nbsp;</span></div>
					<div class="stl_01" style="top:64.7804em; left:6.5438em;"><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.03em;">问题。一般 </span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.03em;">DAO </span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.03em;">层与 </span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.03em;">Service </span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.03em;">层都在同一个应用中，部署在同一台服务器中，所以 </span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.03em;">DAO </span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.03em;">的参数校验，可 &nbsp;</span></div>
					<div class="stl_01" style="top:66.5533em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">以省略。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">0/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_26.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_26.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.16em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:3.16em; left:7.5042em;"><span class="stl_57 stl_08 stl_98" style="word-spacing:0.2063em;">） 被声明成</span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.029em;"> private</span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0265em;"> 只会被自己代码所调用的方法，如果能够确定调用方法的代码传入参数已经做过检 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">查或者肯定不会有问题，此时可以不校验参数。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.1462em; left:3.5438em;"><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">(</span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">八</span><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">) </span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">注释规约 &nbsp;</span></div>
					<div class="stl_01" style="top:13.1336em; left:5.0438em;"><span class="stl_27 stl_08 stl_62" style="word-spacing:0.3782em;">1. </span><span class="stl_53 stl_08 stl_62" style="word-spacing:0.3782em;">【强制】</span><span class="stl_23 stl_08 stl_62" style="word-spacing:0.3782em;">类、类属性、类方法的注释必须使用</span><span class="stl_27 stl_08 stl_62" style="word-spacing:-0.0411em;"> Javadoc</span><span class="stl_23 stl_08 stl_62" style="word-spacing:-0.0442em;"> 规范，使用</span><span class="stl_27 stl_08 stl_62" style="word-spacing:-0.0442em;">/**</span><span class="stl_23 stl_08 stl_62" style="word-spacing:-0.0442em;">内容</span><span class="stl_27 stl_08 stl_62" style="word-spacing:-0.0442em;">*/</span><span class="stl_23 stl_08 stl_62" style="word-spacing:-0.0442em;">格式，不得使用 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9044em; left:6.5438em;"><span class="stl_27 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:14.9044em; left:6.9813em;"><span class="stl_27 stl_08 stl_191" style="word-spacing:-0.0155em;">/ xxx </span><span class="stl_23 stl_08 stl_191" style="word-spacing:-0.0155em;">方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.745em; left:6.5438em;"><span class="stl_56 stl_08 stl_68" style="word-spacing:-0.0302em;">说明：</span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0302em;">在 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0302em;">IDE </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0302em;">编辑窗口中，</span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0302em;">Javadoc </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0302em;">方式会提示相关注释，生成 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0302em;">Javadoc </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0302em;">可以正确输出相应注释；在 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0302em;">IDE &nbsp;</span></div>
					<div class="stl_01" style="top:18.5183em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">中，工程调用方法时，不进入方法即可悬浮提示方法、参数、返回值的意义，提高阅读效率。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.8027em; left:5.0438em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">2. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">所有的抽象方法</span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.4337em;">（</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">包括接口中的方法</span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.4337em;">）</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">必须要用</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0512em;"> Javadoc</span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0277em;"> 注释、除了返回值、参数、 &nbsp;</span></div>
					<div class="stl_01" style="top:22.5736em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">异常说明外，还必须指出该方法做什么事情，实现什么功能。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4367em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">对子类的实现要求，或者调用注意事项，请一并说明。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7211em; left:5.0438em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">3. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3794em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">所有的类都必须添加创建者和创建日期。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1169em; left:5.0438em;"><span class="stl_27 stl_08 stl_102" style="word-spacing:0.3786em;">4. </span><span class="stl_53 stl_08 stl_102" style="word-spacing:0.3786em;">【强制】</span><span class="stl_23 stl_08 stl_102" style="word-spacing:0.3786em;">方法内部单行注释，在被注释语句上方另起一行，使用</span><span class="stl_27 stl_08 stl_102" style="word-spacing:0.3786em;">//</span><span class="stl_23 stl_08 stl_102" style="word-spacing:0.3786em;">注释。方法内部多行注释 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8686em; left:6.5438em;"><span class="stl_23 stl_08 stl_178" style="word-spacing:-0.0056em;">使用</span><span class="stl_27 stl_08 stl_178" style="word-spacing:-0.0056em;">/* */</span><span class="stl_23 stl_08 stl_178" style="word-spacing:-0.0056em;">注释，注意与代码对齐。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.2644em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">5. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">所有的枚举类型字段必须要有注释，说明每个数据项的用途。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.6602em; left:5.0438em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">6. </span><span class="stl_17 stl_08 stl_20" style="word-spacing:0.3794em;">【推荐】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">与其“半吊子”英文来注释，不如用中文注释把问题说清楚。专有名词与关键字保 &nbsp;</span></div>
					<div class="stl_01" style="top:37.4102em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">持英文原文即可。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.2742em; left:6.5438em;"><span class="stl_54 stl_08 stl_49" style="word-spacing:-0.0257em;">反例：</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0257em;">“TCP 连接超时”解释成“传输控制协议连接超时”，理解反而费脑筋。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5586em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">7. </span><span class="stl_17 stl_08 stl_09" style="word-spacing:0.3801em;">【推荐】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">代码修改的同时，注释也要进行相应的修改，尤其是参数、返回值、异常、核心逻 &nbsp;</span></div>
					<div class="stl_01" style="top:43.3294em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">辑等的修改。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.1925em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">代码与注释更新不同步，就像路网与导航软件更新不同步一样，如果导航软件严重滞后，就失去了 &nbsp;</span></div>
					<div class="stl_01" style="top:46.9425em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">导航的意义。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.2477em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:49.2477em; left:5.6271em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3793em;">. </span><span class="stl_100 stl_08 stl_13" style="word-spacing:0.3793em;">【参考】</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3793em;">谨慎注释掉代码。在上方详细说明，而不是简单地注释掉。如果无用，则删除。 &nbsp;</span></div>
					<div class="stl_01" style="top:51.0883em; left:6.5438em;"><span class="stl_56 stl_08 stl_102">说明：</span><span class="stl_57 stl_08 stl_102">代码被注释掉有两种可能性：</span><span class="stl_38 stl_08 stl_102">1</span><span class="stl_57 stl_08 stl_102">）后续会恢复此段代码逻辑。</span><span class="stl_38 stl_08 stl_102">2</span><span class="stl_57 stl_08 stl_102">）永久不用。前者如果没有备注信 &nbsp;</span></div>
					<div class="stl_01" style="top:52.8617em; left:6.5438em;"><span class="stl_57 stl_08 stl_13">息，难以知晓注释动机。后者建议直接删掉（代码仓库已然保存了历史代码）。 &nbsp;</span></div>
					<div class="stl_01" style="top:55.1669em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">9</span></div>
					<div class="stl_01" style="top:55.1669em; left:5.6271em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">. </span><span class="stl_100 stl_08 stl_20" style="word-spacing:0.3794em;">【参考】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">对于注释的要求：第一、能够准确反映设计思想和代码逻辑</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.4336em;">；</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">第二、能够描述业务 &nbsp;</span></div>
					<div class="stl_01" style="top:56.9169em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">含义，使别的程序员能够迅速了解到代码背后的信息。完全没有注释的大段代码对于阅读者 &nbsp;</span></div>
					<div class="stl_01" style="top:58.6877em; left:6.5438em;"><span class="stl_23 stl_08 stl_13">形同天书，注释是给自己看的，即使隔很长时间，也能清晰理解当时的思路</span><span class="stl_57 stl_08 stl_13">；</span><span class="stl_23 stl_08 stl_13">注释也是给继 &nbsp;</span></div>
					<div class="stl_01" style="top:60.4394em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">任者看的，使其能够快速接替自己的工作。 &nbsp;</span></div>
					<div class="stl_01" style="top:62.8356em; left:5.0229em;"><span class="stl_27 stl_08 stl_63">10.</span><span class="stl_100 stl_08 stl_63">【参考】</span><span class="stl_23 stl_08 stl_63">好的命名、代码结构是自解释的，注释力求精简准确、表达到位。避免出现注释的 &nbsp;</span></div>
					<div class="stl_01" style="top:64.6065em; left:6.5229em;"><span class="stl_23 stl_08 stl_09">一个极端：过多过滥的注释，代码的逻辑一旦修改，修改注释是相当大的负担。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">1/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_27.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_27.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.16em; left:5.8979em;"><span class="stl_54 stl_08 stl_09">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:4.7506em; left:8.0458em;"><span class="stl_82 stl_08 stl_30" style="word-spacing:0.1935em;">// put</span><span class="stl_82 stl_08 stl_30" style="word-spacing:0.2202em;"> elephant</span><span class="stl_82 stl_08 stl_30" style="word-spacing:0.1986em;"> into</span><span class="stl_82 stl_08 stl_30" style="word-spacing:0.1986em;"> fridge &nbsp;</span></div>
					<div class="stl_01" style="top:5.9173em; left:8.0458em;"><span class="stl_46 stl_08 stl_134" style="word-spacing:0.2147em;">put(elephant, fridge); &nbsp;</span></div>
					<div class="stl_01" style="top:7.2642em; left:8.0458em;"><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0338em;">方法名 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0338em;">put</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0338em;">，加上两个有意义的变量名 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0338em;">elephant </span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0338em;">和 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0338em;">fridge</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0338em;">，已经说明了这是在干什么，语义清晰的代 &nbsp;</span></div>
					<div class="stl_01" style="top:9.0142em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">码不需要额外的注释。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.3211em; left:5.0438em;"><span class="stl_27 stl_08 stl_114">11.</span><span class="stl_100 stl_08 stl_114">【参考】</span><span class="stl_23 stl_08 stl_114">特殊注释标记，请注明标记人与标记时间。注意及时处理这些标记，通过标记扫 &nbsp;</span></div>
					<div class="stl_01" style="top:13.0711em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">描，经常清理此类标记。线上故障有时候就是来源于这些标记处的代码。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.9325em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:14.9325em; left:7.5042em;"><span class="stl_57 stl_08 stl_26" style="word-spacing:0.2046em;">） 待办事宜（</span><span class="stl_104 stl_08 stl_26" style="word-spacing:0.2046em;">TODO</span><span class="stl_57 stl_08 stl_26" style="word-spacing:0.2046em;">）</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.2046em;">:</span><span class="stl_57 stl_08 stl_26" style="word-spacing:0.2046em;">（标记人，标记时间，</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.2046em;">[</span><span class="stl_57 stl_08 stl_26" style="word-spacing:0.2046em;">预计处理时间</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.2046em;">]</span><span class="stl_57 stl_08 stl_26" style="word-spacing:0.2046em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:16.7033em; left:7.8583em;"><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0282em;">表示需要实现，但目前还未实现的功能。这实际上是一个 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0282em;">Javadoc </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0282em;">的标签，目前的 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0282em;">Javadoc </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0282em;">还没 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4558em; left:7.0438em;"><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0259em;">有实现，但已经被广泛使用。只能应用于类，接口和方法（因为它是一个 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0259em;">Javadoc </span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0259em;">标签）。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.2267em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:20.2267em; left:7.5042em;"><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2035em;">） 错误，不能工作（</span><span class="stl_104 stl_08 stl_20" style="word-spacing:0.2035em;">FIXME</span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2035em;">）</span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.2035em;">:</span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2035em;">（标记人，标记时间，</span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.2035em;">[</span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2035em;">预计处理时间</span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.2035em;">]</span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2035em;">） &nbsp;</span></div>
					<div class="stl_01" style="top:21.9767em; left:7.8583em;"><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0345em;">在注释中用 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0345em;">FIXME </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0345em;">标记某代码是错误的，而且不能工作，需要及时纠正的情况。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.2128em; left:3.5438em;"><span class="stl_51 stl_08 stl_26" style="word-spacing:0.3706em;">(</span><span class="stl_52 stl_08 stl_26" style="word-spacing:0.3706em;">九</span><span class="stl_51 stl_08 stl_26" style="word-spacing:0.3706em;">) </span><span class="stl_52 stl_08 stl_26" style="word-spacing:0.3706em;">其它 &nbsp;</span></div>
					<div class="stl_01" style="top:30.2002em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">1. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">在使用正则表达式时，利用好其预编译功能，可以有效加快正则匹配速度。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.0425em; left:6.5438em;"><span class="stl_56 stl_08 stl_111" style="word-spacing:-0.0121em;">说明：</span><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.0121em;">不要在方法体内定义：</span><span class="stl_38 stl_08 stl_111" style="word-spacing:-0.0121em;">Pattern pattern = Pattern.compile(</span><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.0121em;">“规则”</span><span class="stl_38 stl_08 stl_111" style="word-spacing:-0.0121em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:34.3477em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:34.3477em; left:5.6271em;"><span class="stl_27 stl_08 stl_12" style="word-spacing:0.3803em;">. </span><span class="stl_53 stl_08 stl_12" style="word-spacing:0.3803em;">【强制】</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.4347em;">velocity</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0293em;"> 调用</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0521em;"> POJO</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0314em;"> 类的属性时，直接使用属性名取值即可，模板引擎会自动按规范 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1186em; left:6.5438em;"><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0355em;">调用 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0406em;">POJO </span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0355em;">的 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0406em;">getXxx()</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0355em;">，如果是 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0406em;">boolean </span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0355em;">基本数据类型变量</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0406em;">（</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0406em;">boolean </span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0355em;">命名不需要加 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0406em;">is </span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0355em;">前 &nbsp;</span></div>
					<div class="stl_01" style="top:37.8711em; left:6.5438em;"><span class="stl_23 stl_08 stl_138" style="word-spacing:-0.0402em;">缀</span><span class="stl_57 stl_08 stl_145" style="word-spacing:-0.0459em;">）</span><span class="stl_23 stl_08 stl_138" style="word-spacing:-0.0402em;">，会自动调用 </span><span class="stl_38 stl_08 stl_145" style="word-spacing:-0.0459em;">isXxx()</span><span class="stl_23 stl_08 stl_138" style="word-spacing:-0.0402em;">方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.7325em; left:6.5438em;"><span class="stl_56 stl_08 stl_87" style="word-spacing:-0.0267em;">说明：</span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0267em;">注意如果是 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0267em;">Boolean </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0267em;">包装类对象，优先调用 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0267em;">getXxx()</span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0267em;">的方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.0169em; left:5.0438em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3793em;">3. </span><span class="stl_53 stl_08 stl_13" style="word-spacing:0.3793em;">【强制】</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3793em;">后台输送给页面的变量必须加</span><span class="stl_38 stl_08 stl_13" style="word-spacing:0.4335em;">$!{var}</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3793em;">——中间的感叹号。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.8783em; left:6.5438em;"><span class="stl_56 stl_08 stl_87" style="word-spacing:-0.031em;">说明：</span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.031em;">如果 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.031em;">var </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.031em;">等于 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.031em;">null </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.031em;">或者不存在，那么</span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.031em;">${var}</span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.031em;">会直接显示在页面上。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.1852em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:46.1852em; left:5.6271em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">注意</span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.2354em;"> Math</span><span class="stl_27 stl_08 stl_20" style="word-spacing:0.206em;">.</span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.2354em;">random()</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.2418em;"> 这个方法返回是</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0503em;"> double</span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0228em;"> 类型，注意取值的范围</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.2035em;"> 0≤</span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.2326em;">x</span><span class="stl_27 stl_08 stl_20" style="word-spacing:0.2035em;">&lt;1</span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2326em;">（</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.2035em;">能够 &nbsp;</span></div>
					<div class="stl_01" style="top:47.9352em; left:6.5438em;"><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0422em;">取到</span><span class="stl_22 stl_08 stl_15" style="word-spacing:-0.0422em;">零</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0422em;">值，注意除零异常</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0483em;">）</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0422em;">，如果想获取整数类型的随机数，不要将 </span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0483em;">x </span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0422em;">放大 </span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0422em;">10 </span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0422em;">的若干倍然后 &nbsp;</span></div>
					<div class="stl_01" style="top:49.7061em; left:6.5438em;"><span class="stl_23 stl_08 stl_108" style="word-spacing:-0.0323em;">取整，直接使用 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0369em;">Random </span><span class="stl_23 stl_08 stl_108" style="word-spacing:-0.0323em;">对象的 </span><span class="stl_104 stl_08 stl_68" style="word-spacing:-0.0369em;">nextInt </span><span class="stl_10 stl_08 stl_108" style="word-spacing:-0.0323em;">或者 </span><span class="stl_104 stl_08 stl_68" style="word-spacing:-0.0369em;">nextLong </span><span class="stl_23 stl_08 stl_108" style="word-spacing:-0.0323em;">方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.0836em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:52.0836em; left:5.6271em;"><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3796em;">. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3796em;">【强制】</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.3796em;">获取当前毫秒数</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0482em;"> System</span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0422em;">.</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0482em;">currentTimeMillis();</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.2463em;"> 而不是</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0511em;"> new</span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.0355em;"> Date()</span><span class="stl_27 stl_08 stl_24" style="word-spacing:0.0311em;">.</span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.0355em;">getTime(); &nbsp;</span></div>
					<div class="stl_01" style="top:53.945em; left:6.5438em;"><span class="stl_56 stl_08 stl_64" style="word-spacing:-0.0292em;">说明：</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0292em;">如果想获取更加精确的纳秒级时间值，使用 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0292em;">System.nanoTime()</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0292em;">的方式。在 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0292em;">JDK8 </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0292em;">中，针对统计时 &nbsp;</span></div>
					<div class="stl_01" style="top:55.7158em; left:6.5438em;"><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0232em;">间等场景，推荐使用 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0232em;">Instant </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0232em;">类。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.0002em; left:5.0438em;"><span class="stl_27 stl_08 stl_94" style="word-spacing:0.3815em;">6. </span><span class="stl_53 stl_08 stl_94" style="word-spacing:0.3815em;">【强制】</span><span class="stl_23 stl_08 stl_94" style="word-spacing:0.3815em;">日期格式化时，传入</span><span class="stl_27 stl_08 stl_94" style="word-spacing:-0.0403em;"> pattern</span><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.0313em;"> 中表示年份统一使用小写的</span><span class="stl_27 stl_08 stl_94" style="word-spacing:-0.0313em;"> y</span><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.0313em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:59.7727em; left:6.5438em;"><span class="stl_179 stl_08 stl_192" style="word-spacing:-0.0372em;">说明：</span><span class="stl_65 stl_08 stl_192" style="word-spacing:-0.0372em;">日期格式化时，</span><span class="stl_144 stl_73 stl_174" style="word-spacing:-0.0447em;">yyyy</span><span class="stl_65 stl_08 stl_192" style="word-spacing:-0.0372em;">表示当天所在的年，而大写的 </span><span class="stl_144 stl_73 stl_174" style="word-spacing:-0.0447em;">YYYY</span><span class="stl_65 stl_08 stl_192" style="word-spacing:-0.0372em;">代表是 </span><span class="stl_144 stl_73 stl_174" style="word-spacing:-0.0447em;">week in which year &nbsp;</span></div>
					<div class="stl_01" style="top:61.5231em; left:6.5438em;"><span class="stl_65 stl_08 stl_09">（</span></div>
					<div class="stl_01" style="top:61.5022em; left:7.5458em;"><span class="stl_143 stl_71 stl_64" style="word-spacing:0.0021em;">JDK7 </span><span class="stl_65 stl_08 stl_64" style="word-spacing:0.0021em;">之后引入的概念），意思是当天所在的周属于的年份，一周从周日开始，周六结束， &nbsp;</span></div>
					<div class="stl_01" style="top:63.294em; left:6.5438em;"><span class="stl_65 stl_08 stl_193" style="word-spacing:-0.0582em;">只要本周跨年，返回的 </span><span class="stl_144 stl_73 stl_194" style="word-spacing:-0.0698em;">YYYY</span><span class="stl_65 stl_08 stl_193" style="word-spacing:-0.0582em;">就是下一年。另外需要注意： &nbsp;</span></div>
					<div class="stl_01" style="top:65.9572em; left:8.0458em;"><span class="stl_195 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:65.7804em; left:9.5458em;"><span class="stl_197 stl_08 stl_09" style="word-spacing:-0.0311em;">表示月份是大写的 </span><span class="stl_95 stl_08 stl_09" style="word-spacing:-0.0311em;">M &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">2/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_28.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_28.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.3367em; left:8.0458em;"><span class="stl_195 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:5.4201em; left:8.0458em;"><span class="stl_195 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:7.4826em; left:8.025em;"><span class="stl_198 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:3.16em; left:9.5458em;"><span class="stl_197 stl_08 stl_09" style="word-spacing:-0.0292em;">表示分钟则是小写的 </span><span class="stl_95 stl_08 stl_09" style="word-spacing:-0.0292em;">m &nbsp;</span></div>
					<div class="stl_01" style="top:5.2433em; left:9.5458em;"><span class="stl_95 stl_08 stl_109" style="word-spacing:-0.0233em;">24 </span><span class="stl_197 stl_08 stl_109" style="word-spacing:-0.0233em;">小时制的是大写的 </span><span class="stl_95 stl_08 stl_109" style="word-spacing:-0.0233em;">H &nbsp;</span></div>
					<div class="stl_01" style="top:7.3058em; left:9.525em;"><span class="stl_95 stl_08 stl_134" style="word-spacing:-0.0237em;">12 </span><span class="stl_197 stl_08 stl_134" style="word-spacing:-0.0237em;">小时制的则是小写的 </span><span class="stl_95 stl_08 stl_134" style="word-spacing:-0.0237em;">h &nbsp;</span></div>
					<div class="stl_01" style="top:8.9861em; left:9.525em;"><span class="stl_199 stl_08 stl_15">正例：</span><span class="stl_65 stl_08 stl_15">表示日期和时间的格式如下所示： &nbsp;</span></div>
					<div class="stl_01" style="top:10.9042em; left:9.9833em;"><span class="stl_144 stl_73 stl_13" style="word-spacing:-0.0004em;">new SimpleDateFormat("yyyy-MM-dd HH:mm:ss"); &nbsp;</span></div>
					<div class="stl_01" style="top:13.3836em; left:5.0229em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">7. </span><span class="stl_17 stl_08 stl_15" style="word-spacing:0.3799em;">【推荐】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">不要在视图模板中加入任何复杂的逻辑。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.245em; left:6.5438em;"><span class="stl_56 stl_08 stl_30" style="word-spacing:-0.0332em;">说明：</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0332em;">根据 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0332em;">MVC </span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0332em;">理论，视图的职责是展示，不要抢模型和控制器的活。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.5319em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">8. </span><span class="stl_17 stl_08 stl_09" style="word-spacing:0.3801em;">【推荐】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">任何数据结构的构造或初始化，都应指定大小，避免数据结构无限增长吃光内存。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.9277em; left:5.0229em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">9. </span><span class="stl_17 stl_08 stl_09" style="word-spacing:0.3801em;">【推荐】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">及时清理不再使用的代码段或配置信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.7892em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">对于垃圾代码或过时配置，坚决清理干净，避免程序过度臃肿，代码冗余。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.5392em; left:6.5438em;"><span class="stl_58 stl_08 stl_13">正例：</span><span class="stl_57 stl_08 stl_13">对于暂时被注释掉，后续可能恢复使用的代码片断，在注释代码上方，统一规定使用三个斜杠</span><span class="stl_38 stl_08 stl_13">(///) &nbsp;</span></div>
					<div class="stl_01" style="top:25.3117em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">来说明注释掉代码的理由。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">3/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_29.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_29.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.3727em; left:3.5438em;"><span class="stl_50 stl_08 stl_09">二、异常日志 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1237em; left:3.5438em;"><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">(</span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">一</span><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">) </span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">异常处理 &nbsp;</span></div>
					<div class="stl_01" style="top:11.1127em; left:5.0438em;"><span class="stl_78 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:11.1127em; left:5.6271em;"><span class="stl_78 stl_08 stl_12" style="word-spacing:0.3802em;">. </span><span class="stl_53 stl_08 stl_12" style="word-spacing:0.3802em;">【强制】</span><span class="stl_78 stl_08 stl_12" style="word-spacing:0.3802em;">Java</span><span class="stl_65 stl_08 stl_12" style="word-spacing:0.2176em;"> 类库中定义的可以通过预检查方式规避的</span><span class="stl_27 stl_08 stl_12" style="word-spacing:-0.0398em;"> RuntimeException</span><span class="stl_65 stl_08 stl_12" style="word-spacing:-0.0285em;"> 异常不应该通 &nbsp;</span></div>
					<div class="stl_01" style="top:12.8836em; left:6.5438em;"><span class="stl_65 stl_08 stl_15" style="word-spacing:-0.0441em;">过 </span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0441em;">catch</span><span class="stl_65 stl_08 stl_15" style="word-spacing:0.2146em;"> 的方式来处理，比如：</span><span class="stl_27 stl_08 stl_15" style="word-spacing:0.2146em;">NullPointerException</span><span class="stl_65 stl_08 stl_15" style="word-spacing:0.2146em;">，</span><span class="stl_27 stl_08 stl_15" style="word-spacing:0.2146em;">IndexOutOfBoundsException</span><span class="stl_65 stl_08 stl_15" style="word-spacing:0.2146em;"> 等 &nbsp;</span></div>
					<div class="stl_01" style="top:14.6544em; left:6.5438em;"><span class="stl_65 stl_08 stl_09">等。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.495em; left:6.5438em;"><span class="stl_56 stl_08 stl_13">说明：</span><span class="stl_66 stl_08 stl_13">无法通过预检查的异常除外，比如，在解析字符串形式的数字时，可能存在数字格式错误，不得不 &nbsp;</span></div>
					<div class="stl_01" style="top:18.2683em; left:6.5438em;"><span class="stl_66 stl_08 stl_26" style="word-spacing:-0.0192em;">通过 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0192em;">catch NumberFormatException </span><span class="stl_66 stl_08 stl_26" style="word-spacing:-0.0192em;">来实现。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.0183em; left:6.5438em;"><span class="stl_58 stl_08 stl_74" style="word-spacing:-0.0031em;">正例：</span><span class="stl_67 stl_08 stl_74" style="word-spacing:-0.0031em;">if (obj != null) {...} &nbsp;</span></div>
					<div class="stl_01" style="top:21.7892em; left:6.5438em;"><span class="stl_54 stl_08 stl_90" style="word-spacing:-0.0112em;">反例：</span><span class="stl_67 stl_08 stl_90" style="word-spacing:-0.0112em;">try { obj.method(); </span><span class="stl_66 stl_08 stl_90" style="word-spacing:-0.0112em;">} catch (NullPointerException e) {…} &nbsp;</span></div>
					<div class="stl_01" style="top:24.4711em; left:5.0438em;"><span class="stl_78 stl_08 stl_09" style="word-spacing:0.3801em;">2. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_65 stl_08 stl_09" style="word-spacing:0.3801em;">异常不要用来做流程控制，条件控制。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.3117em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">异常设计的初衷是解决程序运行中的各种意外情况，且异常的处理效率比条件判断方式要低很多。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.9919em; left:5.0438em;"><span class="stl_78 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:28.9919em; left:5.6271em;"><span class="stl_78 stl_08 stl_64" style="word-spacing:0.3809em;">. </span><span class="stl_53 stl_08 stl_64" style="word-spacing:0.3809em;">【强制】</span><span class="stl_38 stl_08 stl_49" style="word-spacing:0.4354em;">catch</span><span class="stl_65 stl_08 stl_64" style="word-spacing:-0.0238em;"> 时请分清稳定代码和非稳定代码，稳定代码指的是无论如何不会出错的代码。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.7419em; left:6.5438em;"><span class="stl_65 stl_08 stl_74" style="word-spacing:-0.033em;">对于非稳定代码的 </span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0377em;">catch </span><span class="stl_65 stl_08 stl_74" style="word-spacing:-0.033em;">尽可能进行区分异常类型，再做对应的异常处理。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.605em; left:6.5438em;"><span class="stl_56 stl_08 stl_64" style="word-spacing:-0.0304em;">说明：</span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0304em;">对大段代码进行 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0304em;">try</span><span class="stl_67 stl_08 stl_64" style="word-spacing:-0.0304em;">-</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0304em;">catch</span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0304em;">，使程序无法根据不同的异常做出正确的应激反应，也不利于定位问 &nbsp;</span></div>
					<div class="stl_01" style="top:34.3758em; left:6.5438em;"><span class="stl_66 stl_08 stl_09">题，这是一种不负责任的表现。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1258em; left:6.5438em;"><span class="stl_58 stl_08 stl_13">正例：</span><span class="stl_66 stl_08 stl_13">用户注册的场景中，如果用户输入非法字符，或用户名称已存在，或用户输入密码过于简单，在程 &nbsp;</span></div>
					<div class="stl_01" style="top:37.8967em; left:6.5438em;"><span class="stl_66 stl_08 stl_13">序上作出分门别类的判断，并提示给用户。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.5586em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:40.5586em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">捕获异常是为了处理它，不要捕获了却什么都不处理而抛弃之，如果不想处理它， &nbsp;</span></div>
					<div class="stl_01" style="top:42.3294em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">请将该异常抛给它的调用者。最外层的业务使用者，必须处理异常，将其转化为用户可以理 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1002em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">解的内容。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.4769em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:50.6227em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">6</span></div>
					<div class="stl_01" style="top:54.7919em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">7</span></div>
					<div class="stl_01" style="top:46.4769em; left:5.6271em;"><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3796em;">. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3796em;">【强制】</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.3796em;">有</span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0464em;"> try</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0523em;"> 块放到了事务代码中，</span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0523em;">catch</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0356em;"> 异常后，如果需要回滚事务，一定要注意手动回 &nbsp;</span></div>
					<div class="stl_01" style="top:48.2486em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">滚事务。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.6227em; left:5.6271em;"><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3796em;">. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3796em;">【强制】</span><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3796em;">finally</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.048em;"> 块必须对资源对象、流对象进行关闭，有异常也要做</span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0387em;"> try-catch</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0387em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.4867em; left:6.5438em;"><span class="stl_56 stl_08 stl_108" style="word-spacing:-0.0292em;">说明：</span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0292em;">如果 </span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0292em;">JDK7 </span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0292em;">及以上，可以使用 </span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0292em;">try-with-resources </span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0292em;">方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:54.7919em; left:5.6063em;"><span class="stl_27 stl_08 stl_59" style="word-spacing:0.378em;">. </span><span class="stl_53 stl_08 stl_59" style="word-spacing:0.378em;">【强制】</span><span class="stl_65 stl_08 stl_59" style="word-spacing:0.378em;">不要在</span><span class="stl_27 stl_08 stl_59" style="word-spacing:-0.0454em;"> finally</span><span class="stl_65 stl_08 stl_59" style="word-spacing:-0.052em;"> 块中使用</span><span class="stl_27 stl_08 stl_59" style="word-spacing:-0.0462em;"> return</span><span class="stl_65 stl_08 stl_59" style="word-spacing:-0.0462em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:56.6325em; left:6.5229em;"><span class="stl_56 stl_08 stl_74" style="word-spacing:-0.0316em;">说明：</span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0316em;">try </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0316em;">块中的 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0316em;">return </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0316em;">语句执行成功后，并不马上返回，而是继续执行 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0316em;">finally </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0316em;">块中的语句，如果此处存 &nbsp;</span></div>
					<div class="stl_01" style="top:58.4033em; left:6.5229em;"><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0351em;">在 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0351em;">return </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0351em;">语句，则在此直接返回，无情丢弃掉 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0351em;">try </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0351em;">块中的返回点。 &nbsp;</span></div>
					<div class="stl_01" style="top:60.155em; left:6.5229em;"><span class="stl_54 stl_08 stl_09">反例： &nbsp;</span></div>
					<div class="stl_01" style="top:61.746em; left:8.0458em;"><span class="stl_46 stl_08 stl_122" style="word-spacing:0.1897em;">private int x =</span><span class="stl_46 stl_08 stl_122" style="word-spacing:0.207em;"> 0; &nbsp;</span></div>
					<div class="stl_01" style="top:62.9127em; left:8.0458em;"><span class="stl_46 stl_08 stl_09" style="word-spacing:0.1984em;">public int checkReturn() { &nbsp;</span></div>
					<div class="stl_01" style="top:64.0793em; left:9.5458em;"><span class="stl_46 stl_08 stl_151" style="word-spacing:0.2072em;">try { &nbsp;</span></div>
					<div class="stl_01" style="top:65.246em; left:11.0458em;"><span class="stl_82 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:65.246em; left:11.3586em;"><span class="stl_82 stl_08 stl_64" style="word-spacing:0.1937em;">/ x</span><span class="stl_83 stl_08 stl_64" style="word-spacing:-0.0482em;"> 等于</span><span class="stl_82 stl_08 stl_64" style="word-spacing:-0.0482em;"> 1</span><span class="stl_83 stl_08 stl_64" style="word-spacing:-0.045em;">，此处不返回 &nbsp;</span></div>
					<div class="stl_01" style="top:66.4148em; left:11.0458em;"><span class="stl_46 stl_08 stl_68" style="word-spacing:0.1999em;">return ++x; &nbsp;</span></div>
					<div class="stl_01" style="top:67.5814em; left:10.1698em;"><span class="stl_46 stl_08 stl_89" style="word-spacing:0.1965em;">finally { &nbsp;</span></div>
					<div class="stl_01" style="top:67.5814em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">4/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_30.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_30.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:2.9798em; left:11.0458em;"><span class="stl_82 stl_08 stl_145" style="word-spacing:0.197em;">// </span><span class="stl_83 stl_08 stl_145" style="word-spacing:0.197em;">返回的结果是</span><span class="stl_82 stl_08 stl_145" style="word-spacing:0.197em;"> 2 &nbsp;</span></div>
					<div class="stl_01" style="top:4.1464em; left:11.0458em;"><span class="stl_46 stl_08 stl_68" style="word-spacing:0.1999em;">return ++x; &nbsp;</span></div>
					<div class="stl_01" style="top:5.3131em; left:9.5458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:6.4798em; left:8.0458em;"><span class="stl_46 stl_08 stl_09">}</span></div>
					<div class="stl_01" style="top:8.6111em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">8. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">捕获异常与抛异常，必须是完全匹配，或者捕获异常是抛异常的父类。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.4742em; left:6.5438em;"><span class="stl_56 stl_08 stl_24">说明：</span><span class="stl_57 stl_08 stl_24">如果预期对方抛的是绣球，实际接到的是铅球，就会产生意外情况。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.7376em; left:5.0438em;"><span class="stl_27 stl_08 stl_30" style="word-spacing:0.3806em;">9. </span><span class="stl_53 stl_08 stl_30" style="word-spacing:0.3806em;">【强制】</span><span class="stl_65 stl_08 stl_30" style="word-spacing:0.3806em;">在调用</span><span class="stl_143 stl_71 stl_30" style="word-spacing:-0.0428em;"> RPC</span><span class="stl_65 stl_08 stl_30" style="word-spacing:-0.0428em;">、二方包、或动态生成类的相关方法时，捕捉异常必须使用</span><span class="stl_143 stl_71 stl_30" style="word-spacing:-0.0351em;"> Throwable &nbsp;</span></div>
					<div class="stl_01" style="top:14.5294em; left:6.5438em;"><span class="stl_65 stl_08 stl_09">类来进行拦截。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.3725em; left:6.5438em;"><span class="stl_56 stl_08 stl_20" style="word-spacing:-0.0251em;">说明：</span><span class="stl_66 stl_08 stl_20" style="word-spacing:-0.0251em;">通过反射机制来调用方法，如果找不到方法，抛出 </span><span class="stl_70 stl_71 stl_20" style="word-spacing:-0.0251em;">NoSuchMethodException</span><span class="stl_66 stl_08 stl_20" style="word-spacing:-0.0251em;">。什么情况会抛出 &nbsp;</span></div>
					<div class="stl_01" style="top:18.125em; left:6.5438em;"><span class="stl_70 stl_71 stl_64" style="word-spacing:0.0154em;">NoSuchMethodError </span><span class="stl_66 stl_08 stl_64" style="word-spacing:0.0154em;">呢？二方包在类冲突时，仲裁机制可能导致引入非预期的版本使类的方法签名不匹 &nbsp;</span></div>
					<div class="stl_01" style="top:19.8958em; left:6.5438em;"><span class="stl_66 stl_08 stl_15">配，或者在字节码修改框架（比如：</span><span class="stl_70 stl_71 stl_15">ASM</span><span class="stl_66 stl_08 stl_15">）动态创建或修改类时，修改了相应的方法签名。这些情况，即 &nbsp;</span></div>
					<div class="stl_01" style="top:21.645em; left:6.5438em;"><span class="stl_66 stl_08 stl_102" style="word-spacing:-0.0255em;">使代码编译期是正确的，但在代码运行期时，会抛出 </span><span class="stl_70 stl_71 stl_102" style="word-spacing:-0.0255em;">NoSuchMethodError</span><span class="stl_66 stl_08 stl_102" style="word-spacing:-0.0255em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.9711em; left:5.0438em;"><span class="stl_27 stl_08 stl_63" style="word-spacing:-0.0484em;">10.</span><span class="stl_17 stl_08 stl_63" style="word-spacing:-0.0484em;">【推荐】</span><span class="stl_23 stl_08 stl_63" style="word-spacing:-0.0484em;">方法的</span><span class="stl_22 stl_08 stl_63" style="word-spacing:-0.0484em;">返回值可以为 </span><span class="stl_104 stl_08 stl_116" style="word-spacing:-0.0553em;">null</span><span class="stl_23 stl_08 stl_63" style="word-spacing:-0.0484em;">，不强制返回空集合，或者空对象等，必须添加注释充分 &nbsp;</span></div>
					<div class="stl_01" style="top:25.7419em; left:6.5438em;"><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0356em;">说明什么情况下会返回 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0407em;">null </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0356em;">值。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.5825em; left:6.5438em;"><span class="stl_56 stl_08 stl_64" style="word-spacing:-0.0341em;">说明：</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0341em;">本手册明确</span><span class="stl_121 stl_08 stl_64" style="word-spacing:-0.0341em;">防止 </span><span class="stl_104 stl_08 stl_64" style="word-spacing:-0.0341em;">NPE </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0341em;">是调用者的责任。即使被调用方法返回空集合或者空对象，对调用者来说，也 &nbsp;</span></div>
					<div class="stl_01" style="top:29.3533em; left:6.5438em;"><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0322em;">并非高枕无忧，必须考虑到远程调用失败、序列化失败、运行时异常等场景返回 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0322em;">null </span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0322em;">的情况。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.6394em; left:5.0229em;"><span class="stl_27 stl_08 stl_200" style="word-spacing:-0.0444em;">11.</span><span class="stl_17 stl_08 stl_200" style="word-spacing:-0.0444em;">【推荐】</span><span class="stl_23 stl_08 stl_200" style="word-spacing:-0.0444em;">防止 </span><span class="stl_38 stl_08 stl_133" style="word-spacing:-0.0507em;">NPE</span><span class="stl_23 stl_08 stl_200" style="word-spacing:-0.0444em;">，是程序员的基本修养，注意 </span><span class="stl_38 stl_08 stl_133" style="word-spacing:-0.0507em;">NPE </span><span class="stl_23 stl_08 stl_200" style="word-spacing:-0.0444em;">产生的场景： &nbsp;</span></div>
					<div class="stl_01" style="top:33.5008em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:33.5008em; left:7.4813em;"><span class="stl_57 stl_08 stl_103" style="word-spacing:0.2081em;">） 返回类型为基本数据类型，</span><span class="stl_38 stl_08 stl_103" style="word-spacing:0.2081em;">return</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.026em;"> 包装数据类型的对象时，自动拆箱有可能产生</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0227em;"> NPE</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0227em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.2717em; left:8.275em;"><span class="stl_54 stl_08 stl_102" style="word-spacing:-0.0128em;">反例：</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0128em;">public int</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0039em;"> f()</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0133em;"> {</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0123em;"> return</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0095em;"> Integer</span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0157em;"> 对象</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0157em;">}</span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0157em;">，</span><span class="stl_57 stl_08 stl_102" style="word-spacing:0.2027em;"> 如果为</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0335em;"> null</span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0335em;">，自动解箱抛</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0326em;"> NPE</span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0326em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0217em; left:7.4813em;"><span class="stl_57 stl_08 stl_26" style="word-spacing:0.2069em;">） 数据库的查询结果可能为</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0288em;"> null</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0288em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0217em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:38.795em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:40.545em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:42.3158em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:44.0867em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">6</span></div>
					<div class="stl_01" style="top:38.795em; left:7.4813em;"><span class="stl_57 stl_08 stl_108" style="word-spacing:0.2082em;">） 集合里的元素即使</span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0294em;"> isNotEmpty</span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0294em;">，取出的数据元素也可能为</span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0273em;"> null</span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0273em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.545em; left:7.4813em;"><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2058em;">） 远程调用返回对象时，一律要求进行空指针判断，防止</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0328em;"> NPE</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0328em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.3158em; left:7.4813em;"><span class="stl_57 stl_08 stl_112" style="word-spacing:0.2113em;">） 对于</span><span class="stl_38 stl_08 stl_112" style="word-spacing:-0.0292em;"> Session</span><span class="stl_57 stl_08 stl_112" style="word-spacing:-0.0201em;"> 中获取的数据，建议进行</span><span class="stl_38 stl_08 stl_112" style="word-spacing:-0.0263em;"> NPE</span><span class="stl_57 stl_08 stl_112" style="word-spacing:-0.0316em;"> 检查，避免空指针。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.0867em; left:7.4813em;"><span class="stl_57 stl_08 stl_74" style="word-spacing:0.2078em;">） 级联调用</span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0299em;"> obj.getA().getB().getC()</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0299em;">；一连串调用，易产生</span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0278em;"> NPE</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0278em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8383em; left:8.7333em;"><span class="stl_58 stl_08 stl_98" style="word-spacing:-0.0334em;">正例：</span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0334em;">使用 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0334em;">JDK8 </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0334em;">的 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0334em;">Optional </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0334em;">类来防止 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0334em;">NPE </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0334em;">问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1436em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:48.1436em; left:5.6271em;"><span class="stl_27 stl_08 stl_117" style="word-spacing:-0.0467em;">2.</span><span class="stl_17 stl_08 stl_117" style="word-spacing:-0.0467em;">【推荐】</span><span class="stl_23 stl_08 stl_117" style="word-spacing:-0.0467em;">定义时区分 </span><span class="stl_27 stl_08 stl_117" style="word-spacing:-0.0467em;">unchecked</span><span class="stl_27 stl_08 stl_117" style="word-spacing:-0.0018em;"> /</span><span class="stl_27 stl_08 stl_117" style="word-spacing:0.0026em;"> checked</span><span class="stl_23 stl_08 stl_117" style="word-spacing:0.2132em;"> 异常，避免直接抛出</span><span class="stl_27 stl_08 stl_117" style="word-spacing:-0.0449em;"> new</span><span class="stl_38 stl_08 stl_139" style="word-spacing:-0.0037em;"> RuntimeException()</span><span class="stl_23 stl_08 stl_117" style="word-spacing:-0.0032em;">， &nbsp;</span></div>
					<div class="stl_01" style="top:49.8936em; left:6.5438em;"><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0395em;">更不允许抛出 </span><span class="stl_27 stl_08 stl_64" style="word-spacing:-0.0395em;">Exception </span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0395em;">或者 </span><span class="stl_27 stl_08 stl_64" style="word-spacing:-0.0395em;">Throwable</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0395em;">，应使用有业务含义的自定义异常。推荐业界已定 &nbsp;</span></div>
					<div class="stl_01" style="top:51.6652em; left:6.5438em;"><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0048em;">义过的自定义异常，如：</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.0048em;">DAOException / ServiceException </span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0048em;">等。 &nbsp;</span></div>
					<div class="stl_01" style="top:54.0627em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:54.0627em; left:5.6271em;"><span class="stl_27 stl_08 stl_139" style="word-spacing:-0.0437em;">3.</span><span class="stl_100 stl_08 stl_139" style="word-spacing:-0.0437em;">【参考】</span><span class="stl_23 stl_08 stl_139" style="word-spacing:-0.0437em;">对于公司外的 </span><span class="stl_27 stl_08 stl_139" style="word-spacing:-0.0437em;">http/api </span><span class="stl_23 stl_08 stl_139" style="word-spacing:-0.0437em;">开放接口必须使用“错误码”；而应用内部推荐异常抛出； &nbsp;</span></div>
					<div class="stl_01" style="top:55.8127em; left:6.5438em;"><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0438em;">跨应用间 </span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0438em;">RPC </span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0438em;">调用优先考虑</span><span class="stl_22 stl_08 stl_15" style="word-spacing:-0.0438em;">使用 </span><span class="stl_21 stl_08 stl_15" style="word-spacing:-0.0438em;">Result </span><span class="stl_22 stl_08 stl_15" style="word-spacing:-0.0438em;">方式</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0438em;">，封装 </span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0438em;">isSuccess()</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0438em;">方法、“错误码”、“错误 &nbsp;</span></div>
					<div class="stl_01" style="top:57.5836em; left:6.5438em;"><span class="stl_23 stl_08 stl_13">简短信息”。 &nbsp;</span></div>
					<div class="stl_01" style="top:59.4258em; left:6.5438em;"><span class="stl_56 stl_08 stl_140" style="word-spacing:-0.0257em;">说明：</span><span class="stl_57 stl_08 stl_140" style="word-spacing:-0.0257em;">关于 </span><span class="stl_38 stl_08 stl_140" style="word-spacing:-0.0257em;">RPC </span><span class="stl_57 stl_08 stl_140" style="word-spacing:-0.0257em;">方法返回方式使用 </span><span class="stl_38 stl_08 stl_140" style="word-spacing:-0.0257em;">Result </span><span class="stl_57 stl_08 stl_140" style="word-spacing:-0.0257em;">方式的理由： &nbsp;</span></div>
					<div class="stl_01" style="top:61.1971em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:62.9679em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:61.1971em; left:7.5042em;"><span class="stl_57 stl_08 stl_24">）使用抛异常返回方式，调用方如果没有捕获到就会产生运行时错误。 &nbsp;</span></div>
					<div class="stl_01" style="top:62.9679em; left:7.5042em;"><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0248em;">）如果不加栈信息，只是 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0248em;">new </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0248em;">自定义异常，加入自己的理解的 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0248em;">error message</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0248em;">，对于调用端解决问题 &nbsp;</span></div>
					<div class="stl_01" style="top:64.7179em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">的帮助不会太多。如果加了栈信息，在频繁调用出错的情况下，数据序列化和传输的性能损耗也是问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">5/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_31.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_31.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.6063em;"><span class="stl_27 stl_08 stl_114" style="word-spacing:0.0383em;">4.</span><span class="stl_100 stl_08 stl_114" style="word-spacing:0.0383em;">【参考】</span><span class="stl_23 stl_08 stl_114" style="word-spacing:0.0383em;">避免出现重复的代码</span><span class="stl_57 stl_08 stl_47" style="word-spacing:0.0438em;">（</span><span class="stl_38 stl_08 stl_47" style="word-spacing:0.0438em;">Don</span><span class="stl_27 stl_08 stl_114" style="word-spacing:0.0383em;">'</span><span class="stl_38 stl_08 stl_47" style="word-spacing:0.0438em;">t Repeat Yourself</span><span class="stl_57 stl_08 stl_47" style="word-spacing:0.0438em;">）</span><span class="stl_23 stl_08 stl_114" style="word-spacing:0.0383em;">，即</span><span class="stl_38 stl_08 stl_47" style="word-spacing:-0.0556em;"> DRY</span><span class="stl_23 stl_08 stl_114" style="word-spacing:-0.0416em;"> 原则。 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5229em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">随意复制和粘贴代码，必然会导致代码的重复，在以后需要修改时，需要修改所有的副本，容易遗 &nbsp;</span></div>
					<div class="stl_01" style="top:6.6808em; left:6.5229em;"><span class="stl_57 stl_08 stl_37">漏。必要时抽取共性方法，或者抽象公共类，甚至是组件化。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4517em; left:6.5229em;"><span class="stl_58 stl_08 stl_49" style="word-spacing:-0.03em;">正例：</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.03em;">一个类中有多个 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.03em;">public </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.03em;">方法，都需要进行数行相同的参数校验操作，这个时候请抽取： &nbsp;</span></div>
					<div class="stl_01" style="top:9.8908em; left:9.6083em;"><span class="stl_38 stl_08 stl_64" style="word-spacing:0.2028em;">private boolean checkParam(DTO dto) {...} &nbsp;</span></div>
					<div class="stl_01" style="top:14.7503em; left:3.5438em;"><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">(</span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">二</span><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">) </span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">日志规约 &nbsp;</span></div>
					<div class="stl_01" style="top:17.7402em; left:5.0229em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">1. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">应用中不可直接使用日志系统</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.4342em;">（</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.4342em;">Log</span><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">4</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.4342em;">j</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">、</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.4342em;">Logback</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.4342em;">）</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">中的</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0507em;"> API</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0444em;">，而应依赖使用日志框架 &nbsp;</span></div>
					<div class="stl_01" style="top:19.5111em; left:7.0438em;"><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0381em;">SLF</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.0333em;">4</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0381em;">J </span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0333em;">中的 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0381em;">API</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0333em;">，使用门面模式的日志框架，有利于维护和各个类的日志处理方式统一。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1714em; left:8.0458em;"><span class="stl_46 stl_08 stl_62" style="word-spacing:0.1897em;">import org.slf4j.Logger; &nbsp;</span></div>
					<div class="stl_01" style="top:22.3381em; left:8.0458em;"><span class="stl_46 stl_08 stl_39" style="word-spacing:0.1904em;">import org.slf4j.LoggerFactory; &nbsp;</span></div>
					<div class="stl_01" style="top:23.5039em; left:8.0458em;"><span class="stl_46 stl_08 stl_26" style="word-spacing:0.1971em;">private static final</span><span class="stl_46 stl_08 stl_26" style="word-spacing:0.2117em;"> Logger logger =</span><span class="stl_46 stl_08 stl_26" style="word-spacing:0.2117em;"> LoggerFactory.getLogger(Test.class); &nbsp;</span></div>
					<div class="stl_01" style="top:25.6377em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:25.6377em; left:5.6271em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3794em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">所有日志文件至少保存</span><span class="stl_27 stl_08 stl_20" style="word-spacing:-0.0448em;"> 15</span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0496em;"> 天，因为有些异常具备以“周”为频次发生的特点。网络 &nbsp;</span></div>
					<div class="stl_01" style="top:27.4086em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">运行状态、安全相关信息、系统监测、管理后台操作、用户敏感操作需要留存相关的网络日 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1794em; left:6.5438em;"><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0464em;">志不少于 </span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0464em;">6 </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0464em;">个月。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.5561em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:31.5561em; left:5.6063em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3792em;">. </span><span class="stl_53 stl_08 stl_13" style="word-spacing:0.3792em;">【强制】</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3792em;">应用中的扩展日志</span><span class="stl_57 stl_08 stl_37" style="word-spacing:0.4334em;">（</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3792em;">如打点、临时监控、访问日志等</span><span class="stl_57 stl_08 stl_37" style="word-spacing:0.4334em;">）</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3792em;">命名方式： &nbsp;</span></div>
					<div class="stl_01" style="top:33.4175em; left:6.5229em;"><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0383em;">appName_logType_logName.log</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0383em;">。</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0383em;">logType:</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0383em;">日志类型，如 </span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0383em;">stats/monitor/access </span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0383em;">等；</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0383em;">logName:</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0383em;">日志 &nbsp;</span></div>
					<div class="stl_01" style="top:35.1675em; left:6.5229em;"><span class="stl_57 stl_08 stl_09">描述。这种命名的好处：通过文件名就可知道日志文件属于什么应用，什么类型，什么目的，也有利于归 &nbsp;</span></div>
					<div class="stl_01" style="top:36.9383em; left:6.5229em;"><span class="stl_57 stl_08 stl_09">类查找。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.7117em; left:6.5229em;"><span class="stl_56 stl_08 stl_24">说明：</span><span class="stl_57 stl_08 stl_24">推荐对日志进行分类，如将错误日志和业务日志分开存放，便于开发人员查看，也便于通过日志对 &nbsp;</span></div>
					<div class="stl_01" style="top:40.4617em; left:6.5229em;"><span class="stl_57 stl_08 stl_09">系统进行及时监控。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.2325em; left:6.5229em;"><span class="stl_58 stl_08 stl_09" style="word-spacing:-0.0258em;">正例：</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0258em;">force-web </span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0258em;">应用中单独监控时区转换异常，如：</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0258em;">force_web_timeZoneConvert.log &nbsp;</span></div>
					<div class="stl_01" style="top:44.7877em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:44.7877em; left:5.6063em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">在日志输出时，字符串变量之间的拼接使用占位符的方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.6116em; left:6.5229em;"><span class="stl_56 stl_08 stl_15" style="word-spacing:-0.0232em;">说明：</span><span class="stl_66 stl_08 stl_15" style="word-spacing:-0.0232em;">因为 </span><span class="stl_70 stl_71 stl_15" style="word-spacing:-0.0232em;">String </span><span class="stl_66 stl_08 stl_15" style="word-spacing:-0.0232em;">字符串的拼接会使用 </span><span class="stl_70 stl_71 stl_15" style="word-spacing:-0.0232em;">StringBuilder </span><span class="stl_66 stl_08 stl_15" style="word-spacing:-0.0232em;">的 </span><span class="stl_70 stl_71 stl_15" style="word-spacing:-0.0232em;">append()</span><span class="stl_66 stl_08 stl_15" style="word-spacing:-0.0232em;">方式，有一定的性能损耗。使用占位符 &nbsp;</span></div>
					<div class="stl_01" style="top:48.4017em; left:6.5229em;"><span class="stl_66 stl_08 stl_09">仅是替换动作，可以有效提升性能。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.1508em; left:6.5229em;"><span class="stl_58 stl_08 stl_20" style="word-spacing:0.0008em;">正例：</span><span class="stl_183 stl_73 stl_20" style="word-spacing:0.0009em;">logger</span><span class="stl_184 stl_73 stl_20" style="word-spacing:0.0009em;">.</span><span class="stl_182 stl_73 stl_20" style="word-spacing:0.0009em;">debug</span><span class="stl_184 stl_73 stl_20" style="word-spacing:0.0009em;">(</span><span class="stl_188 stl_73 stl_20" style="word-spacing:0.0009em;">"Processing trade with id: {} and symbol: {}"</span><span class="stl_184 stl_73 stl_20" style="word-spacing:0.0009em;">, </span><span class="stl_183 stl_73 stl_20" style="word-spacing:0.0009em;">id</span><span class="stl_184 stl_73 stl_20" style="word-spacing:0.0009em;">, </span><span class="stl_183 stl_73 stl_20" style="word-spacing:0.0009em;">symbol</span><span class="stl_184 stl_73 stl_20" style="word-spacing:0.0009em;">); &nbsp;</span></div>
					<div class="stl_01" style="top:51.8109em; left:5.6063em;"><span class="stl_27 stl_08 stl_201" style="word-spacing:0.3693em;">. </span><span class="stl_53 stl_08 stl_201" style="word-spacing:0.3693em;">【强制】</span><span class="stl_65 stl_08 stl_201" style="word-spacing:0.3693em;">对于</span><span class="stl_144 stl_73 stl_202" style="word-spacing:-0.065em;"> trace</span><span class="stl_143 stl_71 stl_201" style="word-spacing:-0.0542em;">/</span><span class="stl_144 stl_73 stl_202" style="word-spacing:-0.065em;">debug</span><span class="stl_143 stl_71 stl_201" style="word-spacing:-0.0542em;">/</span><span class="stl_144 stl_73 stl_202" style="word-spacing:-0.065em;">info</span><span class="stl_65 stl_08 stl_201" style="word-spacing:-0.0542em;">级别的日志输出，必须进行日志级别的开关判断。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.6766em; left:6.5229em;"><span class="stl_56 stl_08 stl_203" style="word-spacing:-0.0397em;">说明：</span><span class="stl_66 stl_08 stl_203" style="word-spacing:-0.0397em;">虽然在 </span><span class="stl_70 stl_71 stl_203" style="word-spacing:-0.0397em;">debug(</span><span class="stl_66 stl_08 stl_203" style="word-spacing:-0.0397em;">参数</span><span class="stl_70 stl_71 stl_203" style="word-spacing:-0.0397em;">)</span><span class="stl_66 stl_08 stl_203" style="word-spacing:-0.0397em;">的方法体内第一行代码 </span><span class="stl_70 stl_71 stl_203" style="word-spacing:-0.0397em;">isDisabled(Level.DEBUG_INT)</span><span class="stl_66 stl_08 stl_203" style="word-spacing:-0.0397em;">为真时（</span><span class="stl_72 stl_73 stl_203" style="word-spacing:-0.0397em;">Slf4j</span><span class="stl_66 stl_08 stl_203" style="word-spacing:-0.0397em;">的常见实 &nbsp;</span></div>
					<div class="stl_01" style="top:55.4266em; left:6.5229em;"><span class="stl_66 stl_08 stl_204" style="word-spacing:-0.0435em;">现 </span><span class="stl_72 stl_73 stl_204" style="word-spacing:-0.0435em;">Log4j</span><span class="stl_66 stl_08 stl_204" style="word-spacing:-0.0435em;">和 </span><span class="stl_72 stl_73 stl_204" style="word-spacing:-0.0435em;">Logback</span><span class="stl_66 stl_08 stl_204" style="word-spacing:-0.0435em;">），就直接 </span><span class="stl_70 stl_71 stl_204" style="word-spacing:-0.0435em;">return</span><span class="stl_66 stl_08 stl_204" style="word-spacing:-0.0435em;">，但是参数可能会进行字符串拼接运算。此外，如果 &nbsp;</span></div>
					<div class="stl_01" style="top:57.1975em; left:6.5229em;"><span class="stl_70 stl_71 stl_26" style="word-spacing:-0.0318em;">debug(getName())</span><span class="stl_66 stl_08 stl_26" style="word-spacing:-0.0318em;">这种参数内有 </span><span class="stl_70 stl_71 stl_26" style="word-spacing:-0.0318em;">getName()</span><span class="stl_66 stl_08 stl_26" style="word-spacing:-0.0318em;">方法调用，无谓浪费方法调用的开销。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.9658em; left:6.5229em;"><span class="stl_58 stl_08 stl_60">正例： &nbsp;</span></div>
					<div class="stl_01" style="top:51.8319em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:60.8767em; left:7.7958em;"><span class="stl_205 stl_73 stl_09">/</span></div>
					<div class="stl_01" style="top:60.7616em; left:8.2542em;"><span class="stl_205 stl_73 stl_206" style="word-spacing:-0.0715em;">/ </span><span class="stl_207 stl_08 stl_206" style="word-spacing:-0.0715em;">如果判断为真，那么可以输出 </span><span class="stl_205 stl_73 stl_206" style="word-spacing:-0.0715em;">trace</span><span class="stl_207 stl_08 stl_206" style="word-spacing:-0.0715em;">和 </span><span class="stl_205 stl_73 stl_206" style="word-spacing:-0.0715em;">debug</span><span class="stl_207 stl_08 stl_206" style="word-spacing:-0.0715em;">级别的日志 &nbsp;</span></div>
					<div class="stl_01" style="top:62.5855em; left:7.7958em;"><span class="stl_208 stl_73 stl_13" style="word-spacing:-0.0004em;">if </span><span class="stl_184 stl_73 stl_13" style="word-spacing:-0.0004em;">(</span><span class="stl_183 stl_73 stl_13" style="word-spacing:-0.0004em;">logger</span><span class="stl_184 stl_73 stl_13" style="word-spacing:-0.0004em;">.</span><span class="stl_182 stl_73 stl_13" style="word-spacing:-0.0004em;">isDebugEnabled</span><span class="stl_184 stl_73 stl_13" style="word-spacing:-0.0004em;">()) { &nbsp;</span></div>
					<div class="stl_01" style="top:64.3355em; left:9.6292em;"><span class="stl_183 stl_73 stl_20" style="word-spacing:0.0009em;">logger</span><span class="stl_184 stl_73 stl_20" style="word-spacing:0.0009em;">.</span><span class="stl_182 stl_73 stl_20" style="word-spacing:0.0009em;">debug</span><span class="stl_184 stl_73 stl_20" style="word-spacing:0.0009em;">(</span><span class="stl_188 stl_73 stl_20" style="word-spacing:0.0009em;">"Current ID is: {} and name is: {}"</span><span class="stl_184 stl_73 stl_20" style="word-spacing:0.0009em;">, </span><span class="stl_183 stl_73 stl_20" style="word-spacing:0.0009em;">id</span><span class="stl_184 stl_73 stl_20" style="word-spacing:0.0009em;">, </span><span class="stl_182 stl_73 stl_20" style="word-spacing:0.0009em;">getName</span><span class="stl_184 stl_73 stl_20" style="word-spacing:0.0009em;">()); &nbsp;</span></div>
					<div class="stl_01" style="top:66.1063em; left:7.9208em;"><span class="stl_184 stl_73 stl_09">}</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">6/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_32.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_32.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0229em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.38em;">6. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.38em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.38em;">避免重复打印日志，浪费磁盘空间，务必在</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.043em;"> log</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0376em;">4</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.043em;">j</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0376em;">.</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.043em;">xml</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0313em;"> 中设置</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0534em;"> additivity</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0468em;">=</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0534em;">false</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0468em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5229em;"><span class="stl_58 stl_08 stl_20" style="word-spacing:-0.0131em;">正例：</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0131em;">&lt;logger name="com.taobao.dubbo.config" additivity="false"&gt; &nbsp;</span></div>
					<div class="stl_01" style="top:7.4652em; left:5.0438em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">7. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3794em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">异常信息应该包括两类信息：案发现场信息和异常堆栈信息。如果不处理，那么通 &nbsp;</span></div>
					<div class="stl_01" style="top:9.2361em; left:6.5438em;"><span class="stl_23 stl_08 stl_60" style="word-spacing:-0.0424em;">过关键字 </span><span class="stl_38 stl_08 stl_81" style="word-spacing:-0.0484em;">throws </span><span class="stl_23 stl_08 stl_60" style="word-spacing:-0.0424em;">往上抛出。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.0992em; left:6.5438em;"><span class="stl_58 stl_08 stl_60" style="word-spacing:-0.0231em;">正例：</span><span class="stl_38 stl_08 stl_60" style="word-spacing:-0.0231em;">logger.error(</span><span class="stl_57 stl_08 stl_60" style="word-spacing:-0.0231em;">各类参数或者对象 </span><span class="stl_38 stl_08 stl_60" style="word-spacing:-0.0231em;">toString() + "_" + e.getMessage(), e); &nbsp;</span></div>
					<div class="stl_01" style="top:13.3836em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:13.3836em; left:5.6271em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.38em;">. </span><span class="stl_17 stl_08 stl_09" style="word-spacing:0.38em;">【推荐】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.38em;">谨慎地记录日志。生产环境禁止输出</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0449em;"> debug</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0225em;"> 日志</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0258em;">；</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0225em;">有选择地输出</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0497em;"> info</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0225em;"> 日志</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0257em;">；</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0225em;">如果使 &nbsp;</span></div>
					<div class="stl_01" style="top:15.1544em; left:6.5438em;"><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0359em;">用 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0411em;">warn </span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0359em;">来记录刚上线时的业务行为信息，一定要注意日志输出量的问题，避免把服务器磁盘 &nbsp;</span></div>
					<div class="stl_01" style="top:16.9069em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">撑爆，并记得及时删除这些观察日志。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.7683em; left:6.5438em;"><span class="stl_56 stl_08 stl_13">说明：</span><span class="stl_57 stl_08 stl_13">大量地输出无效日志，不利于系统性能提升，也不利于快速定位错误点。记录日志时请思考：这些 &nbsp;</span></div>
					<div class="stl_01" style="top:20.5383em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">日志真的有人看吗？看到这条日志你能做什么？能不能给问题排查带来好处？ &nbsp;</span></div>
					<div class="stl_01" style="top:22.8236em; left:5.0438em;"><span class="stl_78 stl_08 stl_49" style="word-spacing:0.381em;">9. </span><span class="stl_17 stl_08 stl_49" style="word-spacing:0.381em;">【推荐】</span><span class="stl_65 stl_08 stl_49" style="word-spacing:0.381em;">可以使用</span><span class="stl_78 stl_08 stl_49" style="word-spacing:-0.0425em;"> warn</span><span class="stl_65 stl_08 stl_49" style="word-spacing:-0.035em;"> 日志级别来记录用户输入参数错误的情况，避免用户投诉时，无所 &nbsp;</span></div>
					<div class="stl_01" style="top:24.5961em; left:6.5438em;"><span class="stl_65 stl_08 stl_13" style="word-spacing:-0.0455em;">适从。如非必要，请不要在此场景打出 </span><span class="stl_78 stl_08 stl_13" style="word-spacing:-0.0455em;">error </span><span class="stl_65 stl_08 stl_13" style="word-spacing:-0.0455em;">级别，避免频繁报警。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.4367em; left:6.5438em;"><span class="stl_56 stl_08 stl_12" style="word-spacing:-0.0325em;">说明：</span><span class="stl_66 stl_08 stl_12" style="word-spacing:-0.0325em;">注意日志输出的级别，</span><span class="stl_67 stl_08 stl_12" style="word-spacing:-0.0325em;">error </span><span class="stl_66 stl_08 stl_12" style="word-spacing:-0.0325em;">级别只记录系统逻辑出错、异常或者重要的错误信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7419em; left:5.0438em;"><span class="stl_78 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:28.7419em; left:5.6271em;"><span class="stl_78 stl_08 stl_114">0.</span><span class="stl_17 stl_08 stl_114">【推荐】</span><span class="stl_65 stl_08 stl_114">尽量用英文来描述日志错误信息，如果日志中的错误信息用英文描述不清楚的话使 &nbsp;</span></div>
					<div class="stl_01" style="top:30.5127em; left:6.5438em;"><span class="stl_65 stl_08 stl_20">用中文描述即可，否则容易产生歧义。</span><span class="stl_53 stl_08 stl_20">【强制】</span><span class="stl_65 stl_08 stl_20">国际化团队或海外部署的服务器由于字符集 &nbsp;</span></div>
					<div class="stl_01" style="top:32.2644em; left:6.5438em;"><span class="stl_65 stl_08 stl_09">问题，使用全英文来注释和描述日志错误信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">7/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_33.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_33.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.3727em; left:3.5438em;"><span class="stl_50 stl_08 stl_09">三、单元测试 &nbsp;</span></div>
					<div class="stl_01" style="top:6.7225em; left:5.0438em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:6.5902em; left:5.5646em;"><span class="stl_38 stl_08 stl_24" style="word-spacing:0.582em;">. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.5092em;">【强制】</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.5092em;">好的单元测试必须遵守</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0481em;"> AIR</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.038em;"> 原则。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4517em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">单元测试在线上运行时，感觉像空气（</span><span class="stl_38 stl_08 stl_15">AIR</span><span class="stl_57 stl_08 stl_15">）一样并不存在，但在测试质量的保障上，却是非常关 &nbsp;</span></div>
					<div class="stl_01" style="top:10.2033em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">键的。好的单元测试宏观上来说，具有自动化、独立性、可重复执行的特点。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.7759em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:14.8592em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:16.9217em; left:8.025em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:12.5992em; left:9.5458em;"><span class="stl_104 stl_08 stl_37">A</span><span class="stl_57 stl_08 stl_37">：</span><span class="stl_38 stl_08 stl_37">Automatic</span><span class="stl_57 stl_08 stl_37">（自动化） &nbsp;</span></div>
					<div class="stl_01" style="top:14.6825em; left:9.5458em;"><span class="stl_104 stl_08 stl_110">I</span><span class="stl_57 stl_08 stl_110">：</span><span class="stl_38 stl_08 stl_110">Independent</span><span class="stl_57 stl_08 stl_110">（独立性） &nbsp;</span></div>
					<div class="stl_01" style="top:16.745em; left:9.525em;"><span class="stl_104 stl_08 stl_26">R</span><span class="stl_57 stl_08 stl_26">：</span><span class="stl_38 stl_08 stl_26">Repeatable</span><span class="stl_57 stl_08 stl_26">（可重复） &nbsp;</span></div>
					<div class="stl_01" style="top:19.3027em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:25.2211em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:31.1394em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:19.3027em; left:5.6271em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3793em;">. </span><span class="stl_53 stl_08 stl_13" style="word-spacing:0.3793em;">【强制】</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3793em;">单元测试应该是全自动执行的，并且非交互式的。测试用例通常是被定期执行的， &nbsp;</span></div>
					<div class="stl_01" style="top:21.0736em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">执行过程必须完全自动化才有意义。输出结果需要人工检查的测试不是一个好的单元测试。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.8236em; left:6.5438em;"><span class="stl_23 stl_08 stl_108" style="word-spacing:-0.0279em;">单元测试中不准使用 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0319em;">System.out </span><span class="stl_23 stl_08 stl_108" style="word-spacing:-0.0279em;">来进行人肉验证，必须使用 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0319em;">assert </span><span class="stl_23 stl_08 stl_108" style="word-spacing:-0.0279em;">来验证。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.2211em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">保持单元测试的独立性。为了保证单元测试稳定可靠且便于维护，单元测试用例之 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9711em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">间决不能互相调用，也不能依赖执行的先后次序。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8325em; left:6.5438em;"><span class="stl_54 stl_08 stl_109" style="word-spacing:-0.0212em;">反例：</span><span class="stl_38 stl_08 stl_109" style="word-spacing:-0.0212em;">method2 </span><span class="stl_57 stl_08 stl_109" style="word-spacing:-0.0212em;">需要依赖 </span><span class="stl_38 stl_08 stl_109" style="word-spacing:-0.0212em;">method1 </span><span class="stl_57 stl_08 stl_109" style="word-spacing:-0.0212em;">的执行，将执行结果作为 </span><span class="stl_38 stl_08 stl_109" style="word-spacing:-0.0212em;">method2 </span><span class="stl_57 stl_08 stl_109" style="word-spacing:-0.0212em;">的输入。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.1394em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">单元测试是可以重复执行的，不能受到外界环境的影响。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.98em; left:6.5438em;"><span class="stl_56 stl_08 stl_09" style="word-spacing:-0.0208em;">说明：</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0208em;">单元测试通常会被放到持续集成中，每次有代码 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0208em;">check in </span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0208em;">时单元测试都会被执行。如果单测对外部 &nbsp;</span></div>
					<div class="stl_01" style="top:34.7508em; left:6.5438em;"><span class="stl_57 stl_08 stl_24">环境（网络、服务、中间件等）有依赖，容易导致持续集成机制的不可用。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.5008em; left:6.5438em;"><span class="stl_58 stl_08 stl_49" style="word-spacing:-0.0253em;">正例：</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0253em;">为了不受外界环境影响，要求设计代码时就把 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0253em;">SUT</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0323em;"> 的依赖改成注入，在测试时用</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0282em;"> spring</span><span class="stl_57 stl_08 stl_49" style="word-spacing:0.2124em;"> 这样的</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.033em;"> DI &nbsp;</span></div>
					<div class="stl_01" style="top:38.2742em; left:6.5438em;"><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0279em;">框架注入一个本地（内存）实现或者 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0279em;">Mock </span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0279em;">实现。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.5794em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">5. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">对于单元测试，要保证测试粒度足够小，有助于精确定位问题。单测粒度至多是类 &nbsp;</span></div>
					<div class="stl_01" style="top:42.3294em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">级别，一般是方法级别。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1908em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">只有测试粒度小才能在出错时尽快定位到出错位置。单测不负责检查跨类或者跨系统的交互逻辑， &nbsp;</span></div>
					<div class="stl_01" style="top:45.9425em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">那是集成测试的领域。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.2486em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">6</span></div>
					<div class="stl_01" style="top:52.3961em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">7</span></div>
					<div class="stl_01" style="top:56.5419em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:48.2486em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">核心业务、核心应用、核心模块的增量代码确保单元测试通过。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.11em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">新增代码及时补充单元测试，如果新增代码影响了原有单元测试，请及时修正。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.3961em; left:5.6063em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">单元测试代码必须写在如下工程目录：</span><span class="stl_38 stl_08 stl_12" style="word-spacing:0.4344em;">src/test/java</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">，不允许写在业务代码目录下。 &nbsp;</span></div>
					<div class="stl_01" style="top:54.2575em; left:6.5438em;"><span class="stl_56 stl_08 stl_13">说明：</span><span class="stl_57 stl_08 stl_13">源码编译时会跳过此目录，而单元测试框架默认是扫描此目录。 &nbsp;</span></div>
					<div class="stl_01" style="top:56.5419em; left:5.6271em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">. </span><span class="stl_17 stl_08 stl_20" style="word-spacing:0.3795em;">【推荐】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">单元测试的基本目标：语句覆盖率达到</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0435em;"> 70%</span><span class="stl_23 stl_08 stl_20" style="word-spacing:-0.0381em;">；核心模块的语句覆盖率和分支覆盖率 &nbsp;</span></div>
					<div class="stl_01" style="top:58.3127em; left:6.5438em;"><span class="stl_23 stl_08 stl_210" style="word-spacing:-0.0515em;">都要达到 </span><span class="stl_38 stl_08 stl_211" style="word-spacing:-0.0589em;">100% &nbsp;</span></div>
					<div class="stl_01" style="top:60.1758em; left:6.5438em;"><span class="stl_56 stl_08 stl_30" style="word-spacing:-0.032em;">说明：</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.032em;">在工程规约的应用分层中提到的 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.032em;">DAO </span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.032em;">层，</span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.032em;">Manager </span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.032em;">层，可重用度高的 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.032em;">Service</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.032em;">，都应该进行单元 &nbsp;</span></div>
					<div class="stl_01" style="top:61.9262em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">测试。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">8/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_34.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_34.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0438em;"><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3805em;">9. </span><span class="stl_17 stl_08 stl_26" style="word-spacing:0.3805em;">【推荐】</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.3805em;">编写单元测试代码遵守</span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0471em;"> BCDE</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0308em;"> 原则，以保证被测试模块的交付质量。 &nbsp;</span></div>
					<div class="stl_01" style="top:5.7326em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:7.7951em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:9.8801em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:11.9426em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:5.5558em; left:9.5458em;"><span class="stl_104 stl_08 stl_09">B</span><span class="stl_57 stl_08 stl_09">：</span><span class="stl_38 stl_08 stl_09">Border</span><span class="stl_57 stl_08 stl_09">，边界值测试，包括循环边界、特殊取值、特殊时间点、数据顺序等。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.6183em; left:9.5458em;"><span class="stl_104 stl_08 stl_39">C</span><span class="stl_57 stl_08 stl_39">：</span><span class="stl_38 stl_08 stl_39">Correct</span><span class="stl_57 stl_08 stl_39">，正确的输入，并得到预期的结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.7033em; left:9.5458em;"><span class="stl_104 stl_08 stl_12">D</span><span class="stl_57 stl_08 stl_12">：</span><span class="stl_38 stl_08 stl_12">Design</span><span class="stl_57 stl_08 stl_12">，与设计文档相结合，来编写单元测试。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7658em; left:9.5458em;"><span class="stl_104 stl_08 stl_20">E</span><span class="stl_57 stl_08 stl_20">：</span><span class="stl_38 stl_08 stl_20">Error</span><span class="stl_57 stl_08 stl_20">，强制错误信息输入（如：非法数据、异常流程、业务允许外等），并得到预期的结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.4461em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:13.4461em; left:5.6063em;"><span class="stl_27 stl_08 stl_114">0.</span><span class="stl_17 stl_08 stl_114">【推荐】</span><span class="stl_23 stl_08 stl_114">对于数据库相关的查询，更新，删除等操作，不能假设数据库里的数据是存在的， &nbsp;</span></div>
					<div class="stl_01" style="top:15.2169em; left:6.5229em;"><span class="stl_23 stl_08 stl_09">或者直接操作数据库把数据插入进去，请使用程序插入或者导入数据的方式来准备数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.06em; left:6.5438em;"><span class="stl_54 stl_08 stl_13">反例：</span><span class="stl_57 stl_08 stl_13">删除某一行数据的单元测试，在数据库中，先直接手动增加一行作为删除目标，但是这一行新增数 &nbsp;</span></div>
					<div class="stl_01" style="top:18.8308em; left:6.5438em;"><span class="stl_57 stl_08 stl_37">据并不符合业务插入规则，导致测试结果异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.1152em; left:5.0438em;"><span class="stl_27 stl_08 stl_63">11.</span><span class="stl_17 stl_08 stl_63">【推荐】</span><span class="stl_23 stl_08 stl_63">和数据库相关的单元测试，可以设定自动回滚机制，不给数据库造成脏数据。或者 &nbsp;</span></div>
					<div class="stl_01" style="top:22.8852em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">对单元测试产生的数据有明确的前后缀标识。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.7492em; left:6.5438em;"><span class="stl_58 stl_08 stl_30" style="word-spacing:-0.0166em;">正例：</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0166em;">在企业智能事业部的内部单元测试中，使用 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0166em;">ENTERPRISE_INTELLIGENCE _UNIT_TEST_</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0166em;">的前缀来 &nbsp;</span></div>
					<div class="stl_01" style="top:26.4992em; left:6.5438em;"><span class="stl_57 stl_08 stl_37">标识单元测试相关代码。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.8044em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:32.9519em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:37.0977em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:41.2461em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:28.8044em; left:5.6271em;"><span class="stl_27 stl_08 stl_116">2.</span><span class="stl_17 stl_08 stl_116">【推荐】</span><span class="stl_23 stl_08 stl_116">对于不可测的代码在适当的时机做必要的重构，使代码变得可测，避免为了达到测 &nbsp;</span></div>
					<div class="stl_01" style="top:30.5544em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">试要求而书写不规范测试代码。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.9519em; left:5.6271em;"><span class="stl_27 stl_08 stl_116">3.</span><span class="stl_17 stl_08 stl_116">【推荐】</span><span class="stl_23 stl_08 stl_116">在设计评审阶段，开发人员需要和测试人员一起确定单元测试范围，单元测试最好 &nbsp;</span></div>
					<div class="stl_01" style="top:34.7227em; left:6.5438em;"><span class="stl_23 stl_08 stl_39">覆盖所有测试用例。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0977em; left:5.6271em;"><span class="stl_27 stl_08 stl_47">4.</span><span class="stl_17 stl_08 stl_47">【推荐】</span><span class="stl_23 stl_08 stl_47">单元测试作为一种质量保障手段，在项目提测前完成单元测试，不建议项目发布后 &nbsp;</span></div>
					<div class="stl_01" style="top:38.8711em; left:6.5438em;"><span class="stl_23 stl_08 stl_39">补充单元测试用例。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.2461em; left:5.6063em;"><span class="stl_27 stl_08 stl_200">5.</span><span class="stl_100 stl_08 stl_200">【参考】</span><span class="stl_23 stl_08 stl_200">为了更方便地进行单元测试，业务代码应避免以下情况： &nbsp;</span></div>
					<div class="stl_01" style="top:43.5967em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:45.6817em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:47.7442em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:49.8276em; left:8.025em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:43.42em; left:9.5458em;"><span class="stl_57 stl_08 stl_09">构造方法中做的事情过多。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.505em; left:9.5458em;"><span class="stl_57 stl_08 stl_24">存在过多的全局变量和静态方法。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.5675em; left:9.5458em;"><span class="stl_57 stl_08 stl_09">存在过多的外部依赖。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.6508em; left:9.525em;"><span class="stl_57 stl_08 stl_09">存在过多的条件语句。 &nbsp;</span></div>
					<div class="stl_01" style="top:51.4017em; left:9.525em;"><span class="stl_56 stl_08 stl_09">说明：</span><span class="stl_57 stl_08 stl_09">多层条件语句建议使用卫语句、策略模式、状态模式等方式重构。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.9586em; left:5.0229em;"><span class="stl_27 stl_08 stl_211">16.</span><span class="stl_100 stl_08 stl_211">【参考】</span><span class="stl_23 stl_08 stl_211">不要对单元测试存在如下误解： &nbsp;</span></div>
					<div class="stl_01" style="top:56.3092em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:58.3717em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:60.4567em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:62.5405em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:56.1325em; left:9.5458em;"><span class="stl_57 stl_08 stl_24">那是测试同学干的事情。本文是开发手册，凡是本文内容都是与开发同学强相关的。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.195em; left:9.5458em;"><span class="stl_57 stl_08 stl_24">单元测试代码是多余的。系统的整体功能与各单元部件的测试正常与否是强相关的。 &nbsp;</span></div>
					<div class="stl_01" style="top:60.28em; left:9.5458em;"><span class="stl_57 stl_08 stl_09">单元测试代码不需要维护。一年半载后，那么单元测试几乎处于废弃状态。 &nbsp;</span></div>
					<div class="stl_01" style="top:62.3637em; left:9.5458em;"><span class="stl_57 stl_08 stl_09">单元测试与线上故障没有辩证关系。好的单元测试能够最大限度地规避线上故障。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">2</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">9/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_35.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_35.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.3727em; left:3.5438em;"><span class="stl_50 stl_08 stl_09">四、安全规约 &nbsp;</span></div>
					<div class="stl_01" style="top:6.5902em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:6.5902em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">隶属于用户个人的页面或者功能必须进行权限控制校验。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4517em; left:6.5438em;"><span class="stl_56 stl_08 stl_13">说明：</span><span class="stl_57 stl_08 stl_13">防止没有做水平权限校验就可随意访问、修改、删除别人的数据，比如查看他人的私信内容、修改 &nbsp;</span></div>
					<div class="stl_01" style="top:10.2033em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">他人的订单。 &nbsp;</span></div>
					<div class="stl_01" style="top:12.5086em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:16.6569em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:20.8027em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:12.5086em; left:5.6271em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3792em;">. </span><span class="stl_53 stl_08 stl_13" style="word-spacing:0.3792em;">【强制】</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3792em;">用户敏感数据禁止直接展示，必须对展示数据进行脱敏。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.37em; left:6.5438em;"><span class="stl_56 stl_08 stl_20" style="word-spacing:-0.0291em;">说明：</span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0291em;">中国大陆个人手机号码显示为</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0291em;">:137****0969</span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0291em;">，隐藏中间 </span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0291em;">4 </span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0291em;">位，防止隐私泄露。 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6569em; left:5.6271em;"><span class="stl_27 stl_08 stl_94" style="word-spacing:0.3815em;">. </span><span class="stl_53 stl_08 stl_94" style="word-spacing:0.3815em;">【强制】</span><span class="stl_23 stl_08 stl_94" style="word-spacing:0.3815em;">用户输入的</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.048em;"> SQL</span><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.0173em;"> 参数严格使用参数绑定或者</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0461em;"> METADATA</span><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.0153em;"> 字段值限定，防止</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.047em;"> SQL</span><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.0411em;"> 注 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4277em; left:6.5438em;"><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.0287em;">入，禁止字符串拼接 </span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0328em;">SQL </span><span class="stl_23 stl_08 stl_94" style="word-spacing:-0.0287em;">访问数据库。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.8027em; left:5.6063em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">用户请求传入的任何参数必须做有效性验证。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6642em; left:6.5229em;"><span class="stl_56 stl_08 stl_24">说明：</span><span class="stl_57 stl_08 stl_24">忽略参数校验可能导致： &nbsp;</span></div>
					<div class="stl_01" style="top:24.6134em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:26.3634em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:28.1342em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:29.8842em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:31.6567em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:33.4276em; left:8.025em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:24.4367em; left:9.5458em;"><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.013em;">page size </span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.013em;">过大导致内存溢出 &nbsp;</span></div>
					<div class="stl_01" style="top:26.1867em; left:9.5458em;"><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.0285em;">恶意 </span><span class="stl_38 stl_08 stl_111" style="word-spacing:-0.0285em;">order by </span><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.0285em;">导致数据库慢查询 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9575em; left:9.5458em;"><span class="stl_57 stl_08 stl_09">任意重定向 &nbsp;</span></div>
					<div class="stl_01" style="top:29.7075em; left:9.5458em;"><span class="stl_38 stl_08 stl_212" style="word-spacing:-0.0158em;">SQL </span><span class="stl_57 stl_08 stl_212" style="word-spacing:-0.0158em;">注入 &nbsp;</span></div>
					<div class="stl_01" style="top:31.48em; left:9.5458em;"><span class="stl_57 stl_08 stl_09">反序列化注入 &nbsp;</span></div>
					<div class="stl_01" style="top:33.2508em; left:9.525em;"><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0291em;">正则输入源串拒绝服务 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0291em;">ReDoS &nbsp;</span></div>
					<div class="stl_01" style="top:35.3133em; left:8.025em;"><span class="stl_56 stl_08 stl_15" style="word-spacing:-0.0372em;">说明：</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0372em;">Java </span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0372em;">代码用正则来验证客户端的输入，有些正则写法验证普通用户输入没有问题，但是如果攻 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0842em; left:8.025em;"><span class="stl_57 stl_08 stl_13">击人员使用的是特殊构造的字符串来验证，有可能导致死循环的结果。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.3711em; left:5.0438em;"><span class="stl_27 stl_08 stl_64" style="word-spacing:0.3808em;">5. </span><span class="stl_53 stl_08 stl_64" style="word-spacing:0.3808em;">【强制】</span><span class="stl_23 stl_08 stl_64" style="word-spacing:0.3808em;">禁止向</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0488em;"> HTML</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0219em;"> 页面输出未经安全过滤或未正确转义的用户数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.7669em; left:5.0438em;"><span class="stl_27 stl_08 stl_64" style="word-spacing:0.3808em;">6. </span><span class="stl_53 stl_08 stl_64" style="word-spacing:0.3808em;">【强制】</span><span class="stl_23 stl_08 stl_64" style="word-spacing:0.3808em;">表单、</span><span class="stl_38 stl_08 stl_49" style="word-spacing:0.4353em;">AJAX</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0286em;"> 提交必须执行</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0496em;"> CSRF</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.033em;"> 安全验证。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.6283em; left:6.5438em;"><span class="stl_56 stl_08 stl_09" style="word-spacing:-0.0166em;">说明：</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0166em;">CSRF(Cross-site request forgery)</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0166em;">跨站请求伪造是一类常见编程漏洞。对于存在 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0166em;">CSRF </span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0166em;">漏洞的应用 &nbsp;</span></div>
					<div class="stl_01" style="top:45.38em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">/</span></div>
					<div class="stl_01" style="top:45.38em; left:6.9188em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0269em;">网站，攻击者可以事先构造好 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0269em;">URL</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0269em;">，只要受害者用户一访问，后台便在用户不知情的情况下对数据库中 &nbsp;</span></div>
					<div class="stl_01" style="top:47.1508em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">用户参数进行相应修改。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.4352em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">7</span></div>
					<div class="stl_01" style="top:49.4352em; left:5.6271em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3792em;">. </span><span class="stl_53 stl_08 stl_13" style="word-spacing:0.3792em;">【强制】</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3792em;">在使用平台资源，譬如短信、邮件、电话、下单、支付，必须实现正确的防重放的 &nbsp;</span></div>
					<div class="stl_01" style="top:51.2061em; left:6.5438em;"><span class="stl_23 stl_08 stl_13">机制，如数量限制、疲劳度控制、验证码校验，避免被滥刷而导致资损。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.07em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">如注册时发送验证码到手机，如果没有限制次数和频率，那么可以利用此功能骚扰到其它用户，并 &nbsp;</span></div>
					<div class="stl_01" style="top:54.82em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">造成短信平台资源浪费。 &nbsp;</span></div>
					<div class="stl_01" style="top:57.1252em; left:5.0438em;"><span class="stl_11 stl_08 stl_09" style="word-spacing:0.3801em;">8. </span><span class="stl_17 stl_08 stl_09" style="word-spacing:0.3801em;">【推荐】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">发贴、评论、发送即时消息等用户生成内容的场景必须实现防刷、文本内容违禁词 &nbsp;</span></div>
					<div class="stl_01" style="top:58.8752em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">过滤等风控策略。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">0/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_36.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_36.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.3727em; left:3.5438em;"><span class="stl_50 stl_08 stl_37" style="word-spacing:-0.0421em;">五、</span><span class="stl_213 stl_08 stl_37" style="word-spacing:-0.0421em;">MySQL </span><span class="stl_50 stl_08 stl_37" style="word-spacing:-0.0421em;">数据库 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1237em; left:3.5438em;"><span class="stl_51 stl_08 stl_15" style="word-spacing:0.3698em;">(</span><span class="stl_52 stl_08 stl_15" style="word-spacing:0.3698em;">一</span><span class="stl_51 stl_08 stl_15" style="word-spacing:0.3698em;">) </span><span class="stl_52 stl_08 stl_15" style="word-spacing:0.3698em;">建表规约 &nbsp;</span></div>
					<div class="stl_01" style="top:10.1127em; left:5.0229em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3792em;">1. </span><span class="stl_53 stl_08 stl_13" style="word-spacing:0.3792em;">【强制】</span><span class="stl_65 stl_08 stl_13" style="word-spacing:0.3792em;">表达是与否概念的字段，必须使用</span><span class="stl_27 stl_08 stl_13" style="word-spacing:-0.04em;"> is_xxx</span><span class="stl_65 stl_08 stl_13" style="word-spacing:-0.0494em;"> 的方式命名，数据类型是</span><span class="stl_27 stl_08 stl_13" style="word-spacing:-0.0425em;"> unsigned &nbsp;</span></div>
					<div class="stl_01" style="top:11.8836em; left:6.5229em;"><span class="stl_27 stl_08 stl_178" style="word-spacing:-0.0525em;">tinyint</span><span class="stl_65 stl_08 stl_178" style="word-spacing:-0.0525em;">（</span><span class="stl_78 stl_08 stl_178" style="word-spacing:-0.0525em;">1 </span><span class="stl_65 stl_08 stl_178" style="word-spacing:-0.0525em;">表示是，</span><span class="stl_78 stl_08 stl_178" style="word-spacing:-0.0525em;">0 </span><span class="stl_65 stl_08 stl_178" style="word-spacing:-0.0525em;">表示否）。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.745em; left:6.5229em;"><span class="stl_56 stl_08 stl_13" style="word-spacing:-0.03em;">说明：</span><span class="stl_66 stl_08 stl_13" style="word-spacing:-0.03em;">任何字段如果为非负数，必须是 </span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.03em;">unsigned</span><span class="stl_66 stl_08 stl_13" style="word-spacing:-0.03em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.495em; left:6.5229em;"><span class="stl_56 stl_08 stl_49" style="word-spacing:-0.0396em;">注意：</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0396em;">POJO </span><span class="stl_66 stl_08 stl_49" style="word-spacing:-0.0396em;">类中的任何布尔类型的变量，都不要加 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0396em;">is </span><span class="stl_66 stl_08 stl_49" style="word-spacing:-0.0396em;">前缀，所以，需要在</span><span class="stl_67 stl_08 stl_49" style="word-spacing:-0.0396em;">&lt;</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0396em;">resultMap</span><span class="stl_67 stl_08 stl_49" style="word-spacing:-0.0396em;">&gt;</span><span class="stl_66 stl_08 stl_49" style="word-spacing:-0.0396em;">设置从 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0396em;">is_xxx &nbsp;</span></div>
					<div class="stl_01" style="top:17.2683em; left:6.5229em;"><span class="stl_66 stl_08 stl_61" style="word-spacing:-0.0292em;">到 </span><span class="stl_38 stl_08 stl_61" style="word-spacing:-0.0292em;">Xxx </span><span class="stl_66 stl_08 stl_61" style="word-spacing:-0.0292em;">的映射关系。数据库表示是与否的值，使用 </span><span class="stl_38 stl_08 stl_61" style="word-spacing:-0.0292em;">tinyint </span><span class="stl_66 stl_08 stl_61" style="word-spacing:-0.0292em;">类型，坚持 </span><span class="stl_38 stl_08 stl_61" style="word-spacing:-0.0292em;">is_xxx </span><span class="stl_66 stl_08 stl_61" style="word-spacing:-0.0292em;">的命名方式是为了明确其取 &nbsp;</span></div>
					<div class="stl_01" style="top:19.0183em; left:6.5229em;"><span class="stl_66 stl_08 stl_09">值含义与取值范围。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.7892em; left:6.5229em;"><span class="stl_58 stl_08 stl_108" style="word-spacing:-0.0248em;">正例：</span><span class="stl_66 stl_08 stl_108" style="word-spacing:-0.0248em;">表达逻辑删除的字段名 </span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0248em;">is_deleted</span><span class="stl_66 stl_08 stl_108" style="word-spacing:-0.0248em;">，</span><span class="stl_67 stl_08 stl_108" style="word-spacing:-0.0248em;">1 </span><span class="stl_66 stl_08 stl_108" style="word-spacing:-0.0248em;">表示删除，</span><span class="stl_67 stl_08 stl_108" style="word-spacing:-0.0248em;">0 </span><span class="stl_66 stl_08 stl_108" style="word-spacing:-0.0248em;">表示未删除。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.3436em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:23.3436em; left:5.6063em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">表名、字段名必须使用小写字母或数字</span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.4337em;">，</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">禁止出现数字开头，禁止两个下划线中间 &nbsp;</span></div>
					<div class="stl_01" style="top:25.0961em; left:6.5229em;"><span class="stl_23 stl_08 stl_09">只出现数字。数据库字段名的修改代价很大，因为无法进行预发布，所以字段名称需要慎重 &nbsp;</span></div>
					<div class="stl_01" style="top:26.8669em; left:6.5229em;"><span class="stl_23 stl_08 stl_09">考虑。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7283em; left:6.5438em;"><span class="stl_56 stl_08 stl_68" style="word-spacing:-0.0306em;">说明：</span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0306em;">MySQL </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0306em;">在 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0306em;">Windows </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0306em;">下不区分大小写，但在 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0306em;">Linux </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0306em;">下默认是区分大小写。因此，数据库名、表 &nbsp;</span></div>
					<div class="stl_01" style="top:30.4783em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">名、字段名，都不允许出现任何大写字母，避免节外生枝。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.2508em; left:6.5438em;"><span class="stl_58 stl_08 stl_15">正例：</span><span class="stl_38 stl_08 stl_15">aliyun_admin</span><span class="stl_57 stl_08 stl_15">，</span><span class="stl_38 stl_08 stl_15">rdc_config</span><span class="stl_57 stl_08 stl_15">，</span><span class="stl_38 stl_08 stl_15">level3_name &nbsp;</span></div>
					<div class="stl_01" style="top:34.0008em; left:6.5438em;"><span class="stl_54 stl_08 stl_24">反例：</span><span class="stl_38 stl_08 stl_24">AliyunAdmin</span><span class="stl_57 stl_08 stl_24">，</span><span class="stl_38 stl_08 stl_24">rdcConfig</span><span class="stl_57 stl_08 stl_24">，</span><span class="stl_38 stl_08 stl_24">level_3_name &nbsp;</span></div>
					<div class="stl_01" style="top:35.6811em; left:5.0438em;"><span class="stl_27 stl_08 stl_12" style="word-spacing:0.3802em;">3. </span><span class="stl_53 stl_08 stl_12" style="word-spacing:0.3802em;">【强制】</span><span class="stl_23 stl_08 stl_12" style="word-spacing:0.3802em;">表名不使用复数名词。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.5425em; left:6.5438em;"><span class="stl_56 stl_08 stl_15" style="word-spacing:-0.0311em;">说明：</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0311em;">表名应该仅仅表示表里面的实体内容，不应该表示实体数量，对应于 </span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0311em;">DO </span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0311em;">类名也是单数形式，符合 &nbsp;</span></div>
					<div class="stl_01" style="top:39.295em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">表达习惯。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.6002em; left:5.0438em;"><span class="stl_27 stl_08 stl_12" style="word-spacing:0.3803em;">4. </span><span class="stl_53 stl_08 stl_12" style="word-spacing:0.3803em;">【强制】</span><span class="stl_23 stl_08 stl_12" style="word-spacing:0.3803em;">禁用保留字，如</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0475em;"> desc</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0415em;">、</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0475em;">range</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0415em;">、</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0475em;">match</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0415em;">、</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0475em;">delayed</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0249em;"> 等，请参考</span><span class="stl_27 stl_08 stl_12" style="word-spacing:-0.0457em;"> MySQL</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0367em;"> 官方保留字。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.9752em; left:5.0438em;"><span class="stl_27 stl_08 stl_90" style="word-spacing:0.3784em;">5. </span><span class="stl_53 stl_08 stl_90" style="word-spacing:0.3784em;">【强制】</span><span class="stl_23 stl_08 stl_90" style="word-spacing:0.3784em;">主键索引名为</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0544em;"> pk_</span><span class="stl_23 stl_08 stl_90" style="word-spacing:-0.0476em;">字段名；唯一索引名为</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0496em;"> uk</span><span class="stl_27 stl_08 stl_90" style="word-spacing:-0.0434em;">_</span><span class="stl_23 stl_08 stl_90" style="word-spacing:-0.0434em;">字段名</span><span class="stl_57 stl_08 stl_59" style="word-spacing:-0.0496em;">；</span><span class="stl_23 stl_08 stl_90" style="word-spacing:-0.0434em;">普通索引名则为</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0515em;"> idx</span><span class="stl_27 stl_08 stl_90" style="word-spacing:-0.0451em;">_</span><span class="stl_23 stl_08 stl_90" style="word-spacing:-0.0451em;">字段名。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8383em; left:6.5438em;"><span class="stl_56 stl_08 stl_13" style="word-spacing:0.2072em;">说明：</span><span class="stl_38 stl_08 stl_13" style="word-spacing:0.2072em;">pk_ </span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2072em;">即</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0348em;"> primary</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.017em;"> key</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.017em;">；</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.017em;">uk_</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.017em;"> 即 </span><span class="stl_38 stl_08 stl_13" style="word-spacing:0.2062em;">unique</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0081em;"> key</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0081em;">；</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0081em;">idx_</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2091em;"> 即</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0348em;"> index</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0394em;"> 的简称。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.1436em; left:5.0438em;"><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3796em;">6. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3796em;">【强制】</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.3796em;">小数类型为</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0502em;"> decimal</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0439em;">，禁止使用</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0502em;"> float</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0216em;"> 和</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0749em;"> double</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0656em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.9842em; left:6.5438em;"><span class="stl_56 stl_08 stl_09" style="word-spacing:0.2102em;">说明：</span><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2102em;">在存储的时候，</span><span class="stl_38 stl_08 stl_09" style="word-spacing:0.2102em;">float </span><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2102em;">和 </span><span class="stl_38 stl_08 stl_09" style="word-spacing:0.2102em;">double </span><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2102em;">都存在精度损失的问题，很可能在比较值的时候，得到不正确的 &nbsp;</span></div>
					<div class="stl_01" style="top:51.7558em; left:6.5438em;"><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2067em;">结果。如果存储的数据范围超过 </span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.2067em;">decimal </span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2067em;">的范围，建议将数据拆成整数和小数并分开存储。 &nbsp;</span></div>
					<div class="stl_01" style="top:54.0419em; left:5.0438em;"><span class="stl_27 stl_08 stl_12" style="word-spacing:0.3803em;">7. </span><span class="stl_53 stl_08 stl_12" style="word-spacing:0.3803em;">【强制】</span><span class="stl_23 stl_08 stl_12" style="word-spacing:0.3803em;">如果存储的字符串长度几乎相等，使用</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0427em;"> char</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0306em;"> 定长字符串类型。 &nbsp;</span></div>
					<div class="stl_01" style="top:56.4377em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:56.4377em; left:5.6271em;"><span class="stl_27 stl_08 stl_49" style="word-spacing:0.381em;">. </span><span class="stl_53 stl_08 stl_49" style="word-spacing:0.381em;">【强制】</span><span class="stl_38 stl_08 stl_49" style="word-spacing:0.4354em;">varchar</span><span class="stl_23 stl_08 stl_49" style="word-spacing:-0.0271em;"> 是可变长字符串，不预先分配存储空间，长度不要超过</span><span class="stl_27 stl_08 stl_49" style="word-spacing:-0.035em;"> 5000</span><span class="stl_23 stl_08 stl_49" style="word-spacing:-0.035em;">，如果存储长 &nbsp;</span></div>
					<div class="stl_01" style="top:58.2086em; left:6.5438em;"><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0392em;">度大于此值，定义字段类型为 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0448em;">text</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0392em;">，独立出来一张表，用主键来对应，避免影响其它字段索 &nbsp;</span></div>
					<div class="stl_01" style="top:59.9602em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">引效率。 &nbsp;</span></div>
					<div class="stl_01" style="top:62.3565em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">9</span></div>
					<div class="stl_01" style="top:62.3565em; left:5.6271em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">表必备三字段：</span><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">id,</span><span class="stl_27 stl_08 stl_20" style="word-spacing:0.0039em;"> create_time,</span><span class="stl_27 stl_08 stl_20" style="word-spacing:0.0045em;"> update_time</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.0045em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:64.1971em; left:6.5438em;"><span class="stl_56 stl_08 stl_12" style="word-spacing:-0.0264em;">说明：</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0264em;">其中 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0264em;">id </span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0264em;">必为主键，类型为 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0264em;">bigint unsigned</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0264em;">、单表时自增、步长为 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0264em;">1</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0264em;">。</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0264em;">create_time, update_time &nbsp;</span></div>
					<div class="stl_01" style="top:65.9679em; left:6.5438em;"><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0282em;">的类型均为 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0282em;">datetime </span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0282em;">类型。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">1/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_37.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_37.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0438em;"><span class="stl_27 stl_08 stl_155">10.</span><span class="stl_17 stl_08 stl_155">【推荐】</span><span class="stl_23 stl_08 stl_155">表的命名最好是遵循“业务名称</span><span class="stl_27 stl_08 stl_155">_</span><span class="stl_23 stl_08 stl_155">表的作用”。 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5438em;"><span class="stl_58 stl_08 stl_15" style="word-spacing:-0.0017em;">正例：</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0017em;">alipay_task / force_project / trade_config &nbsp;</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:9.6127em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:11.9877em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.6271em;"><span class="stl_27 stl_08 stl_201">1.</span><span class="stl_17 stl_08 stl_201">【推荐】</span><span class="stl_23 stl_08 stl_201">库名与应用名称尽量一致。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.6127em; left:5.6271em;"><span class="stl_27 stl_08 stl_47">2.</span><span class="stl_17 stl_08 stl_47">【推荐】</span><span class="stl_23 stl_08 stl_47">如果修改字段含义或对字段表示的状态追加时，需要及时更新字段注释。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.9877em; left:5.6063em;"><span class="stl_27 stl_08 stl_93">3.</span><span class="stl_17 stl_08 stl_93">【推荐】</span><span class="stl_23 stl_08 stl_93">字段允许适当冗余，以提高查询性能，但必须考虑数据一致。冗余字段应遵循： &nbsp;</span></div>
					<div class="stl_01" style="top:13.8492em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:15.62em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:13.8492em; left:7.4813em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.2065em;">） 不是频繁修改的字段。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.62em; left:7.4813em;"><span class="stl_57 stl_08 stl_64" style="word-spacing:0.2072em;">） 不是</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0333em;"> varchar</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0313em;"> 超长字段，更不能是</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0552em;"> text</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0196em;"> 字段。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.3725em; left:6.7938em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:17.3725em; left:7.3146em;"><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2058em;">） 不是唯一索引的字段。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.1433em; left:7.0438em;"><span class="stl_58 stl_08 stl_15">正例：</span><span class="stl_57 stl_08 stl_15">商品类目名称使用频率高，字段长度短，名称基本一不变，可在相关联的表中冗余存储类目名 &nbsp;</span></div>
					<div class="stl_01" style="top:20.8933em; left:7.0438em;"><span class="stl_57 stl_08 stl_102">称，避免关联查询。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.1986em; left:5.0438em;"><span class="stl_27 stl_08 stl_150" style="word-spacing:-0.0488em;">14.</span><span class="stl_17 stl_08 stl_150" style="word-spacing:-0.0488em;">【推荐】</span><span class="stl_23 stl_08 stl_150" style="word-spacing:-0.0488em;">单表行数超过 </span><span class="stl_27 stl_08 stl_150" style="word-spacing:-0.0488em;">500 </span><span class="stl_23 stl_08 stl_150" style="word-spacing:-0.0488em;">万行或者单表容量超过 </span><span class="stl_27 stl_08 stl_150" style="word-spacing:-0.0488em;">2GB</span><span class="stl_23 stl_08 stl_150" style="word-spacing:-0.0488em;">，才推荐进行分库分表。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.0617em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_57 stl_08 stl_15">如果预计三年后的数据量根本达不到这个级别，请不要在创建表时就分库分表。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3461em; left:5.0438em;"><span class="stl_27 stl_08 stl_63">15.</span><span class="stl_100 stl_08 stl_63">【参考】</span><span class="stl_23 stl_08 stl_63">合适的字符存储长度，不但节约数据库表空间、节约索引存储，更重要的是提升检 &nbsp;</span></div>
					<div class="stl_01" style="top:29.1169em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">索速度。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9592em; left:6.5438em;"><span class="stl_58 stl_08 stl_13">正例：</span><span class="stl_57 stl_08 stl_13">如下表，其中无符号值可以避免误存负数，且扩大了表示范围。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7925em; left:10.6292em;"><span class="stl_57 stl_08 stl_09">对象 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7925em; left:15.6942em;"><span class="stl_57 stl_08 stl_09">年龄区间 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4456em; left:14.9442em;"><span class="stl_46 stl_08 stl_107" style="word-spacing:-0.0459em;">150 </span><span class="stl_45 stl_08 stl_107" style="word-spacing:-0.0459em;">岁之内 &nbsp;</span></div>
					<div class="stl_01" style="top:39.0106em; left:14.9442em;"><span class="stl_45 stl_08 stl_09">数百岁 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7925em; left:23.9275em;"><span class="stl_57 stl_08 stl_09">类型 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7925em; left:30.4292em;"><span class="stl_57 stl_08 stl_09">字节 &nbsp;</span></div>
					<div class="stl_01" style="top:33.7925em; left:38.225em;"><span class="stl_57 stl_08 stl_09">表示范围 &nbsp;</span></div>
					<div class="stl_01" style="top:36.4456em; left:9.6083em;"><span class="stl_45 stl_08 stl_09">人</span></div>
					<div class="stl_01" style="top:39.0106em; left:9.6083em;"><span class="stl_45 stl_08 stl_09">龟</span></div>
					<div class="stl_01" style="top:36.4456em; left:21.425em;"><span class="stl_46 stl_08 stl_103" style="word-spacing:0.1931em;">tinyint unsigned &nbsp;</span></div>
					<div class="stl_01" style="top:39.0106em; left:21.425em;"><span class="stl_46 stl_08 stl_102" style="word-spacing:0.1902em;">smallint unsigned &nbsp;</span></div>
					<div class="stl_01" style="top:41.5939em; left:21.425em;"><span class="stl_46 stl_08 stl_30" style="word-spacing:0.1922em;">int unsigned &nbsp;</span></div>
					<div class="stl_01" style="top:36.4456em; left:31.0958em;"><span class="stl_46 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:39.0106em; left:31.0958em;"><span class="stl_46 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:41.5939em; left:31.0958em;"><span class="stl_46 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:44.1564em; left:31.0958em;"><span class="stl_46 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:36.4456em; left:34.4308em;"><span class="stl_45 stl_08 stl_64" style="word-spacing:-0.0466em;">无符号值：</span><span class="stl_46 stl_08 stl_64" style="word-spacing:-0.0466em;">0 </span><span class="stl_45 stl_08 stl_64" style="word-spacing:-0.0466em;">到 </span><span class="stl_46 stl_08 stl_64" style="word-spacing:-0.0466em;">255 &nbsp;</span></div>
					<div class="stl_01" style="top:39.0106em; left:34.4308em;"><span class="stl_45 stl_08 stl_68" style="word-spacing:-0.0454em;">无符号值：</span><span class="stl_46 stl_08 stl_68" style="word-spacing:-0.0454em;">0 </span><span class="stl_45 stl_08 stl_68" style="word-spacing:-0.0454em;">到 </span><span class="stl_46 stl_08 stl_68" style="word-spacing:-0.0454em;">65535 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5939em; left:34.4308em;"><span class="stl_45 stl_08 stl_39" style="word-spacing:-0.049em;">无符号值：</span><span class="stl_46 stl_08 stl_39" style="word-spacing:-0.049em;">0 </span><span class="stl_45 stl_08 stl_39" style="word-spacing:-0.049em;">到约 </span><span class="stl_46 stl_08 stl_39" style="word-spacing:-0.049em;">42.9 </span><span class="stl_45 stl_08 stl_39" style="word-spacing:-0.049em;">亿 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1564em; left:34.4308em;"><span class="stl_45 stl_08 stl_30" style="word-spacing:-0.0467em;">无符号值：</span><span class="stl_46 stl_08 stl_30" style="word-spacing:-0.0467em;">0 </span><span class="stl_45 stl_08 stl_30" style="word-spacing:-0.0467em;">到约 </span><span class="stl_46 stl_08 stl_30" style="word-spacing:-0.0467em;">10 </span><span class="stl_45 stl_08 stl_30" style="word-spacing:-0.0467em;">的 </span><span class="stl_46 stl_08 stl_30" style="word-spacing:-0.0467em;">19 </span><span class="stl_45 stl_08 stl_30" style="word-spacing:-0.0467em;">次方 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5939em; left:9.6083em;"><span class="stl_45 stl_08 stl_09">恐龙化石 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1564em; left:9.6083em;"><span class="stl_45 stl_08 stl_09">太阳 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5939em; left:14.9442em;"><span class="stl_45 stl_08 stl_09">数千万年 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1564em; left:14.9442em;"><span class="stl_45 stl_08 stl_107" style="word-spacing:-0.0444em;">约 </span><span class="stl_46 stl_08 stl_107" style="word-spacing:-0.0444em;">50 </span><span class="stl_45 stl_08 stl_107" style="word-spacing:-0.0444em;">亿年 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1564em; left:21.425em;"><span class="stl_46 stl_08 stl_39" style="word-spacing:0.1903em;">bigint unsigned &nbsp;</span></div>
					<div class="stl_01" style="top:49.1353em; left:3.5438em;"><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">(</span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">二</span><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">) </span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">索引规约 &nbsp;</span></div>
					<div class="stl_01" style="top:52.1252em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:58.0419em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:63.9398em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:52.1252em; left:5.6271em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3794em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">业务上具有唯一特性的字段，即使是多个字段的组合，也必须建成唯一索引。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.9658em; left:6.5438em;"><span class="stl_56 stl_08 stl_64" style="word-spacing:-0.0257em;">说明：</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0257em;">不要以为唯一索引影响了 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0257em;">insert </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0257em;">速度，这个速度损耗可以忽略，但提高查找速度是明显的；另外， &nbsp;</span></div>
					<div class="stl_01" style="top:55.7367em; left:6.5438em;"><span class="stl_57 stl_08 stl_24">即使在应用层做了非常完善的校验控制，只要没有唯一索引，根据墨菲定律，必然有脏数据产生。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.0419em; left:5.6271em;"><span class="stl_27 stl_08 stl_64" style="word-spacing:0.3808em;">. </span><span class="stl_53 stl_08 stl_64" style="word-spacing:0.3808em;">【强制】</span><span class="stl_23 stl_08 stl_64" style="word-spacing:0.3808em;">超过三个表禁止</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0468em;"> join</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.041em;">。需要</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0487em;"> join</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0259em;"> 的字段，数据类型必须绝对一致</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0296em;">；</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0259em;">多表关联查询 &nbsp;</span></div>
					<div class="stl_01" style="top:59.7936em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">时，保证被关联的字段需要有索引。 &nbsp;</span></div>
					<div class="stl_01" style="top:61.6554em; left:6.5438em;"><span class="stl_56 stl_08 stl_138" style="word-spacing:-0.0241em;">说明：</span><span class="stl_57 stl_08 stl_138" style="word-spacing:-0.0241em;">即使双表 </span><span class="stl_38 stl_08 stl_138" style="word-spacing:-0.0241em;">join </span><span class="stl_57 stl_08 stl_138" style="word-spacing:-0.0241em;">也要注意表索引、</span><span class="stl_38 stl_08 stl_138" style="word-spacing:-0.0241em;">SQL </span><span class="stl_57 stl_08 stl_138" style="word-spacing:-0.0241em;">性能。 &nbsp;</span></div>
					<div class="stl_01" style="top:63.9398em; left:5.6271em;"><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3804em;">. </span><span class="stl_53 stl_08 stl_26" style="word-spacing:0.3804em;">【强制】</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.3804em;">在</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0521em;"> varchar</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0276em;"> 字段上建立索引时，必须指定索引长度，没必要对全字段建立索引，根据 &nbsp;</span></div>
					<div class="stl_01" style="top:65.7106em; left:6.5438em;"><span class="stl_23 stl_08 stl_13">实际文本区分度决定索引长度即可。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">2/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_38.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_38.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.16em; left:6.5438em;"><span class="stl_56 stl_08 stl_30" style="word-spacing:-0.0228em;">说明：</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0228em;">索引的长度与区分度是一对矛盾体，一般对字符串类型数据，长度为 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0228em;">20 </span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0228em;">的索引，区分度会高达 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">9</span></div>
					<div class="stl_01" style="top:4.9308em; left:7.0646em;"><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0316em;">0%</span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0316em;">以上，可以使用 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0316em;">count(distinct</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0039em;"> left(</span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0039em;">列名</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0039em;">,</span><span class="stl_57 stl_08 stl_24" style="word-spacing:0.201em;"> 索引长度</span><span class="stl_38 stl_08 stl_24" style="word-spacing:0.201em;">))/count(*)</span><span class="stl_57 stl_08 stl_24" style="word-spacing:0.201em;">的区分度来确定。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">4. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">页面搜索严禁左模糊或者全模糊，如果需要请走搜索引擎来解决。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.0767em; left:6.5438em;"><span class="stl_56 stl_08 stl_103" style="word-spacing:-0.027em;">说明：</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.027em;">索引文件具有 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.027em;">B-Tree </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.027em;">的最左前缀匹配特性，如果左边的值未确定，那么无法使用此索引。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.3627em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:11.3627em; left:5.6271em;"><span class="stl_27 stl_08 stl_102" style="word-spacing:0.3786em;">. </span><span class="stl_17 stl_08 stl_102" style="word-spacing:0.3786em;">【推荐】</span><span class="stl_23 stl_08 stl_102" style="word-spacing:0.3786em;">如果有</span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0448em;"> order</span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0121em;"> by</span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0524em;"> 的场景，请注意利用索引的</span><span class="stl_22 stl_08 stl_102" style="word-spacing:-0.0524em;">有序性</span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0524em;">。</span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0524em;">order</span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0121em;"> by</span><span class="stl_23 stl_08 stl_102" style="word-spacing:0.1984em;"> 最后的字段是组合 &nbsp;</span></div>
					<div class="stl_01" style="top:13.1336em; left:6.5438em;"><span class="stl_23 stl_08 stl_13" style="word-spacing:-0.037em;">索引的一部分，并且放在索引组合顺序的最后，避免出现 </span><span class="stl_27 stl_08 stl_13" style="word-spacing:-0.037em;">file_sort </span><span class="stl_23 stl_08 stl_13" style="word-spacing:-0.037em;">的情况，影响查询性能。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.995em; left:6.5438em;"><span class="stl_58 stl_08 stl_37" style="word-spacing:-0.0093em;">正例：</span><span class="stl_38 stl_08 stl_37" style="word-spacing:-0.0093em;">where a=?</span><span class="stl_38 stl_08 stl_37" style="word-spacing:-0.0178em;"> and</span><span class="stl_38 stl_08 stl_37" style="word-spacing:-0.0024em;"> b=? order</span><span class="stl_38 stl_08 stl_37" style="word-spacing:-0.0118em;"> by</span><span class="stl_38 stl_08 stl_37" style="word-spacing:0.0068em;"> c;</span><span class="stl_57 stl_08 stl_37" style="word-spacing:0.212em;"> 索引：</span><span class="stl_38 stl_08 stl_37" style="word-spacing:0.212em;">a_b_c &nbsp;</span></div>
					<div class="stl_01" style="top:16.745em; left:6.5438em;"><span class="stl_54 stl_08 stl_13" style="word-spacing:-0.0134em;">反例：</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0134em;">索引如果存在范围查询，那么索引有序性无法利用，如：</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0134em;">WHERE a&gt;10</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0031em;"> ORDER</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0005em;"> BY</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0191em;"> b;</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.2156em;"> 索引</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0357em;"> a_b</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0357em;"> 无 &nbsp;</span></div>
					<div class="stl_01" style="top:18.5183em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">法排序。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.8027em; left:5.0438em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3794em;">6. </span><span class="stl_17 stl_08 stl_20" style="word-spacing:0.3794em;">【推荐】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3794em;">利用覆盖索引来进行查询操作，避免回表。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6642em; left:6.5438em;"><span class="stl_56 stl_08 stl_77" style="word-spacing:-0.0247em;">说明：</span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0247em;">如果一本书需要知道第 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0247em;">11 </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0247em;">章是什么标题，会翻开第 </span><span class="stl_38 stl_08 stl_77" style="word-spacing:-0.0247em;">11 </span><span class="stl_57 stl_08 stl_77" style="word-spacing:-0.0247em;">章对应的那一页吗？目录浏览一下就好，这 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4367em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">个目录就是起到覆盖索引的作用。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.1867em; left:6.5438em;"><span class="stl_58 stl_08 stl_13">正例：</span><span class="stl_57 stl_08 stl_13">能够建立索引的种类分为主键索引、唯一索引、普通索引三种，而覆盖索引只是一种查询的一种效 &nbsp;</span></div>
					<div class="stl_01" style="top:27.9575em; left:6.5438em;"><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0241em;">果，用 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0241em;">explain </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0241em;">的结果，</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0241em;">extra </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0241em;">列会出现：</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0241em;">using index</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0241em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.2419em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">7</span></div>
					<div class="stl_01" style="top:30.2419em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_17 stl_08 stl_15" style="word-spacing:0.3799em;">【推荐】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">利用延迟关联或者子查询优化超多分页场景。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.105em; left:6.5438em;"><span class="stl_56 stl_08 stl_214" style="word-spacing:-0.0242em;">说明：</span><span class="stl_38 stl_08 stl_214" style="word-spacing:-0.0242em;">MySQL </span><span class="stl_57 stl_08 stl_214" style="word-spacing:-0.0242em;">并不是跳过 </span><span class="stl_38 stl_08 stl_214" style="word-spacing:-0.0242em;">offset </span><span class="stl_57 stl_08 stl_214" style="word-spacing:-0.0242em;">行，而是取 </span><span class="stl_38 stl_08 stl_214" style="word-spacing:-0.0242em;">offset+N </span><span class="stl_57 stl_08 stl_214" style="word-spacing:-0.0242em;">行，然后返回放弃前 </span><span class="stl_38 stl_08 stl_214" style="word-spacing:-0.0242em;">offset </span><span class="stl_57 stl_08 stl_214" style="word-spacing:-0.0242em;">行，返回 </span><span class="stl_38 stl_08 stl_214" style="word-spacing:-0.0242em;">N </span><span class="stl_57 stl_08 stl_214" style="word-spacing:-0.0242em;">行，那当 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8758em; left:6.5438em;"><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0171em;">offset </span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0171em;">特别大的时候，效率就非常的低下，要么控制返回的总页数，要么对超过特定阈值的页数进行 </span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0171em;">SQL &nbsp;</span></div>
					<div class="stl_01" style="top:35.6258em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">改写。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.3967em; left:6.5438em;"><span class="stl_58 stl_08 stl_12" style="word-spacing:-0.0298em;">正例：</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0298em;">先快速定位需要获取的 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0298em;">id </span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0298em;">段，然后再关联： &nbsp;</span></div>
					<div class="stl_01" style="top:39.2189em; left:8.7958em;"><span class="stl_46 stl_08 stl_103" style="word-spacing:0.0175em;">SELECT a.*</span><span class="stl_46 stl_08 stl_103" style="word-spacing:-0.0004em;"> FROM</span><span class="stl_45 stl_08 stl_103" style="word-spacing:0.21em;"> 表</span><span class="stl_46 stl_08 stl_103" style="word-spacing:-0.0443em;"> 1</span><span class="stl_46 stl_08 stl_103" style="word-spacing:0.0073em;"> a,</span><span class="stl_46 stl_08 stl_103" style="word-spacing:0.022em;"> (select</span><span class="stl_46 stl_08 stl_103" style="word-spacing:-0.0018em;"> id</span><span class="stl_46 stl_08 stl_103" style="word-spacing:-0.0179em;"> from</span><span class="stl_45 stl_08 stl_103" style="word-spacing:0.2274em;"> 表</span><span class="stl_46 stl_08 stl_103" style="word-spacing:-0.0443em;"> 1</span><span class="stl_46 stl_08 stl_103" style="word-spacing:0.0073em;"> where</span><span class="stl_45 stl_08 stl_103" style="word-spacing:0.2015em;"> 条件 </span><span class="stl_46 stl_08 stl_103" style="word-spacing:0.2015em;">LIMIT</span><span class="stl_46 stl_08 stl_103" style="word-spacing:0.0195em;"> 100000,20</span><span class="stl_46 stl_08 stl_103" style="word-spacing:0.0053em;"> )</span><span class="stl_46 stl_08 stl_103" style="word-spacing:0.0099em;"> b where</span><span class="stl_46 stl_08 stl_103" style="word-spacing:-0.0007em;"> a.id=b.id &nbsp;</span></div>
					<div class="stl_01" style="top:41.4544em; left:5.0438em;"><span class="stl_27 stl_08 stl_30" style="word-spacing:0.3806em;">8. </span><span class="stl_17 stl_08 stl_30" style="word-spacing:0.3806em;">【推荐】</span><span class="stl_38 stl_08 stl_30" style="word-spacing:0.4349em;">SQL</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0198em;"> 性能优化的目标：至少要达到</span><span class="stl_38 stl_08 stl_30" style="word-spacing:0.2415em;"> range</span><span class="stl_23 stl_08 stl_30" style="word-spacing:0.2499em;"> 级别，要求是</span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.049em;"> ref</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0197em;"> 级别，如果可以是 &nbsp;</span></div>
					<div class="stl_01" style="top:43.2252em; left:6.5438em;"><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0398em;">consts </span><span class="stl_23 stl_08 stl_13" style="word-spacing:-0.0348em;">最好。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.0675em; left:6.5438em;"><span class="stl_56 stl_08 stl_09">说明： &nbsp;</span></div>
					<div class="stl_01" style="top:46.8383em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:48.5892em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:50.3592em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:46.8383em; left:7.5042em;"><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2003em;">） </span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.2003em;">consts </span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2003em;">单表中最多只有一个匹配行（主键或者唯一索引），在优化阶段即可读取到数据。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.5892em; left:7.5042em;"><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2097em;">） </span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.2097em;">ref </span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2097em;">指的是使用普通的索引（</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.2097em;">normal</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0143em;"> index</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0143em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.3592em; left:7.5042em;"><span class="stl_57 stl_08 stl_09" style="word-spacing:0.208em;">） </span><span class="stl_38 stl_08 stl_09" style="word-spacing:0.208em;">range </span><span class="stl_57 stl_08 stl_09" style="word-spacing:0.208em;">对索引进行范围检索。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.1325em; left:6.5438em;"><span class="stl_54 stl_08 stl_64" style="word-spacing:-0.0304em;">反例：</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0304em;">explain </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0304em;">表的结果，</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0304em;">type=index</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0304em;">，索引物理文件全扫描，速度非常慢，这个 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0304em;">index </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0304em;">级别比较 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0304em;">range &nbsp;</span></div>
					<div class="stl_01" style="top:53.8825em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">还低，与全表扫描是小巫见大巫。 &nbsp;</span></div>
					<div class="stl_01" style="top:56.1877em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">9. </span><span class="stl_17 stl_08 stl_09" style="word-spacing:0.3801em;">【推荐】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">建组合索引的时候，区分度最高的在最左边。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.0283em; left:6.5438em;"><span class="stl_58 stl_08 stl_20" style="word-spacing:-0.0345em;">正例：</span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0345em;">如果 </span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0345em;">where</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0088em;"> a=?</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0173em;"> and</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.007em;"> b=?</span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2057em;"> ，如果</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0316em;"> a</span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0396em;"> 列的几乎接近于唯一值，那么只需要单建</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.027em;"> idx_a</span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0385em;"> 索引即可。 &nbsp;</span></div>
					<div class="stl_01" style="top:59.8008em; left:6.5438em;"><span class="stl_56 stl_08 stl_102" style="word-spacing:-0.0035em;">说明：</span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0035em;">存在非等号和等号混合时，在建索引时，请把等号条件的列前置。如：</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0035em;">where c&gt;?</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0181em;"> and</span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0057em;"> d=?</span><span class="stl_57 stl_08 stl_102" style="word-spacing:0.197em;"> 那么 &nbsp;</span></div>
					<div class="stl_01" style="top:61.5721em; left:6.5438em;"><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0359em;">即使 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0359em;">c </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0359em;">的区分度更高，也必须把 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0359em;">d </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0359em;">放在索引的最前列，即索引 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0359em;">idx_d_c</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0359em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:63.8565em; left:5.0438em;"><span class="stl_27 stl_08 stl_137">10.</span><span class="stl_17 stl_08 stl_137">【推荐】</span><span class="stl_23 stl_08 stl_137">防止因字段类型不同造成的隐式转换，导致索引失效。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">3/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_39.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_39.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0438em;"><span class="stl_27 stl_08 stl_92">11.</span><span class="stl_100 stl_08 stl_92">【参考】</span><span class="stl_23 stl_08 stl_92">创建索引时避免有如下极端误解： &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:6.6808em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:8.4517em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:4.9308em; left:7.5042em;"><span class="stl_57 stl_08 stl_24" style="word-spacing:0.2038em;">） 宁滥勿缺。认为一个查询就需要建一个索引。 &nbsp;</span></div>
					<div class="stl_01" style="top:6.6808em; left:7.5042em;"><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2035em;">） 宁缺勿滥。认为索引会消耗空间、严重拖慢记录的更新以及行的新增速度。 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4517em; left:7.5042em;"><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2034em;">） 抵制惟一索引。认为业务的惟一性一律需要在应用层通过“先查后插”方式解决。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.667em; left:3.5438em;"><span class="stl_51 stl_08 stl_110" style="word-spacing:0.3672em;">(</span><span class="stl_52 stl_08 stl_110" style="word-spacing:0.3672em;">三</span><span class="stl_51 stl_08 stl_110" style="word-spacing:0.3672em;">) SQL</span><span class="stl_52 stl_08 stl_110" style="word-spacing:-0.0439em;"> 语句 &nbsp;</span></div>
					<div class="stl_01" style="top:16.6569em; left:5.0438em;"><span class="stl_27 stl_08 stl_37" style="word-spacing:0.379em;">1. </span><span class="stl_53 stl_08 stl_37" style="word-spacing:0.379em;">【强制】</span><span class="stl_23 stl_08 stl_37" style="word-spacing:0.379em;">不要使用</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0445em;"> count(</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0445em;">列名</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0445em;">)</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0445em;">或</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.047em;"> count(</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.047em;">常量</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.047em;">)</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.047em;">来替代</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0451em;"> count(*)</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0451em;">，</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0451em;">count(*)</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0451em;">是</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.047em;"> SQL92</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0484em;"> 定义的 &nbsp;</span></div>
					<div class="stl_01" style="top:18.4277em; left:6.5438em;"><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.045em;">标准统计行数的语法，跟数据库无关，跟 </span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.045em;">NULL </span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.045em;">和非 </span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.045em;">NULL </span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.045em;">无关。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.2683em; left:6.5438em;"><span class="stl_56 stl_08 stl_103" style="word-spacing:-0.0268em;">说明：</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0268em;">count(*)</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0268em;">会统计值为 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0268em;">NULL </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0268em;">的行，而 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0268em;">count(</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0268em;">列名</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0268em;">)</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0268em;">不会统计此列为 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0268em;">NULL </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0268em;">值的行。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.5736em; left:5.0438em;"><span class="stl_27 stl_08 stl_37" style="word-spacing:0.3791em;">2. </span><span class="stl_53 stl_08 stl_37" style="word-spacing:0.3791em;">【强制】</span><span class="stl_27 stl_08 stl_37" style="word-spacing:0.3791em;">count(distinct</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0034em;"> col)</span><span class="stl_23 stl_08 stl_37" style="word-spacing:0.2153em;"> 计算该列除</span><span class="stl_27 stl_08 stl_37" style="word-spacing:-0.0444em;"> NULL</span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0589em;"> 之外的不重复行数，注意</span><span class="stl_27 stl_08 stl_37" style="word-spacing:0.2056em;"> count(distinct &nbsp;</span></div>
					<div class="stl_01" style="top:24.3461em; left:6.5438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.0015em;">col1, col2)</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.2073em;"> 如果其中一列全为</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0416em;"> NULL</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0416em;">，那么即使另一列有不同的值，也返回为</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0416em;"> 0</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0416em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7211em; left:5.0438em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">3. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">当某一列的值全是</span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0419em;"> NULL</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0371em;"> 时，</span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0371em;">count(col)</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0371em;">的返回结果为</span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0371em;"> 0</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0444em;">，但</span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0436em;"> sum(col)</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0436em;">的返回结果 &nbsp;</span></div>
					<div class="stl_01" style="top:28.4919em; left:6.5438em;"><span class="stl_23 stl_08 stl_90" style="word-spacing:-0.0478em;">为 </span><span class="stl_27 stl_08 stl_90" style="word-spacing:-0.0478em;">NULL</span><span class="stl_23 stl_08 stl_90" style="word-spacing:-0.0478em;">，因此使用 </span><span class="stl_27 stl_08 stl_90" style="word-spacing:-0.0478em;">sum()</span><span class="stl_23 stl_08 stl_90" style="word-spacing:-0.0478em;">时需注意 </span><span class="stl_27 stl_08 stl_90" style="word-spacing:-0.0478em;">NPE </span><span class="stl_23 stl_08 stl_90" style="word-spacing:-0.0478em;">问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.3325em; left:6.5438em;"><span class="stl_58 stl_08 stl_64" style="word-spacing:-0.0198em;">正例：</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0198em;">使用如下方式来避免 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0198em;">sum </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0198em;">的 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0198em;">NPE </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0198em;">问题：</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0198em;">SELECT IFNULL(SUM(column), 0) FROM table; &nbsp;</span></div>
					<div class="stl_01" style="top:32.6394em; left:5.0438em;"><span class="stl_27 stl_08 stl_30" style="word-spacing:0.3807em;">4. </span><span class="stl_53 stl_08 stl_30" style="word-spacing:0.3807em;">【强制】</span><span class="stl_23 stl_08 stl_30" style="word-spacing:0.3807em;">使用</span><span class="stl_104 stl_08 stl_64" style="word-spacing:-0.0488em;"> ISNULL()</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0427em;">来判断是否为</span><span class="stl_104 stl_08 stl_64" style="word-spacing:-0.0469em;"> NULL</span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0194em;"> 值。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5008em; left:6.5438em;"><span class="stl_56 stl_08 stl_74" style="word-spacing:-0.025em;">说明：</span><span class="stl_95 stl_08 stl_74" style="word-spacing:-0.025em;">NULL </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.025em;">与任何值的直接比较都为 </span><span class="stl_95 stl_08 stl_74" style="word-spacing:-0.025em;">NULL</span><span class="stl_121 stl_08 stl_74" style="word-spacing:-0.025em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2508em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:38.0242em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:39.7742em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:36.2508em; left:7.5042em;"><span class="stl_57 stl_08 stl_107" style="word-spacing:0.2072em;">） </span><span class="stl_104 stl_08 stl_107" style="word-spacing:0.2072em;">NULL&lt;&gt;NULL</span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0156em;"> 的返回结果是</span><span class="stl_95 stl_08 stl_107" style="word-spacing:-0.0288em;"> NULL</span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0288em;">，而不是</span><span class="stl_55 stl_08 stl_107" style="word-spacing:-0.0309em;"> false</span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.0309em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.0242em; left:7.5042em;"><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0281em;">） </span><span class="stl_104 stl_08 stl_103" style="word-spacing:-0.0281em;">NULL=NULL </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0281em;">的返回结果是 </span><span class="stl_95 stl_08 stl_103" style="word-spacing:-0.0281em;">NULL</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0281em;">，而不是 </span><span class="stl_55 stl_08 stl_103" style="word-spacing:-0.0281em;">true</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0281em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.7742em; left:7.5042em;"><span class="stl_57 stl_08 stl_98" style="word-spacing:0.2063em;">） </span><span class="stl_104 stl_08 stl_98" style="word-spacing:0.2063em;">NULL&lt;&gt;1</span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0187em;"> 的返回结果是</span><span class="stl_95 stl_08 stl_98" style="word-spacing:-0.0297em;"> NULL</span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0297em;">，而不是</span><span class="stl_55 stl_08 stl_98" style="word-spacing:-0.0288em;"> true</span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0288em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.0794em; left:5.0438em;"><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3797em;">5. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3797em;">【强制】</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.3797em;">代码中写分页查询逻辑时，若</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0452em;"> count</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0202em;"> 为</span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0654em;"> 0</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0493em;"> 应直接返回，避免执行后面的分页语句。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4752em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">6</span></div>
					<div class="stl_01" style="top:44.4752em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">不得使用外键与级联，一切外键概念必须在应用层解决。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3175em; left:6.5438em;"><span class="stl_56 stl_08 stl_30" style="word-spacing:-0.0262em;">说明：</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0262em;">以学生和成绩的关系为例，学生表中的 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0262em;">student_id </span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0262em;">是主键，那么成绩表中的 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0262em;">student_id </span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0262em;">则为外 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0883em; left:6.5438em;"><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0258em;">键。如果更新学生表中的 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0258em;">student_id</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0258em;">，同时触发成绩表中的 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0258em;">student_id </span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0258em;">更新，即为级联更新。外键与级 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8383em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">联更新适用于单机低并发，不适合分布式、高并发集群；级联更新是强阻塞，存在数据库更新风暴的风 &nbsp;</span></div>
					<div class="stl_01" style="top:51.61em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">险；外键影响数据库的插入速度。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.9169em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">7. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">禁止使用存储过程，存储过程难以调试和扩展，更没有移植性。 &nbsp;</span></div>
					<div class="stl_01" style="top:56.2919em; left:5.0438em;"><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3797em;">8. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3797em;">【强制】</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.3797em;">数据订正（特别是删除、修改记录操作）时，要先</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.051em;"> select</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0446em;">，避免出现误删除，确认无 &nbsp;</span></div>
					<div class="stl_01" style="top:58.0627em; left:6.5438em;"><span class="stl_23 stl_08 stl_37">误才能执行更新语句。 &nbsp;</span></div>
					<div class="stl_01" style="top:60.4394em; left:5.0438em;"><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3805em;">9. </span><span class="stl_17 stl_08 stl_26" style="word-spacing:0.3805em;">【推荐】</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.4348em;">in</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0268em;"> 操作能避免则避免，若实在避免不了，需要仔细评估</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0405em;"> in</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0268em;"> 后边的集合元素数量，控 &nbsp;</span></div>
					<div class="stl_01" style="top:62.2106em; left:6.5438em;"><span class="stl_23 stl_08 stl_61" style="word-spacing:-0.0438em;">制在 </span><span class="stl_27 stl_08 stl_61" style="word-spacing:-0.0438em;">1000 </span><span class="stl_23 stl_08 stl_61" style="word-spacing:-0.0438em;">个之内。 &nbsp;</span></div>
					<div class="stl_01" style="top:64.6065em; left:5.0438em;"><span class="stl_27 stl_08 stl_141" style="word-spacing:-0.0493em;">10.</span><span class="stl_100 stl_08 stl_141" style="word-spacing:-0.0493em;">【参考】</span><span class="stl_23 stl_08 stl_141" style="word-spacing:-0.0493em;">如果有国际化需要，所有的字符存储与表示，均以 </span><span class="stl_38 stl_08 stl_137" style="word-spacing:-0.0563em;">utf</span><span class="stl_27 stl_08 stl_141" style="word-spacing:-0.0493em;">-8 </span><span class="stl_23 stl_08 stl_141" style="word-spacing:-0.0493em;">编码，注意字符统计函数 &nbsp;</span></div>
					<div class="stl_01" style="top:66.3586em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">的区别。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">4/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_40.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_40.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.16em; left:6.5438em;"><span class="stl_56 stl_08 stl_09">说明： &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:9.1708em;"><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0127em;">SELECT LENGTH("</span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0127em;">轻松工作</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0127em;">")</span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0127em;">；</span><span class="stl_57 stl_08 stl_20" style="word-spacing:0.2035em;"> 返回为</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0317em;"> 12 &nbsp;</span></div>
					<div class="stl_01" style="top:6.6808em; left:9.1708em;"><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0112em;">SELECT CHARACTER_LENGTH("</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0112em;">轻松工作</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0112em;">")</span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0112em;">；</span><span class="stl_57 stl_08 stl_64" style="word-spacing:0.2307em;"> 返回为</span><span class="stl_38 stl_08 stl_64" style="word-spacing:0.2307em;"> 4 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4517em; left:9.1708em;"><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0266em;">如果需要存储表情，那么选择 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0266em;">utf8mb4 </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0266em;">来进行存储，注意它与 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0266em;">utf-8 </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0266em;">编码的区别。 &nbsp;</span></div>
					<div class="stl_01" style="top:10.7377em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:10.7377em; left:5.6271em;"><span class="stl_27 stl_08 stl_93" style="word-spacing:0.0274em;">1.</span><span class="stl_100 stl_08 stl_93" style="word-spacing:0.0274em;">【参考】</span><span class="stl_38 stl_08 stl_135" style="word-spacing:0.0314em;">TRUNCATE TABLE</span><span class="stl_23 stl_08 stl_93" style="word-spacing:0.2369em;"> 比</span><span class="stl_38 stl_08 stl_135" style="word-spacing:0.2272em;"> DELETE</span><span class="stl_23 stl_08 stl_93" style="word-spacing:0.2376em;"> 速度快，且使用的系统和事务日志资源少，但 &nbsp;</span></div>
					<div class="stl_01" style="top:12.5086em; left:6.5438em;"><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0409em;">TRUNCATE </span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0358em;">无事务且不触发 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0409em;">trigger</span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0358em;">，有可能造成事故，故不建议在开发代码中使用此语句。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.37em; left:6.5438em;"><span class="stl_56 stl_08 stl_15" style="word-spacing:-0.0139em;">说明：</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0139em;">TRUNCATE TABLE</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2077em;"> 在功能上与不带 </span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.2077em;">WHERE</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2276em;"> 子句的</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.2054em;"> DELETE</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2054em;"> 语句相同。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.5862em; left:3.5438em;"><span class="stl_51 stl_08 stl_37" style="word-spacing:0.3691em;">(</span><span class="stl_52 stl_08 stl_37" style="word-spacing:0.3691em;">四</span><span class="stl_51 stl_08 stl_37" style="word-spacing:0.3691em;">) ORM</span><span class="stl_52 stl_08 stl_37" style="word-spacing:-0.0491em;"> 映射 &nbsp;</span></div>
					<div class="stl_01" style="top:22.5736em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:22.5736em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">在表查询中，一律不要使用</span><span class="stl_27 stl_08 stl_15" style="word-spacing:0.209em;"> *</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.209em;"> 作为查询的字段列表，需要哪些字段必须明确写明。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.4367em; left:6.5438em;"><span class="stl_56 stl_08 stl_15" style="word-spacing:-0.0264em;">说明：</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0264em;">1</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0264em;">）增加查询分析器解析成本。</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0264em;">2</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0264em;">）增减字段容易与 </span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0264em;">resultMap </span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0264em;">配置不一致。</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0264em;">3</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0264em;">）无用字段增加网络 &nbsp;</span></div>
					<div class="stl_01" style="top:26.1867em; left:6.5438em;"><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.023em;">消耗，尤其是 </span><span class="stl_38 stl_08 stl_107" style="word-spacing:-0.023em;">text </span><span class="stl_57 stl_08 stl_107" style="word-spacing:-0.023em;">类型的字段。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.4919em; left:5.0438em;"><span class="stl_27 stl_08 stl_102" style="word-spacing:0.3787em;">2. </span><span class="stl_53 stl_08 stl_102" style="word-spacing:0.3787em;">【强制】</span><span class="stl_27 stl_08 stl_102" style="word-spacing:0.3787em;">POJO</span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0497em;"> 类的布尔属性不能加</span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0431em;"> is</span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0431em;">，而数据库字段必须加</span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0431em;"> is_</span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0431em;">，要求在</span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0448em;"> resultMap</span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0351em;"> 中进行 &nbsp;</span></div>
					<div class="stl_01" style="top:30.2419em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">字段与属性之间的映射。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.105em; left:6.5438em;"><span class="stl_56 stl_08 stl_26" style="word-spacing:-0.0342em;">说明：</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0342em;">参见定义 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0342em;">POJO </span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0342em;">类以及数据库字段定义规定，在</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0342em;">&lt;resultMap&gt;</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0342em;">中增加映射，是必须的。在 &nbsp;</span></div>
					<div class="stl_01" style="top:33.8758em; left:6.5438em;"><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0087em;">MyBatis Generator </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0087em;">生成的代码中，需要进行对应的修改。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.1602em; left:5.0438em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">3. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">不要用</span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0435em;"> resultClass</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0459em;"> 当返回参数，即使所有类属性名与数据库字段一一对应，也需要 &nbsp;</span></div>
					<div class="stl_01" style="top:37.9336em; left:6.5438em;"><span class="stl_23 stl_08 stl_39" style="word-spacing:-0.0452em;">定义；反过来，每一个表也必然有一个 </span><span class="stl_27 stl_08 stl_39" style="word-spacing:-0.0452em;">POJO </span><span class="stl_23 stl_08 stl_39" style="word-spacing:-0.0452em;">类与之对应。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.7742em; left:6.5438em;"><span class="stl_56 stl_08 stl_68" style="word-spacing:-0.0324em;">说明：</span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0324em;">配置映射关系，使字段与 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0324em;">DO </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0324em;">类解耦，方便维护。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.0794em; left:5.0438em;"><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3804em;">4. </span><span class="stl_53 stl_08 stl_26" style="word-spacing:0.3804em;">【强制】</span><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3804em;">sql.</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.4347em;">xml</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.031em;"> 配置参数使用：</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.031em;">#{}</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.031em;">，</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.031em;">#</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0354em;">param</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.031em;">#</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.199em;"> 不要使用</span><span class="stl_27 stl_08 stl_26" style="word-spacing:0.199em;">${} </span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.199em;">此种方式容易出现</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0492em;"> SQL</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0184em;"> 注入。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.4752em; left:5.0229em;"><span class="stl_27 stl_08 stl_09">5</span></div>
					<div class="stl_01" style="top:44.4752em; left:5.6063em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.4341em;">iBATIS</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0312em;"> 自带的</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0527em;"> queryForList(String</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.0489em;"> statementName</span><span class="stl_27 stl_08 stl_15" style="word-spacing:0.0428em;">,</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.0489em;">int start</span><span class="stl_27 stl_08 stl_15" style="word-spacing:0.0428em;">,</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.0489em;">int</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.0489em;"> size)</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.0428em;">不推荐使用。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3175em; left:6.5229em;"><span class="stl_56 stl_08 stl_134" style="word-spacing:-0.0228em;">说明：</span><span class="stl_57 stl_08 stl_134" style="word-spacing:-0.0228em;">其实现方式是在数据库取到 </span><span class="stl_38 stl_08 stl_134" style="word-spacing:-0.0228em;">statementName </span><span class="stl_57 stl_08 stl_134" style="word-spacing:-0.0228em;">对应的 </span><span class="stl_38 stl_08 stl_134" style="word-spacing:-0.0228em;">SQL </span><span class="stl_57 stl_08 stl_134" style="word-spacing:-0.0228em;">语句的所有记录，再通过 </span><span class="stl_38 stl_08 stl_134" style="word-spacing:-0.0228em;">subList </span><span class="stl_57 stl_08 stl_134" style="word-spacing:-0.0228em;">取 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0883em; left:6.5229em;"><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0225em;">start,size </span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0225em;">的子集合。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.8383em; left:6.5438em;"><span class="stl_58 stl_08 stl_39" style="word-spacing:-0.008em;">正例：</span><span class="stl_38 stl_08 stl_39" style="word-spacing:-0.008em;">Map&lt;String, Object&gt; map = new HashMap&lt;&gt;(); &nbsp;</span></div>
					<div class="stl_01" style="top:51.2967em; left:9.2333em;"><span class="stl_38 stl_08 stl_103" style="word-spacing:0.2019em;">map.put("start", start); &nbsp;</span></div>
					<div class="stl_01" style="top:52.4658em; left:9.2333em;"><span class="stl_38 stl_08 stl_77" style="word-spacing:0.2028em;">map.put("size", size); &nbsp;</span></div>
					<div class="stl_01" style="top:54.7294em; left:5.0438em;"><span class="stl_27 stl_08 stl_74" style="word-spacing:0.3812em;">6. </span><span class="stl_53 stl_08 stl_74" style="word-spacing:0.3812em;">【强制】</span><span class="stl_23 stl_08 stl_74" style="word-spacing:0.3812em;">不允许直接拿</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0483em;"> HashMap</span><span class="stl_23 stl_08 stl_74" style="word-spacing:-0.0226em;"> 与</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0511em;"> Hashtable</span><span class="stl_23 stl_08 stl_74" style="word-spacing:-0.0247em;"> 作为查询结果集的输出。 &nbsp;</span></div>
					<div class="stl_01" style="top:56.5908em; left:6.5438em;"><span class="stl_56 stl_08 stl_24">说明：</span><span class="stl_38 stl_08 stl_24">resultClass=</span><span class="stl_57 stl_08 stl_24">”Hashtable”，会置入字段名和属性值，但是值的类型不可控。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.8752em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.38em;">7. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.38em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.38em;">更新数据表记录时，必须同时更新记录对应的</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0376em;"> gmt_modified</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0321em;"> 字段值为当前时间。 &nbsp;</span></div>
					<div class="stl_01" style="top:61.2731em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:61.2731em; left:5.6271em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.38em;">. </span><span class="stl_17 stl_08 stl_09" style="word-spacing:0.38em;">【推荐】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.38em;">不要写一个大而全的数据更新接口。传入为</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0443em;"> POJO</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0484em;"> 类，不管是不是自己的目标更新 &nbsp;</span></div>
					<div class="stl_01" style="top:63.044em; left:6.5438em;"><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0418em;">字段，都进行 </span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0418em;">update</span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0078em;"> table</span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0088em;"> set</span><span class="stl_27 stl_08 stl_24" style="word-spacing:0.0001em;"> c1=value1,c2=value2,c3=value3;</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.2362em;"> 这是不对的。执行</span><span class="stl_27 stl_08 stl_24" style="word-spacing:-0.0414em;"> SQL &nbsp;</span></div>
					<div class="stl_01" style="top:64.794em; left:6.5438em;"><span class="stl_23 stl_08 stl_13" style="word-spacing:-0.0356em;">时，不要更新无改动的字段，一是易出错；二是效率低；三是增加 </span><span class="stl_27 stl_08 stl_13" style="word-spacing:-0.0356em;">binlog </span><span class="stl_23 stl_08 stl_13" style="word-spacing:-0.0356em;">存储。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">5/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_41.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_41.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0438em;"><span class="stl_27 stl_08 stl_49" style="word-spacing:0.381em;">9. </span><span class="stl_100 stl_08 stl_49" style="word-spacing:0.381em;">【参考】</span><span class="stl_27 stl_08 stl_49" style="word-spacing:0.381em;">@Transactional</span><span class="stl_23 stl_08 stl_49" style="word-spacing:-0.0311em;"> 事务不要滥用。事务会影响数据库的</span><span class="stl_27 stl_08 stl_49" style="word-spacing:-0.039em;"> QPS</span><span class="stl_23 stl_08 stl_49" style="word-spacing:-0.039em;">，另外使用事务的地方 &nbsp;</span></div>
					<div class="stl_01" style="top:4.8402em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">需要考虑各方面的回滚方案，包括缓存回滚、搜索引擎回滚、消息补偿、统计修正等。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.6271em;"><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0485em;">0.</span><span class="stl_100 stl_08 stl_136" style="word-spacing:-0.0485em;">【参考】</span><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0485em;">&lt;isEqual&gt;</span><span class="stl_23 stl_08 stl_136" style="word-spacing:-0.0485em;">中的 </span><span class="stl_27 stl_08 stl_136" style="word-spacing:-0.0485em;">compareValue </span><span class="stl_23 stl_08 stl_136" style="word-spacing:-0.0485em;">是与属性值对比的常量，一般是数字，表示相等时 &nbsp;</span></div>
					<div class="stl_01" style="top:8.9861em; left:6.5438em;"><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0475em;">带上此条件；</span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0475em;">&lt;isNotEmpty&gt;</span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0475em;">表示不为空且不为 </span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0475em;">null </span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0475em;">时执行；</span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0475em;">&lt;isNotNull&gt;</span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0475em;">表示不为 </span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0475em;">null </span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0475em;">值 &nbsp;</span></div>
					<div class="stl_01" style="top:10.7377em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">时执行。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">6/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_43.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_43.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.3727em; left:3.5438em;"><span class="stl_50 stl_08 stl_24">六、工程结构 &nbsp;</span></div>
					<div class="stl_01" style="top:7.1237em; left:3.5438em;"><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">(</span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">一</span><span class="stl_51 stl_08 stl_12" style="word-spacing:0.3704em;">) </span><span class="stl_52 stl_08 stl_12" style="word-spacing:0.3704em;">应用分层 &nbsp;</span></div>
					<div class="stl_01" style="top:10.1127em; left:5.0229em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">1. </span><span class="stl_17 stl_08 stl_09" style="word-spacing:0.3801em;">【推荐】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">图中默认上层依赖于下层，箭头关系表示可直接依赖，如：开放接口层可以依赖于 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8836em; left:6.5229em;"><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0319em;">Web </span><span class="stl_23 stl_08 stl_68" style="word-spacing:-0.0279em;">层，也可以直接依赖于 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0319em;">Service </span><span class="stl_23 stl_08 stl_68" style="word-spacing:-0.0279em;">层，依此类推： &nbsp;</span></div>
					<div class="stl_01" style="top:31.7764em; left:6.7938em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:35.6097em; left:6.7938em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:31.6883em; left:8.2958em;"><span class="stl_57 stl_08 stl_112" style="word-spacing:-0.0265em;">开放接口层：可直接封装 </span><span class="stl_38 stl_08 stl_112" style="word-spacing:-0.0265em;">Service </span><span class="stl_57 stl_08 stl_112" style="word-spacing:-0.0265em;">方法暴露成 </span><span class="stl_38 stl_08 stl_112" style="word-spacing:-0.0265em;">RPC </span><span class="stl_57 stl_08 stl_112" style="word-spacing:-0.0265em;">接口；通过 </span><span class="stl_38 stl_08 stl_112" style="word-spacing:-0.0265em;">Web </span><span class="stl_57 stl_08 stl_112" style="word-spacing:-0.0265em;">封装成 </span><span class="stl_38 stl_08 stl_112" style="word-spacing:-0.0265em;">http </span><span class="stl_57 stl_08 stl_112" style="word-spacing:-0.0265em;">接口；进行网关安 &nbsp;</span></div>
					<div class="stl_01" style="top:33.4383em; left:8.2958em;"><span class="stl_57 stl_08 stl_20">全控制、流量控制等。 &nbsp;</span></div>
					<div class="stl_01" style="top:35.5217em; left:8.2958em;"><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0319em;">终端显示层：各个端的模板渲染并执行显示的层。当前主要是 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0319em;">velocity </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0319em;">渲染，</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0319em;">JS </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0319em;">渲染，</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0319em;">JSP </span><span class="stl_57 stl_08 stl_64" style="word-spacing:-0.0319em;">渲染，移 &nbsp;</span></div>
					<div class="stl_01" style="top:37.2717em; left:8.2958em;"><span class="stl_57 stl_08 stl_39">动端展示等。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.4455em; left:6.7938em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:41.5289em; left:6.7938em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:43.5914em; left:6.7938em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:39.3575em; left:8.2958em;"><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0276em;">Web </span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0276em;">层：主要是对访问控制进行转发，各类基本参数校验，或者不复用的业务简单处理等。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.4408em; left:8.2958em;"><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0292em;">Service </span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0292em;">层：相对具体的业务逻辑服务层。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.5033em; left:8.2958em;"><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0331em;">Manager </span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0331em;">层：通用业务处理层，它有如下特征： &nbsp;</span></div>
					<div class="stl_01" style="top:45.2758em; left:9.6083em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:47.0258em; left:9.6083em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:48.7975em; left:9.6083em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:45.2758em; left:10.1292em;"><span class="stl_57 stl_08 stl_37" style="word-spacing:0.2032em;">） 对第三方平台封装的层，预处理返回结果及转化异常信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.0258em; left:10.1292em;"><span class="stl_57 stl_08 stl_108" style="word-spacing:0.2059em;">） 对</span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.0293em;"> Service</span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.0276em;"> 层通用能力的下沉，如缓存方案、中间件通用处理。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7975em; left:10.1292em;"><span class="stl_57 stl_08 stl_138" style="word-spacing:0.2073em;">） 与</span><span class="stl_38 stl_08 stl_138" style="word-spacing:-0.028em;"> DAO</span><span class="stl_57 stl_08 stl_138" style="word-spacing:-0.0358em;"> 层交互，对多个</span><span class="stl_38 stl_08 stl_138" style="word-spacing:-0.0308em;"> DAO</span><span class="stl_57 stl_08 stl_138" style="word-spacing:-0.032em;"> 的组合复用。 &nbsp;</span></div>
					<div class="stl_01" style="top:50.968em; left:6.7938em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:53.033em; left:6.7938em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:50.88em; left:8.2958em;"><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0307em;">DAO </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0307em;">层：数据访问层，与底层 </span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0307em;">MySQL</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0307em;">、</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0307em;">Oracle</span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0307em;">、</span><span class="stl_38 stl_08 stl_103" style="word-spacing:-0.0307em;">Hbase </span><span class="stl_57 stl_08 stl_103" style="word-spacing:-0.0307em;">等进行数据交互。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.945em; left:8.2958em;"><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0277em;">外部接口或第三方平台：包括其它部门 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0277em;">RPC </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0277em;">开放接口，基础平台，其它公司的 </span><span class="stl_38 stl_08 stl_68" style="word-spacing:-0.0277em;">HTTP </span><span class="stl_57 stl_08 stl_68" style="word-spacing:-0.0277em;">接口。 &nbsp;</span></div>
					<div class="stl_01" style="top:55.7919em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:55.7919em; left:5.6271em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.38em;">. </span><span class="stl_100 stl_08 stl_09" style="word-spacing:0.38em;">【参考】</span><span class="stl_57 stl_08 stl_09" style="word-spacing:0.4343em;">（</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.38em;">分层异常处理规约</span><span class="stl_57 stl_08 stl_09" style="word-spacing:0.4343em;">）</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.38em;">在</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0525em;"> DAO</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.031em;"> 层，产生的异常类型有很多，无法用细粒度的异常进 &nbsp;</span></div>
					<div class="stl_01" style="top:57.5419em; left:6.5438em;"><span class="stl_23 stl_08 stl_62" style="word-spacing:-0.0456em;">行 </span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0521em;">catch</span><span class="stl_23 stl_08 stl_62" style="word-spacing:-0.0456em;">，使用</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0516em;"> catch(Exception</span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0034em;"> e)</span><span class="stl_23 stl_08 stl_62" style="word-spacing:-0.003em;">方式，并 </span><span class="stl_38 stl_08 stl_59" style="word-spacing:-0.0034em;">throw</span><span class="stl_38 stl_08 stl_59" style="word-spacing:0.0125em;"> new</span><span class="stl_38 stl_08 stl_59" style="word-spacing:0.0341em;"> DAOException(e)</span><span class="stl_23 stl_08 stl_62" style="word-spacing:0.0298em;">，不需要打印日志，因 &nbsp;</span></div>
					<div class="stl_01" style="top:59.3144em; left:6.5438em;"><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0333em;">为日志在 </span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0381em;">Manager</span><span class="stl_27 stl_08 stl_30" style="word-spacing:-0.0333em;">/</span><span class="stl_38 stl_08 stl_64" style="word-spacing:-0.0381em;">Service </span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0333em;">层一定需要捕获并打印到日志文件中去，如果同台服务器再打日 &nbsp;</span></div>
					<div class="stl_01" style="top:61.0856em; left:6.5438em;"><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0326em;">志，浪费性能和存储。在 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0372em;">Service </span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0326em;">层出现异常时，必须记录出错日志到磁盘，尽可能带上参数 &nbsp;</span></div>
					<div class="stl_01" style="top:62.8356em; left:6.5438em;"><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0347em;">信息，相当于保护案发现场。如果 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0396em;">Manager </span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0347em;">层与 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0396em;">Service </span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0347em;">同机部署，日志方式与 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0396em;">DAO </span><span class="stl_23 stl_08 stl_12" style="word-spacing:-0.0347em;">层处理 &nbsp;</span></div>
					<div class="stl_01" style="top:64.6065em; left:6.5438em;"><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0291em;">一致，如果是单独部署，则采用与 </span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0332em;">Service </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0291em;">一致的处理方式。</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0332em;">Web </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0291em;">层绝不应该继续往上抛异 &nbsp;</span></div>
					<div class="stl_01" style="top:66.3586em; left:6.5438em;"><span class="stl_23 stl_08 stl_24">常，因为已经处于顶层，如果意识到这个异常将导致页面无法正常渲染，那么就应该直接跳 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">7/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_44.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_44.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:6.5438em;"><span class="stl_23 stl_08 stl_24">转到友好错误页面，加上用户容易理解的错误提示信息。开放接口层要将异常处理成错误码 &nbsp;</span></div>
					<div class="stl_01" style="top:4.8402em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">和错误信息方式返回。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.0438em;"><span class="stl_27 stl_08 stl_12" style="word-spacing:0.3802em;">3. </span><span class="stl_100 stl_08 stl_12" style="word-spacing:0.3802em;">【参考】</span><span class="stl_23 stl_08 stl_12" style="word-spacing:0.3802em;">分层领域模型规约： &nbsp;</span></div>
					<div class="stl_01" style="top:9.7914em; left:6.5438em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:11.8539em; left:6.5438em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:13.9372em; left:6.5438em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:16.0205em; left:6.5438em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:9.7033em; left:8.0458em;"><span class="stl_38 stl_08 stl_111" style="word-spacing:-0.0282em;">DO</span><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.0282em;">（</span><span class="stl_38 stl_08 stl_111" style="word-spacing:-0.0282em;">Data Object</span><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.0282em;">）：此对象与数据库表结构一一对应，通过 </span><span class="stl_38 stl_08 stl_111" style="word-spacing:-0.0282em;">DAO </span><span class="stl_57 stl_08 stl_111" style="word-spacing:-0.0282em;">层向上传输数据源对象。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.7658em; left:8.0458em;"><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0184em;">DTO</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0184em;">（</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0184em;">Data Transfer Object</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0184em;">）：数据传输对象，</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0184em;">Service </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0184em;">或 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0184em;">Manager </span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0184em;">向外传输的对象。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.8492em; left:8.0458em;"><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0191em;">BO</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0191em;">（</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0191em;">Business Object</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0191em;">）：业务对象，由 </span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0191em;">Service </span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0191em;">层输出的封装业务逻辑的对象。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.9325em; left:8.0458em;"><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0315em;">AO</span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0315em;">（</span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0315em;">Application Object</span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0315em;">）：应用对象，在 </span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0315em;">Web </span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0315em;">层与 </span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0315em;">Service </span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0315em;">层之间抽象的复用对象模型，极为贴 &nbsp;</span></div>
					<div class="stl_01" style="top:17.685em; left:8.0458em;"><span class="stl_57 stl_08 stl_20">近展示层，复用度不高。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.8564em; left:6.5438em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:21.9189em; left:6.5438em;"><span class="stl_215 stl_216 stl_09">•</span></div>
					<div class="stl_01" style="top:19.7683em; left:8.0458em;"><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.014em;">VO</span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.014em;">（</span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.014em;">View Object</span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.014em;">）：显示层对象，通常是 </span><span class="stl_38 stl_08 stl_108" style="word-spacing:-0.014em;">Web </span><span class="stl_57 stl_08 stl_108" style="word-spacing:-0.014em;">向模板渲染引擎层传输的对象。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.8308em; left:8.0458em;"><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0279em;">Query</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0279em;">：数据查询对象，各层接收上层的查询请求。注意超过 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0279em;">2 </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0279em;">个参数的查询封装，禁止使用 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0279em;">Map </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0279em;">类 &nbsp;</span></div>
					<div class="stl_01" style="top:23.6017em; left:8.0458em;"><span class="stl_57 stl_08 stl_09">来传输。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.9003em; left:3.5438em;"><span class="stl_51 stl_08 stl_15" style="word-spacing:0.3699em;">(</span><span class="stl_52 stl_08 stl_15" style="word-spacing:0.3699em;">二</span><span class="stl_51 stl_08 stl_15" style="word-spacing:0.3699em;">) </span><span class="stl_52 stl_08 stl_15" style="word-spacing:0.3699em;">二方库依赖 &nbsp;</span></div>
					<div class="stl_01" style="top:32.8894em; left:5.0438em;"><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3797em;">1. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3797em;">【强制】</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.3797em;">定义</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.05em;"> GAV</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0373em;"> 遵从以下规则： &nbsp;</span></div>
					<div class="stl_01" style="top:34.7508em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:34.7508em; left:7.5042em;"><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2038em;">） </span><span class="stl_104 stl_08 stl_15" style="word-spacing:0.2038em;">G</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.2038em;">roupID</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0288em;"> 格式：</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0288em;">com.{</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0288em;">公司</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0288em;">/BU</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0187em;"> }.</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0187em;">业务线</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.2067em;"> [.</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2067em;">子业务线</span><span class="stl_38 stl_08 stl_15" style="word-spacing:0.2067em;">]</span><span class="stl_57 stl_08 stl_15" style="word-spacing:0.2067em;">，最多</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0343em;"> 4</span><span class="stl_57 stl_08 stl_15" style="word-spacing:-0.0226em;"> 级。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.5217em; left:7.4188em;"><span class="stl_56 stl_08 stl_74" style="word-spacing:0.2073em;">说明：</span><span class="stl_38 stl_08 stl_74" style="word-spacing:0.2073em;">{</span><span class="stl_57 stl_08 stl_74" style="word-spacing:0.2073em;">公司</span><span class="stl_38 stl_08 stl_74" style="word-spacing:0.2073em;">/BU} </span><span class="stl_57 stl_08 stl_74" style="word-spacing:0.2073em;">例如：</span><span class="stl_38 stl_08 stl_74" style="word-spacing:0.2073em;">alibaba/taobao/tmall/aliexpress</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0295em;"> 等</span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0327em;"> BU</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0383em;"> 一级；子业务线可选。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.2742em; left:7.4188em;"><span class="stl_58 stl_08 stl_20" style="word-spacing:0.2008em;">正例：</span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.2008em;">com.taobao.jstorm </span><span class="stl_197 stl_08 stl_20" style="word-spacing:0.2008em;">或 </span><span class="stl_38 stl_08 stl_20" style="word-spacing:0.2008em;">com.alibaba.dubbo.register &nbsp;</span></div>
					<div class="stl_01" style="top:40.045em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:40.045em; left:7.5042em;"><span class="stl_57 stl_08 stl_12" style="word-spacing:0.2042em;">） </span><span class="stl_104 stl_08 stl_12" style="word-spacing:0.2042em;">A</span><span class="stl_38 stl_08 stl_12" style="word-spacing:0.2042em;">rtifactID</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0284em;"> 格式：产品线名</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0284em;">-</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0284em;">模块名。语义不重复不遗漏，先到中央仓库去查证一下。 &nbsp;</span></div>
					<div class="stl_01" style="top:41.795em; left:7.4188em;"><span class="stl_58 stl_08 stl_81" style="word-spacing:-0.0103em;">正例：</span><span class="stl_38 stl_08 stl_81" style="word-spacing:-0.0103em;">dubbo-client / fastjson-api / jstorm-tool &nbsp;</span></div>
					<div class="stl_01" style="top:43.5658em; left:6.9813em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:43.5658em; left:7.5042em;"><span class="stl_57 stl_08 stl_94" style="word-spacing:0.2055em;">） </span><span class="stl_104 stl_08 stl_94" style="word-spacing:0.2055em;">V</span><span class="stl_38 stl_08 stl_94" style="word-spacing:0.2055em;">ersion</span><span class="stl_57 stl_08 stl_94" style="word-spacing:0.2055em;">：详细规定参考下方。 &nbsp;</span></div>
					<div class="stl_01" style="top:45.8727em; left:5.0229em;"><span class="stl_27 stl_08 stl_62" style="word-spacing:0.3782em;">2. </span><span class="stl_53 stl_08 stl_62" style="word-spacing:0.3782em;">【强制】</span><span class="stl_23 stl_08 stl_62" style="word-spacing:0.3782em;">二方库版本号命名方式：主版本号</span><span class="stl_27 stl_08 stl_62" style="word-spacing:0.3782em;">.</span><span class="stl_23 stl_08 stl_62" style="word-spacing:0.3782em;">次版本号</span><span class="stl_27 stl_08 stl_62" style="word-spacing:0.3782em;">.</span><span class="stl_23 stl_08 stl_62" style="word-spacing:0.3782em;">修订号 &nbsp;</span></div>
					<div class="stl_01" style="top:47.7133em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:49.4842em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:51.235em; left:6.9604em;"><span class="stl_38 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:47.7133em; left:7.4813em;"><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0347em;">）主版本号：产品方向改变，或者大规模 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0347em;">API </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0347em;">不兼容，或者架构不兼容升级。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.4842em; left:7.4813em;"><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0277em;">） 次版本号：保持相对兼容性，增加主要功能特性，影响范围极小的 </span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0277em;">API </span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0277em;">不兼容修改。 &nbsp;</span></div>
					<div class="stl_01" style="top:51.235em; left:7.4813em;"><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0215em;">） 修订号：保持完全兼容性，修复 </span><span class="stl_38 stl_08 stl_20" style="word-spacing:-0.0215em;">BUG</span><span class="stl_57 stl_08 stl_20" style="word-spacing:-0.0215em;">、新增次要功能特性等。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.0075em; left:6.5438em;"><span class="stl_56 stl_08 stl_102" style="word-spacing:-0.0563em;">说明：</span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0563em;">注意起始版本号必须为：</span><span class="stl_104 stl_08 stl_102" style="word-spacing:-0.0563em;">1.0.0</span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0563em;">，而不是 </span><span class="stl_38 stl_08 stl_102" style="word-spacing:-0.0563em;">0.0.1</span><span class="stl_57 stl_08 stl_102" style="word-spacing:-0.0563em;">，正式发布的类库必须先去中央仓库进行查证，使版 &nbsp;</span></div>
					<div class="stl_01" style="top:54.7783em; left:6.5438em;"><span class="stl_57 stl_08 stl_39" style="word-spacing:0.2106em;">本号有延续性，正式版本号不允许覆盖升级。如当前版本：</span><span class="stl_38 stl_08 stl_39" style="word-spacing:0.2106em;">1.3.3</span><span class="stl_57 stl_08 stl_39" style="word-spacing:0.2106em;">，那么下一个合理的版本号：</span><span class="stl_38 stl_08 stl_39" style="word-spacing:0.2106em;">1.3.4 </span><span class="stl_57 stl_08 stl_39" style="word-spacing:0.2106em;">或 &nbsp;</span></div>
					<div class="stl_01" style="top:56.5283em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:56.5283em; left:7.0635em;"><span class="stl_38 stl_08 stl_108" style="word-spacing:0.2113em;">.4.0 </span><span class="stl_57 stl_08 stl_108" style="word-spacing:0.2113em;">或 </span><span class="stl_38 stl_08 stl_108" style="word-spacing:0.2113em;">2.0.0 &nbsp;</span></div>
					<div class="stl_01" style="top:58.8336em; left:5.0438em;"><span class="stl_27 stl_08 stl_64" style="word-spacing:0.3809em;">3. </span><span class="stl_53 stl_08 stl_64" style="word-spacing:0.3809em;">【强制】</span><span class="stl_23 stl_08 stl_64" style="word-spacing:0.3809em;">线上应用不要依赖</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0467em;"> SNAPSHOT</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0261em;"> 版本</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0298em;">（</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0261em;">安全包除外</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0298em;">）。 &nbsp;</span></div>
					<div class="stl_01" style="top:60.6758em; left:6.5438em;"><span class="stl_56 stl_08 stl_30" style="word-spacing:-0.0317em;">说明：</span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0317em;">不依赖 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0317em;">SNAPSHOT </span><span class="stl_57 stl_08 stl_30" style="word-spacing:-0.0317em;">版本是保证应用发布的幂等性。另外，也可以加快编译时的打包构建。 &nbsp;</span></div>
					<div class="stl_01" style="top:62.9605em; left:5.0438em;"><span class="stl_27 stl_08 stl_12" style="word-spacing:0.3802em;">4. </span><span class="stl_53 stl_08 stl_12" style="word-spacing:0.3802em;">【强制】</span><span class="stl_65 stl_08 stl_12" style="word-spacing:0.3802em;">二方库的新增或升级，保持除功能点之外的其它</span><span class="stl_143 stl_71 stl_12" style="word-spacing:-0.0374em;"> jar</span><span class="stl_65 stl_08 stl_12" style="word-spacing:0.0062em;"> 包仲裁结果不变。如果有改变， &nbsp;</span></div>
					<div class="stl_01" style="top:64.7523em; left:6.5438em;"><span class="stl_65 stl_08 stl_37">必须明确评估和验证。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">8/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_45.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_45.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.1416em; left:6.5438em;"><span class="stl_56 stl_08 stl_64" style="word-spacing:-0.0143em;">说明：</span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0143em;">在升级时，进行 </span><span class="stl_70 stl_71 stl_64" style="word-spacing:-0.0143em;">dependency:resolve </span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.0143em;">前后信息比对，如果仲裁结果完全不一致，那么通过 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9125em; left:6.5438em;"><span class="stl_70 stl_71 stl_64" style="word-spacing:-0.01em;">dependency:tree </span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.01em;">命令，找出差异点，进行</span><span class="stl_70 stl_71 stl_64" style="word-spacing:-0.01em;">&lt;exclude&gt;</span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.01em;">排除 </span><span class="stl_70 stl_71 stl_64" style="word-spacing:-0.01em;">jar </span><span class="stl_66 stl_08 stl_64" style="word-spacing:-0.01em;">包。 &nbsp;</span></div>
					<div class="stl_01" style="top:7.2152em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">5. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">二方库里可以定义枚举类型，参数可以使用枚举类型，但是接口返回值不允许使用 &nbsp;</span></div>
					<div class="stl_01" style="top:8.9861em; left:6.5438em;"><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0374em;">枚举类型或者包含枚举类型的 </span><span class="stl_38 stl_08 stl_37" style="word-spacing:-0.0428em;">POJO </span><span class="stl_23 stl_08 stl_37" style="word-spacing:-0.0374em;">对象。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.3627em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">6</span></div>
					<div class="stl_01" style="top:11.3627em; left:5.6271em;"><span class="stl_27 stl_08 stl_20" style="word-spacing:0.3795em;">. </span><span class="stl_53 stl_08 stl_20" style="word-spacing:0.3795em;">【强制】</span><span class="stl_23 stl_08 stl_20" style="word-spacing:0.3795em;">依赖于一个二方库群时，必须定义一个统一的版本变量，避免版本号不一致。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.2242em; left:6.5438em;"><span class="stl_56 stl_08 stl_12" style="word-spacing:-0.0339em;">说明：</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0339em;">依赖 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0339em;">springframework-core,-context,-beans</span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0339em;">，它们都是同一个版本，可以定义一个变量来保存 &nbsp;</span></div>
					<div class="stl_01" style="top:14.995em; left:6.5438em;"><span class="stl_57 stl_08 stl_15">版本：</span><span class="stl_38 stl_08 stl_15">${spring.version}</span><span class="stl_57 stl_08 stl_15">，定义依赖的时候，引用该版本。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.2819em; left:5.0438em;"><span class="stl_27 stl_08 stl_24" style="word-spacing:0.3796em;">7. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3796em;">【强制】</span><span class="stl_23 stl_08 stl_24" style="word-spacing:0.3796em;">禁止在子项目的</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0482em;"> pom</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0361em;"> 依赖中出现相同的</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.048em;"> GroupId</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.042em;">，相同的</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.051em;"> ArtifactId</span><span class="stl_23 stl_08 stl_24" style="word-spacing:-0.0447em;">，但是不同的 &nbsp;</span></div>
					<div class="stl_01" style="top:19.0527em; left:6.5438em;"><span class="stl_38 stl_08 stl_61">Version</span><span class="stl_23 stl_08 stl_98">。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.8933em; left:6.5438em;"><span class="stl_56 stl_08 stl_26" style="word-spacing:-0.0222em;">说明：</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0222em;">在本地调试时会使用各子项目指定的版本号，但是合并成一个 </span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0222em;">war</span><span class="stl_57 stl_08 stl_26" style="word-spacing:-0.0222em;">，只能有一个版本号出现在最后 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6642em; left:6.5438em;"><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0294em;">的 </span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0294em;">lib </span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0294em;">目录中。可能出现线下调试是正确的，发布到线上却出故障的问题。 &nbsp;</span></div>
					<div class="stl_01" style="top:24.9711em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:24.9711em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_17 stl_08 stl_15" style="word-spacing:0.3799em;">【推荐】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3799em;">底层基础技术框架、核心数据管理平台、或近硬件端系统谨慎引入第三方实现。 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3461em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3798em;">. </span><span class="stl_17 stl_08 stl_15" style="word-spacing:0.3798em;">【推荐】</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3798em;">所有</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0499em;"> pom</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0359em;"> 文件中的依赖声明放在</span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0359em;">&lt;</span><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.041em;">dependencies</span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0359em;">&gt;</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0359em;">语句块中，所有版本仲裁放在 &nbsp;</span></div>
					<div class="stl_01" style="top:27.3461em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">9</span></div>
					<div class="stl_01" style="top:29.1169em; left:6.5438em;"><span class="stl_27 stl_08 stl_09">&lt;</span></div>
					<div class="stl_01" style="top:29.1169em; left:7.2938em;"><span class="stl_38 stl_08 stl_90">dependencyManagement</span><span class="stl_27 stl_08 stl_102">&gt;</span><span class="stl_23 stl_08 stl_102">语句块中。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.9592em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_38 stl_08 stl_15">&lt;dependencyManagement&gt;</span><span class="stl_57 stl_08 stl_15">里只是声明版本，并不实现引入，因此子项目需要显式的声明依 &nbsp;</span></div>
					<div class="stl_01" style="top:32.73em; left:6.5438em;"><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0295em;">赖，</span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0295em;">version </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0295em;">和 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0295em;">scope </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0295em;">都读取自父 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0295em;">pom</span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0295em;">。而</span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0295em;">&lt;dependencies&gt;</span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0295em;">所有声明在主 </span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0295em;">pom </span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0295em;">的</span><span class="stl_38 stl_08 stl_98" style="word-spacing:-0.0295em;">&lt;dependencies&gt;</span><span class="stl_57 stl_08 stl_98" style="word-spacing:-0.0295em;">里 &nbsp;</span></div>
					<div class="stl_01" style="top:34.5008em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">的依赖都会自动引入，并默认被所有的子项目继承。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.7852em; left:5.0438em;"><span class="stl_27 stl_08 stl_200">10.</span><span class="stl_17 stl_08 stl_200">【推荐】</span><span class="stl_23 stl_08 stl_200">二方库不要有配置项，最低限度不要再增加配置项。 &nbsp;</span></div>
					<div class="stl_01" style="top:39.1836em; left:5.0438em;"><span class="stl_27 stl_08 stl_116">11.</span><span class="stl_100 stl_08 stl_116">【参考】</span><span class="stl_23 stl_08 stl_116">为避免应用二方库的依赖冲突问题，二方库发布者应当遵循以下原则： &nbsp;</span></div>
					<div class="stl_01" style="top:41.0242em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:41.0242em; left:7.0646em;"><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.031em;">）</span><span class="stl_217 stl_08 stl_49" style="font-weight:bold; word-spacing:-0.031em;">精简可控原则</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.031em;">。移除一切不必要的 </span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.031em;">API</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0368em;"> 和依赖，只包含</span><span class="stl_38 stl_08 stl_49" style="word-spacing:0.2073em;"> Service</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0072em;"> API</span><span class="stl_57 stl_08 stl_49" style="word-spacing:-0.0072em;">、必要的领域模型对象、</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0072em;">Utils &nbsp;</span></div>
					<div class="stl_01" style="top:42.795em; left:6.5438em;"><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0253em;">类、常量、枚举等。如果依赖其它二方库，尽量是 </span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0253em;">provided </span><span class="stl_57 stl_08 stl_12" style="word-spacing:-0.0253em;">引入，让二方库使用者去依赖具体版本号； &nbsp;</span></div>
					<div class="stl_01" style="top:44.5658em; left:6.5438em;"><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0311em;">无 </span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0311em;">log </span><span class="stl_57 stl_08 stl_24" style="word-spacing:-0.0311em;">具体实现，只依赖日志框架。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.3175em; left:6.5438em;"><span class="stl_38 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:46.3175em; left:7.0646em;"><span class="stl_57 stl_08 stl_15">）</span><span class="stl_217 stl_08 stl_15" style="font-weight:bold;">稳定可追溯原则</span><span class="stl_57 stl_08 stl_15">。每个版本的变化应该被记录，二方库由谁维护，源码在哪里，都需要能方便查到。 &nbsp;</span></div>
					<div class="stl_01" style="top:48.0883em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">除非用户主动升级版本，否则公共二方库的行为不应该发生变化。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.3045em; left:3.5438em;"><span class="stl_51 stl_08 stl_26" style="word-spacing:0.3704em;">(</span><span class="stl_52 stl_08 stl_26" style="word-spacing:0.3704em;">三</span><span class="stl_51 stl_08 stl_26" style="word-spacing:0.3704em;">) </span><span class="stl_52 stl_08 stl_26" style="word-spacing:0.3704em;">服务器 &nbsp;</span></div>
					<div class="stl_01" style="top:56.6044em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:56.6044em; left:5.6271em;"><span class="stl_27 stl_08 stl_74" style="word-spacing:0.3813em;">. </span><span class="stl_17 stl_08 stl_74" style="word-spacing:0.3813em;">【推荐】</span><span class="stl_23 stl_08 stl_74" style="word-spacing:0.3813em;">高并发服务器建议调小</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0462em;"> TCP</span><span class="stl_23 stl_08 stl_74" style="word-spacing:-0.0203em;"> 协议的</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.051em;"> time</span><span class="stl_27 stl_08 stl_74" style="word-spacing:-0.0446em;">_</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.051em;">wait</span><span class="stl_23 stl_08 stl_74" style="word-spacing:-0.0218em;"> 超时时间。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.4658em; left:6.5438em;"><span class="stl_56 stl_08 stl_87" style="word-spacing:-0.0233em;">说明：</span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0233em;">操作系统默认 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0233em;">240 </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0233em;">秒后，才会关闭处于 </span><span class="stl_38 stl_08 stl_87" style="word-spacing:-0.0233em;">time_wait </span><span class="stl_57 stl_08 stl_87" style="word-spacing:-0.0233em;">状态的连接，在高并发访问下，服务器端会因为 &nbsp;</span></div>
					<div class="stl_01" style="top:60.2183em; left:6.5438em;"><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0248em;">处于 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0248em;">time_wait </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0248em;">的连接数太多，可能无法建立新的连接，所以需要在服务器上调小此等待值。 &nbsp;</span></div>
					<div class="stl_01" style="top:61.9887em; left:6.5438em;"><span class="stl_58 stl_08 stl_94" style="word-spacing:-0.0281em;">正例：</span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0281em;">在 </span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0281em;">linux </span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0281em;">服务器上请通过变更</span><span class="stl_38 stl_08 stl_94" style="word-spacing:-0.0281em;">/etc/sysctl.conf </span><span class="stl_57 stl_08 stl_94" style="word-spacing:-0.0281em;">文件去修改该缺省值（秒）： &nbsp;</span></div>
					<div class="stl_01" style="top:63.7596em; left:8.7333em;"><span class="stl_38 stl_08 stl_15" style="word-spacing:-0.0082em;">net.ipv4.tcp_fin_timeout = 30 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">3</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">9/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_46.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_46.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.6271em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3793em;">. </span><span class="stl_17 stl_08 stl_13" style="word-spacing:0.3793em;">【推荐】</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3793em;">调大服务器所支持的最大文件句柄数</span><span class="stl_57 stl_08 stl_13" style="word-spacing:0.4335em;">（</span><span class="stl_38 stl_08 stl_13" style="word-spacing:0.4335em;">File</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0041em;"> Descriptor</span><span class="stl_23 stl_08 stl_13" style="word-spacing:-0.0036em;">，简写为</span><span class="stl_38 stl_08 stl_13" style="word-spacing:-0.0041em;"> fd</span><span class="stl_57 stl_08 stl_13" style="word-spacing:-0.0041em;">）</span><span class="stl_23 stl_08 stl_13" style="word-spacing:-0.0036em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5438em;"><span class="stl_56 stl_08 stl_74" style="word-spacing:-0.025em;">说明：</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.025em;">主流操作系统的设计是将 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.025em;">TCP/UDP </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.025em;">连接采用与文件一样的方式去管理，即一个连接对应于一个 &nbsp;</span></div>
					<div class="stl_01" style="top:6.6808em; left:6.5438em;"><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0339em;">fd</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0339em;">。主流的 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0339em;">linux </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0339em;">服务器默认所支持最大 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0339em;">fd </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0339em;">数量为 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0339em;">1024</span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0339em;">，当并发连接数很大时很容易因为 </span><span class="stl_38 stl_08 stl_74" style="word-spacing:-0.0339em;">fd </span><span class="stl_57 stl_08 stl_74" style="word-spacing:-0.0339em;">不足而出现 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4517em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">“</span></div>
					<div class="stl_01" style="top:8.4517em; left:7.4188em;"><span class="stl_57 stl_08 stl_37" style="word-spacing:-0.0206em;">open too many files”错误，导致新的连接无法建立。建议将 </span><span class="stl_38 stl_08 stl_37" style="word-spacing:-0.0206em;">linux </span><span class="stl_57 stl_08 stl_37" style="word-spacing:-0.0206em;">服务器所支持的最大句柄数调高数 &nbsp;</span></div>
					<div class="stl_01" style="top:10.2033em; left:6.5438em;"><span class="stl_57 stl_08 stl_37">倍（与服务器的内存数量相关）。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.8626em; left:5.0438em;"><span class="stl_27 stl_08 stl_49" style="word-spacing:0.381em;">3. </span><span class="stl_17 stl_08 stl_49" style="word-spacing:0.381em;">【推荐】</span><span class="stl_65 stl_08 stl_49" style="word-spacing:0.381em;">给</span><span class="stl_143 stl_71 stl_49" style="word-spacing:-0.0449em;"> JVM</span><span class="stl_65 stl_08 stl_49" style="word-spacing:-0.0006em;"> 环境参数设置</span><span class="stl_143 stl_71 stl_49" style="word-spacing:-0.0006em;">-XX:+HeapDumpOnOutOfMemoryError</span><span class="stl_65 stl_08 stl_49" style="word-spacing:-0.0243em;"> 参数，让 </span><span class="stl_143 stl_71 stl_49" style="word-spacing:-0.0243em;">JVM</span><span class="stl_65 stl_08 stl_49" style="word-spacing:-0.0014em;"> 碰到 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6334em; left:6.5438em;"><span class="stl_143 stl_71 stl_214" style="word-spacing:-0.0137em;">OOM </span><span class="stl_65 stl_08 stl_214" style="word-spacing:-0.0137em;">场景时输出 </span><span class="stl_143 stl_71 stl_214" style="word-spacing:-0.0137em;">dump </span><span class="stl_65 stl_08 stl_214" style="word-spacing:-0.0137em;">信息。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.4766em; left:6.5438em;"><span class="stl_56 stl_08 stl_24" style="word-spacing:-0.0057em;">说明：</span><span class="stl_70 stl_71 stl_24" style="word-spacing:-0.0057em;">OOM </span><span class="stl_66 stl_08 stl_24" style="word-spacing:-0.0057em;">的发生是有概率的，甚至相隔数月才出现一例，出错时的堆内信息对解决问题非常有帮助。 &nbsp;</span></div>
					<div class="stl_01" style="top:17.8027em; left:5.0438em;"><span class="stl_27 stl_08 stl_64" style="word-spacing:0.3809em;">4. </span><span class="stl_17 stl_08 stl_64" style="word-spacing:0.3809em;">【推荐】</span><span class="stl_23 stl_08 stl_64" style="word-spacing:0.3809em;">在线上生产环境，</span><span class="stl_38 stl_08 stl_49" style="word-spacing:0.4353em;">JVM</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0293em;"> 的</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0515em;"> Xms</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0352em;"> 和</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0515em;"> Xmx</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0345em;"> 设置一样大小的内存容量，避免在</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0515em;"> GC</span><span class="stl_23 stl_08 stl_64" style="word-spacing:0.2416em;"> 后调整 &nbsp;</span></div>
					<div class="stl_01" style="top:19.5527em; left:6.5438em;"><span class="stl_23 stl_08 stl_09">堆大小带来的压力。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.9477em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">5. </span><span class="stl_100 stl_08 stl_09" style="word-spacing:0.3801em;">【参考】</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">服务器内部重定向使用</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0476em;"> forward</span><span class="stl_57 stl_08 stl_09" style="word-spacing:-0.0476em;">；</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0417em;">外部重定向地址使用</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0477em;"> URL</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0213em;"> 拼装工具类来生成，否则 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7211em; left:6.5438em;"><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0326em;">会带来 </span><span class="stl_38 stl_08 stl_30" style="word-spacing:-0.0373em;">URL </span><span class="stl_23 stl_08 stl_30" style="word-spacing:-0.0326em;">维护不一致的问题和潜在的安全风险。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">4</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">0/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_47.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_47.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.3727em; left:3.5438em;"><span class="stl_50 stl_08 stl_24">七、设计规约 &nbsp;</span></div>
					<div class="stl_01" style="top:7.5902em; left:5.0438em;"><span class="stl_78 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:7.5902em; left:5.6271em;"><span class="stl_78 stl_08 stl_24" style="word-spacing:0.3797em;">. </span><span class="stl_53 stl_08 stl_24" style="word-spacing:0.3797em;">【强制】</span><span class="stl_22 stl_08 stl_24" style="word-spacing:0.3797em;">存储方案</span><span class="stl_65 stl_08 stl_24" style="word-spacing:0.3797em;">和</span><span class="stl_22 stl_08 stl_24" style="word-spacing:0.3797em;">底层数据结构</span><span class="stl_65 stl_08 stl_24" style="word-spacing:0.3797em;">的设计获得评审一致通过，并沉淀成为文档。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.4517em; left:6.5438em;"><span class="stl_56 stl_08 stl_13">说明：</span><span class="stl_66 stl_08 stl_13">有缺陷的底层数据结构容易导致系统风险上升，可扩展性下降，重构成本也会因历史数据迁移和系 &nbsp;</span></div>
					<div class="stl_01" style="top:11.2033em; left:6.5438em;"><span class="stl_66 stl_08 stl_15">统平滑过渡而陡然增加，所以，存储方案和数据结构需要认真地进行设计和评审，生产环境提交执行后， &nbsp;</span></div>
					<div class="stl_01" style="top:12.9742em; left:6.5438em;"><span class="stl_66 stl_08 stl_139" style="word-spacing:-0.0233em;">需要进行 </span><span class="stl_67 stl_08 stl_139" style="word-spacing:-0.0233em;">double check</span><span class="stl_66 stl_08 stl_139" style="word-spacing:-0.0233em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:14.745em; left:6.5438em;"><span class="stl_58 stl_08 stl_15">正例：</span><span class="stl_66 stl_08 stl_15">评审内容包括存储介质选型、表结构设计能否满足技术方案、存取性能和存储空间能否满足业务发 &nbsp;</span></div>
					<div class="stl_01" style="top:16.495em; left:6.5438em;"><span class="stl_66 stl_08 stl_20">展、表或字</span><span class="stl_57 stl_08 stl_20">段之间的辩证关系、字段名称、字段类型、索引等；数据结构变更（如在原有表中新增字段） &nbsp;</span></div>
					<div class="stl_01" style="top:18.2683em; left:6.5438em;"><span class="stl_57 stl_08 stl_09">也需要进行评审通过后上线。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.9277em; left:5.0438em;"><span class="stl_78 stl_08 stl_30" style="word-spacing:0.3807em;">2. </span><span class="stl_53 stl_08 stl_30" style="word-spacing:0.3807em;">【强制】</span><span class="stl_65 stl_08 stl_30" style="word-spacing:0.3807em;">在需求分析阶段，如果与系统交互的</span><span class="stl_78 stl_08 stl_30" style="word-spacing:-0.0386em;"> User</span><span class="stl_65 stl_08 stl_30" style="word-spacing:-0.0496em;"> 超过</span><span class="stl_22 stl_08 stl_30" style="word-spacing:-0.0496em;">一类</span><span class="stl_65 stl_08 stl_30" style="word-spacing:-0.0496em;">并且相关的</span><span class="stl_78 stl_08 stl_30" style="word-spacing:-0.0428em;"> User</span><span class="stl_78 stl_08 stl_30" style="word-spacing:-0.035em;"> Case </span><span class="stl_65 stl_08 stl_30" style="word-spacing:-0.035em;">超过</span><span class="stl_21 stl_08 stl_30" style="word-spacing:-0.035em;"> 5 &nbsp;</span></div>
					<div class="stl_01" style="top:22.6977em; left:6.5438em;"><span class="stl_22 stl_08 stl_15">个</span><span class="stl_65 stl_08 stl_15">，使用用例图来表达更加清晰的结构化需求。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.4711em; left:5.0438em;"><span class="stl_78 stl_08 stl_09" style="word-spacing:0.3801em;">3. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_65 stl_08 stl_09" style="word-spacing:0.3801em;">如果某个业务对象的状态超过</span><span class="stl_21 stl_08 stl_09" style="word-spacing:-0.0392em;"> 3</span><span class="stl_22 stl_08 stl_09" style="word-spacing:-0.0392em;"> 个</span><span class="stl_65 stl_08 stl_09" style="word-spacing:-0.0489em;">，使用状态图来表达并且明确状态变化的各个触 &nbsp;</span></div>
					<div class="stl_01" style="top:27.2211em; left:6.5438em;"><span class="stl_65 stl_08 stl_09">发条件。 &nbsp;</span></div>
					<div class="stl_01" style="top:29.0825em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">状态图的核心是对象状态，首先明确对象有多少种状态，然后明确两两状态之间是否存在直接转换 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8325em; left:6.5438em;"><span class="stl_66 stl_08 stl_09">关系，再明确触发状态转换的条件是什么。 &nbsp;</span></div>
					<div class="stl_01" style="top:32.605em; left:6.5438em;"><span class="stl_58 stl_08 stl_15">正例：</span><span class="stl_66 stl_08 stl_15">淘宝订单状态有已下单、待付款、已付款、待发货、已发货、已收货等。比如已下单与已收货这两 &nbsp;</span></div>
					<div class="stl_01" style="top:34.3758em; left:6.5438em;"><span class="stl_66 stl_08 stl_09">种状态之间是不可能有直接转换关系的。 &nbsp;</span></div>
					<div class="stl_01" style="top:37.0352em; left:5.0438em;"><span class="stl_78 stl_08 stl_09" style="word-spacing:0.3801em;">4. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.3801em;">【强制】</span><span class="stl_65 stl_08 stl_09" style="word-spacing:0.3801em;">如果系统中某个功能的调用链路上的涉及对象超过</span><span class="stl_21 stl_08 stl_09" style="word-spacing:-0.0358em;"> 3</span><span class="stl_22 stl_08 stl_09" style="word-spacing:-0.0358em;"> 个</span><span class="stl_65 stl_08 stl_09" style="word-spacing:-0.0481em;">，使用时序图来表达并且明 &nbsp;</span></div>
					<div class="stl_01" style="top:38.8086em; left:6.5438em;"><span class="stl_65 stl_08 stl_09">确各调用环节的输入与输出。 &nbsp;</span></div>
					<div class="stl_01" style="top:40.6492em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">时序图反映了一系列对象间的交互与协作关系，清晰立体地反映系统的调用纵深链路。 &nbsp;</span></div>
					<div class="stl_01" style="top:43.3294em; left:5.0438em;"><span class="stl_78 stl_08 stl_09" style="word-spacing:0.38em;">5. </span><span class="stl_53 stl_08 stl_09" style="word-spacing:0.38em;">【强制】</span><span class="stl_65 stl_08 stl_09" style="word-spacing:0.38em;">如果系统中模型类超过</span><span class="stl_21 stl_08 stl_09" style="word-spacing:-0.0418em;"> 5</span><span class="stl_22 stl_08 stl_09" style="word-spacing:-0.0418em;"> 个</span><span class="stl_65 stl_08 stl_09" style="word-spacing:-0.0491em;">，并且存在复杂的依赖关系，使用类图来表达并且明确 &nbsp;</span></div>
					<div class="stl_01" style="top:45.1019em; left:6.5438em;"><span class="stl_65 stl_08 stl_09">类之间的关系。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.9425em; left:6.5438em;"><span class="stl_56 stl_08 stl_15" style="word-spacing:-0.0289em;">说明：</span><span class="stl_66 stl_08 stl_15" style="word-spacing:-0.0289em;">类图像建筑领域的施工图，如果搭平房，可能不需要，但如果建造蚂蚁 </span><span class="stl_67 stl_08 stl_15" style="word-spacing:-0.0289em;">Z </span><span class="stl_66 stl_08 stl_15" style="word-spacing:-0.0289em;">空间大楼，肯定需要详细 &nbsp;</span></div>
					<div class="stl_01" style="top:48.7133em; left:6.5438em;"><span class="stl_66 stl_08 stl_09">的施工图。 &nbsp;</span></div>
					<div class="stl_01" style="top:51.3727em; left:5.0438em;"><span class="stl_78 stl_08 stl_09">6</span></div>
					<div class="stl_01" style="top:57.6669em; left:5.0438em;"><span class="stl_78 stl_08 stl_09">7</span></div>
					<div class="stl_01" style="top:63.9606em; left:5.0438em;"><span class="stl_78 stl_08 stl_09">8</span></div>
					<div class="stl_01" style="top:51.3727em; left:5.6271em;"><span class="stl_78 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_53 stl_08 stl_15" style="word-spacing:0.3799em;">【强制】</span><span class="stl_65 stl_08 stl_15" style="word-spacing:0.3799em;">如果系统中超过</span><span class="stl_21 stl_08 stl_15" style="word-spacing:-0.0418em;"> 2</span><span class="stl_22 stl_08 stl_15" style="word-spacing:-0.0418em;"> 个</span><span class="stl_65 stl_08 stl_15" style="word-spacing:-0.0491em;">对象之间存在协作关系，并且需要表示复杂的处理流程，使用 &nbsp;</span></div>
					<div class="stl_01" style="top:53.1461em; left:6.5438em;"><span class="stl_65 stl_08 stl_09">活动图来表示。 &nbsp;</span></div>
					<div class="stl_01" style="top:55.0075em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">活动图是流程图的扩展，增加了能够体现协作关系的对象泳道，支持表示并发等。 &nbsp;</span></div>
					<div class="stl_01" style="top:57.6669em; left:5.6271em;"><span class="stl_78 stl_08 stl_15" style="word-spacing:0.3799em;">. </span><span class="stl_17 stl_08 stl_15" style="word-spacing:0.3799em;">【推荐】</span><span class="stl_65 stl_08 stl_15" style="word-spacing:0.3799em;">需求分析与系统设计在考虑主干功能的同时，需要充分评估异常流程与业务边界。 &nbsp;</span></div>
					<div class="stl_01" style="top:59.53em; left:6.5438em;"><span class="stl_54 stl_08 stl_15">反例：</span><span class="stl_66 stl_08 stl_15">用户在淘宝付款过程中，银行扣款成功，发送给用户扣款成功短信，但是支付宝入款时由于断网演 &nbsp;</span></div>
					<div class="stl_01" style="top:61.2804em; left:6.5438em;"><span class="stl_66 stl_08 stl_09">练产生异常，淘宝订单页面依然显示未付款，导致用户投诉。 &nbsp;</span></div>
					<div class="stl_01" style="top:63.9606em; left:5.6271em;"><span class="stl_78 stl_08 stl_15" style="word-spacing:0.3798em;">. </span><span class="stl_17 stl_08 stl_15" style="word-spacing:0.3798em;">【推荐】</span><span class="stl_65 stl_08 stl_15" style="word-spacing:0.3798em;">类在设计与实现时要符合单一原则。 &nbsp;</span></div>
					<div class="stl_01" style="top:65.8221em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">单一原则最易理解却是最难实现的一条规则，随着系统演进，很多时候，忘记了类设计的初衷。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">4</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">1/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_48.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_48.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.0438em;"><span class="stl_78 stl_08 stl_09">9</span></div>
					<div class="stl_01" style="top:3.0694em; left:5.6271em;"><span class="stl_78 stl_08 stl_39" style="word-spacing:0.3788em;">. </span><span class="stl_17 stl_08 stl_39" style="word-spacing:0.3788em;">【推荐】</span><span class="stl_65 stl_08 stl_39" style="word-spacing:0.3788em;">谨慎使用继承的方式来进行扩展，优先使用聚合</span><span class="stl_78 stl_08 stl_39" style="word-spacing:0.3788em;">/</span><span class="stl_65 stl_08 stl_39" style="word-spacing:0.3788em;">组合的方式来实现。 &nbsp;</span></div>
					<div class="stl_01" style="top:4.9308em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">不得已使用继承的话，必须符合里氏代换原则，此原则说父类能够出现的地方子类一定能够出现， &nbsp;</span></div>
					<div class="stl_01" style="top:6.6808em; left:6.5438em;"><span class="stl_66 stl_08 stl_24">比如，“把钱交出来”，钱的子类美元、欧元、人民币等都可以出现。 &nbsp;</span></div>
					<div class="stl_01" style="top:9.3611em; left:5.0438em;"><span class="stl_78 stl_08 stl_114">10.</span><span class="stl_17 stl_08 stl_114">【推荐】</span><span class="stl_65 stl_08 stl_114">系统设计时，根据依赖倒置原则，尽量依赖抽象类与接口，有利于扩展与维护。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.2033em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">低层次模块依赖于高层次模块的抽象，方便系统间的解耦。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.8836em; left:5.0438em;"><span class="stl_78 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:13.8836em; left:5.6271em;"><span class="stl_78 stl_08 stl_157">1.</span><span class="stl_17 stl_08 stl_157">【推荐】</span><span class="stl_65 stl_08 stl_157">系统设计时，注意对扩展开放，对修改闭合。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.745em; left:6.5438em;"><span class="stl_56 stl_08 stl_20">说明：</span><span class="stl_66 stl_08 stl_20">极端情况下，交付线上生产环境的代码都是不可修改的，同一业务域内的需求变化，通过模块或类 &nbsp;</span></div>
					<div class="stl_01" style="top:17.4975em; left:6.5438em;"><span class="stl_66 stl_08 stl_09">的扩展来实现。 &nbsp;</span></div>
					<div class="stl_01" style="top:20.1777em; left:5.0438em;"><span class="stl_78 stl_08 stl_63">12.</span><span class="stl_17 stl_08 stl_63">【推荐】</span><span class="stl_65 stl_08 stl_63">系统设计阶段，共性业务或公共行为抽取出来公共模块、公共配置、公共类、公共 &nbsp;</span></div>
					<div class="stl_01" style="top:21.9277em; left:6.5438em;"><span class="stl_65 stl_08 stl_13">方法等，避免出现重复代码或重复配置的情况。 &nbsp;</span></div>
					<div class="stl_01" style="top:23.7892em; left:6.5438em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">随着代码的重复次数不断增加，维护成本指数级上升。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.4711em; left:5.0229em;"><span class="stl_78 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:26.4711em; left:5.6063em;"><span class="stl_78 stl_08 stl_218" style="word-spacing:0.1986em;">3.</span><span class="stl_17 stl_08 stl_218" style="word-spacing:0.1986em;">【推荐】</span><span class="stl_65 stl_08 stl_218" style="word-spacing:0.1986em;">避免如下误解：</span><span class="stl_10 stl_08 stl_218" style="word-spacing:0.1986em;">敏捷开发 </span><span class="stl_11 stl_08 stl_218" style="word-spacing:0.1986em;">= </span><span class="stl_10 stl_08 stl_218" style="word-spacing:0.1986em;">讲故事 </span><span class="stl_11 stl_08 stl_218" style="word-spacing:0.1986em;">+</span><span class="stl_10 stl_08 stl_218" style="word-spacing:0.1941em;"> 编码 </span><span class="stl_11 stl_08 stl_218" style="word-spacing:0.1941em;">+</span><span class="stl_10 stl_08 stl_218" style="word-spacing:0.1941em;"> 发布。 &nbsp;</span></div>
					<div class="stl_01" style="top:28.3117em; left:6.5229em;"><span class="stl_56 stl_08 stl_15">说明：</span><span class="stl_66 stl_08 stl_15">敏捷开发是快速交付迭代可用的系统，省略多余的设计方案，摒弃传统的审批流程，但核心关键点 &nbsp;</span></div>
					<div class="stl_01" style="top:30.0825em; left:6.5229em;"><span class="stl_66 stl_08 stl_09">上的必要设计和文档沉淀是需要的。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.8342em; left:6.5438em;"><span class="stl_54 stl_08 stl_13">反例：</span><span class="stl_66 stl_08 stl_13">某团队为了业务快速发展，敏捷成了产品经理催进度的借口，系统中均是勉强能运行但像面条一样 &nbsp;</span></div>
					<div class="stl_01" style="top:33.605em; left:6.5438em;"><span class="stl_66 stl_08 stl_37">的代码，可维护性和可扩展性极差，一年之后，不得不进行大规模重构，得不偿失。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.2852em; left:5.0438em;"><span class="stl_78 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:36.2852em; left:5.6271em;"><span class="stl_78 stl_08 stl_150">4.</span><span class="stl_100 stl_08 stl_150">【参考】</span><span class="stl_65 stl_08 stl_150">系统设计主要目的是明确需求、理顺逻辑、后期维护，次要目的用于指导编码。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.1283em; left:6.5438em;"><span class="stl_56 stl_08 stl_20">说明：</span><span class="stl_66 stl_08 stl_20">避免为了设计而设计，系统设计文档有助于后期的系统维护和重构，所以设计结果需要进行分类归 &nbsp;</span></div>
					<div class="stl_01" style="top:39.8992em; left:6.5438em;"><span class="stl_66 stl_08 stl_09">档保存。 &nbsp;</span></div>
					<div class="stl_01" style="top:42.5586em; left:5.0438em;"><span class="stl_78 stl_08 stl_47">15.</span><span class="stl_100 stl_08 stl_47">【参考】</span><span class="stl_65 stl_08 stl_47">设计的本质就是识别和表达系统难点，找到系统的变化点，并隔离变化点。 &nbsp;</span></div>
					<div class="stl_01" style="top:44.42em; left:6.5438em;"><span class="stl_56 stl_08 stl_37">说明：</span><span class="stl_66 stl_08 stl_37">世间众多设计模式目的是相同的，即隔离系统变化点。 &nbsp;</span></div>
					<div class="stl_01" style="top:47.1019em; left:5.0229em;"><span class="stl_78 stl_08 stl_204">16.</span><span class="stl_100 stl_08 stl_204">【参考】</span><span class="stl_65 stl_08 stl_204">系统架构设计的目的： &nbsp;</span></div>
					<div class="stl_01" style="top:49.4317em; left:8.0458em;"><span class="stl_195 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:51.5151em; left:8.0458em;"><span class="stl_195 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:53.5801em; left:8.0458em;"><span class="stl_195 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:55.6634em; left:8.0458em;"><span class="stl_195 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:49.255em; left:9.5458em;"><span class="stl_197 stl_08 stl_09">确定系统边界。确定系统在技术层面上的做与不做。 &nbsp;</span></div>
					<div class="stl_01" style="top:51.3383em; left:9.5458em;"><span class="stl_197 stl_08 stl_09">确定系统内模块之间的关系。确定模块之间的依赖关系及模块的宏观输入与输出。 &nbsp;</span></div>
					<div class="stl_01" style="top:53.4033em; left:9.5458em;"><span class="stl_197 stl_08 stl_20">确定指导后续设计与演化的原则。使后续的子系统或模块设计在规定的框架内继续演化。 &nbsp;</span></div>
					<div class="stl_01" style="top:55.4867em; left:9.5458em;"><span class="stl_197 stl_08 stl_09">确定非功能性需求。非功能性需求是指安全性、可用性、可扩展性等。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.1669em; left:5.0438em;"><span class="stl_78 stl_08 stl_219">17.</span><span class="stl_100 stl_08 stl_219">【参考】</span><span class="stl_65 stl_08 stl_219">在做无障碍产品设计时，需要考虑到： &nbsp;</span></div>
					<div class="stl_01" style="top:60.4984em; left:8.0458em;"><span class="stl_195 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:62.5821em; left:8.0458em;"><span class="stl_195 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:64.6447em; left:8.0458em;"><span class="stl_209 stl_196 stl_09">⚫</span></div>
					<div class="stl_01" style="top:60.3217em; left:9.5458em;"><span class="stl_197 stl_08 stl_64" style="word-spacing:-0.027em;">所有可交互的控件元素必须能被 </span><span class="stl_95 stl_08 stl_64" style="word-spacing:-0.027em;">tab </span><span class="stl_197 stl_08 stl_64" style="word-spacing:-0.027em;">键聚焦，并且焦点顺序需符合自然操作逻辑。 &nbsp;</span></div>
					<div class="stl_01" style="top:62.4054em; left:9.5458em;"><span class="stl_197 stl_08 stl_13">用于登陆校验和请求拦截的验证码均需提供图形验证以外的其它方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:64.4679em; left:9.5458em;"><span class="stl_197 stl_08 stl_09">自定义的控件类型需明确交互方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">4</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">2/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_49.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_49.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.7167em; left:3.5438em;"><span class="stl_220 stl_08 stl_178" style="word-spacing:-0.0495em;">附 </span><span class="stl_221 stl_08 stl_178" style="word-spacing:-0.0495em;">1</span><span class="stl_220 stl_08 stl_178" style="word-spacing:-0.0495em;">：版本历史 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4381em; left:4.9396em;"><span class="stl_45 stl_08 stl_09">版本号 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4381em; left:9.2333em;"><span class="stl_45 stl_08 stl_09">版本名 &nbsp;</span></div>
					<div class="stl_01" style="top:11.0439em; left:10.025em;"><span class="stl_153 stl_08 stl_222">-- &nbsp;</span></div>
					<div class="stl_01" style="top:8.4381em; left:13.3608em;"><span class="stl_45 stl_08 stl_09">更新日期 &nbsp;</span></div>
					<div class="stl_01" style="top:8.4381em; left:31.2em;"><span class="stl_45 stl_08 stl_09">备注 &nbsp;</span></div>
					<div class="stl_01" style="top:11.0439em; left:5.7313em;"><span class="stl_153 stl_08 stl_09">-</span></div>
					<div class="stl_01" style="top:11.0439em; left:6.0646em;"><span class="stl_153 stl_08 stl_09">-</span></div>
					<div class="stl_01" style="top:11.0439em; left:12.9233em;"><span class="stl_48 stl_08 stl_12" style="word-spacing:1.1469em;">2016.12.07 </span><span class="stl_45 stl_08 stl_12" style="word-spacing:1.1469em;">试读版本首次对外发布 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6481em; left:4.7729em;"><span class="stl_46 stl_08 stl_116">1.0.0 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6481em; left:9.2333em;"><span class="stl_223 stl_08 stl_09">正式版 &nbsp;</span></div>
					<div class="stl_01" style="top:13.6481em; left:12.9233em;"><span class="stl_48 stl_08 stl_26" style="word-spacing:1.148em;">2017.02.09 </span><span class="stl_45 stl_08 stl_26" style="word-spacing:1.148em;">阿里巴巴集团正式对外发布 &nbsp;</span></div>
					<div class="stl_01" style="top:16.2314em; left:17.8833em;"><span class="stl_46 stl_08 stl_13" style="word-spacing:-0.0467em;">1</span><span class="stl_45 stl_08 stl_13" style="word-spacing:-0.0467em;">）修正 </span><span class="stl_46 stl_08 stl_13" style="word-spacing:-0.0467em;">String[]</span><span class="stl_45 stl_08 stl_13" style="word-spacing:-0.0467em;">的前后矛盾。 &nbsp;</span></div>
					<div class="stl_01" style="top:18.0048em; left:4.7729em;"><span class="stl_46 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:18.0048em; left:5.2124em;"><span class="stl_46 stl_08 stl_154">.0.1 &nbsp;</span></div>
					<div class="stl_01" style="top:18.0048em; left:10.025em;"><span class="stl_153 stl_08 stl_222">-- &nbsp;</span></div>
					<div class="stl_01" style="top:23.2331em; left:10.025em;"><span class="stl_153 stl_08 stl_222">-- &nbsp;</span></div>
					<div class="stl_01" style="top:18.0048em; left:12.9233em;"><span class="stl_48 stl_08 stl_09" style="word-spacing:1.1477em;">2017.02.13 </span><span class="stl_46 stl_08 stl_09" style="word-spacing:1.1477em;">2</span><span class="stl_45 stl_08 stl_09" style="word-spacing:1.1477em;">）</span><span class="stl_46 stl_08 stl_09" style="word-spacing:1.1477em;">vm</span><span class="stl_45 stl_08 stl_09" style="word-spacing:-0.0384em;"> 修正成</span><span class="stl_46 stl_08 stl_09" style="word-spacing:-0.0425em;"> velocity</span><span class="stl_45 stl_08 stl_09" style="word-spacing:-0.0425em;">。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.7548em; left:17.8833em;"><span class="stl_46 stl_08 stl_120" style="word-spacing:-0.0426em;">3</span><span class="stl_45 stl_08 stl_120" style="word-spacing:-0.0426em;">）修正 </span><span class="stl_46 stl_08 stl_120" style="word-spacing:-0.0426em;">countdown </span><span class="stl_45 stl_08 stl_120" style="word-spacing:-0.0426em;">描述错误。 &nbsp;</span></div>
					<div class="stl_01" style="top:22.3581em; left:17.8833em;"><span class="stl_46 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:22.3581em; left:18.3208em;"><span class="stl_45 stl_08 stl_15">）去除文底水印。</span><span class="stl_46 stl_08 stl_15">2</span><span class="stl_45 stl_08 stl_15">）数据类型中引用太阳系年龄问题。</span><span class="stl_46 stl_08 stl_15">3</span><span class="stl_45 stl_08 stl_15">）修正关于异常和方法签 &nbsp;</span></div>
					<div class="stl_01" style="top:23.2331em; left:4.7729em;"><span class="stl_46 stl_08 stl_116">1.0.2 &nbsp;</span></div>
					<div class="stl_01" style="top:23.2331em; left:12.9233em;"><span class="stl_48 stl_08 stl_26">2017.02.20 &nbsp;</span></div>
					<div class="stl_01" style="top:27.5898em; left:12.9233em;"><span class="stl_48 stl_08 stl_26">2017.02.27 &nbsp;</span></div>
					<div class="stl_01" style="top:24.1314em; left:17.8833em;"><span class="stl_45 stl_08 stl_108" style="word-spacing:-0.0358em;">名的部分描述。</span><span class="stl_46 stl_08 stl_108" style="word-spacing:-0.0358em;">4</span><span class="stl_45 stl_08 stl_108" style="word-spacing:-0.0358em;">）修正 </span><span class="stl_46 stl_08 stl_108" style="word-spacing:-0.0358em;">final </span><span class="stl_45 stl_08 stl_108" style="word-spacing:-0.0358em;">描述。</span><span class="stl_46 stl_08 stl_108" style="word-spacing:-0.0358em;">5</span><span class="stl_45 stl_08 stl_108" style="word-spacing:-0.0358em;">）去除 </span><span class="stl_46 stl_08 stl_108" style="word-spacing:-0.0358em;">Comparator </span><span class="stl_45 stl_08 stl_108" style="word-spacing:-0.0358em;">部分描述。 &nbsp;</span></div>
					<div class="stl_01" style="top:26.7148em; left:17.8833em;"><span class="stl_46 stl_08 stl_74" style="word-spacing:0.0118em;">1</span><span class="stl_45 stl_08 stl_74" style="word-spacing:0.0118em;">）增加前言。</span><span class="stl_46 stl_08 stl_74" style="word-spacing:0.0118em;">2</span><span class="stl_45 stl_08 stl_74" style="word-spacing:0.0118em;">）增加</span><span class="stl_46 stl_08 stl_74" style="word-spacing:0.0118em;">&lt;? extends T&gt;</span><span class="stl_45 stl_08 stl_74" style="word-spacing:0.0118em;">描述和说明。</span><span class="stl_46 stl_08 stl_74" style="word-spacing:0.0118em;">3</span><span class="stl_45 stl_08 stl_74" style="word-spacing:0.0118em;">）增加版本历史。</span><span class="stl_46 stl_08 stl_74" style="word-spacing:0.0118em;">4</span><span class="stl_45 stl_08 stl_74" style="word-spacing:0.0118em;">）增加专有 &nbsp;</span></div>
					<div class="stl_01" style="top:27.5898em; left:4.7729em;"><span class="stl_46 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:27.5898em; left:5.2104em;"><span class="stl_46 stl_08 stl_211">.1.0 &nbsp;</span></div>
					<div class="stl_01" style="top:31.0706em; left:5.2124em;"><span class="stl_46 stl_08 stl_154">.1.1 &nbsp;</span></div>
					<div class="stl_01" style="top:27.5898em; left:10.025em;"><span class="stl_153 stl_08 stl_222">-- &nbsp;</span></div>
					<div class="stl_01" style="top:31.0706em; left:10.025em;"><span class="stl_153 stl_08 stl_222">-- &nbsp;</span></div>
					<div class="stl_01" style="top:28.4856em; left:17.8833em;"><span class="stl_45 stl_08 stl_09">名词解释。 &nbsp;</span></div>
					<div class="stl_01" style="top:31.0706em; left:4.7729em;"><span class="stl_46 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:31.0706em; left:12.9233em;"><span class="stl_48 stl_08 stl_15" style="word-spacing:1.1462em;">2017.03.31 </span><span class="stl_45 stl_08 stl_15" style="word-spacing:1.1462em;">修正页码总数和部分示例。 &nbsp;</span></div>
					<div class="stl_01" style="top:33.6748em; left:17.8833em;"><span class="stl_46 stl_08 stl_24">1</span><span class="stl_45 stl_08 stl_24">）根据云栖社区的“聚能聊”活动反馈，对手册的页码、排版、描述进行修正。</span><span class="stl_46 stl_08 stl_24">2</span><span class="stl_45 stl_08 stl_24">） &nbsp;</span></div>
					<div class="stl_01" style="top:35.4456em; left:17.8833em;"><span class="stl_45 stl_08 stl_12" style="word-spacing:-0.038em;">增加 </span><span class="stl_46 stl_08 stl_12" style="word-spacing:-0.038em;">final </span><span class="stl_45 stl_08 stl_12" style="word-spacing:-0.038em;">的适用场景描述。</span><span class="stl_46 stl_08 stl_12" style="word-spacing:-0.038em;">3</span><span class="stl_45 stl_08 stl_12" style="word-spacing:-0.038em;">）增加关于锁的粒度的说明。</span><span class="stl_46 stl_08 stl_12" style="word-spacing:-0.038em;">4</span><span class="stl_45 stl_08 stl_12" style="word-spacing:-0.038em;">）增加“指定集合大 &nbsp;</span></div>
					<div class="stl_01" style="top:37.1956em; left:17.8833em;"><span class="stl_45 stl_08 stl_15">小”的详细说明以及正反例。</span><span class="stl_46 stl_08 stl_15">5</span><span class="stl_45 stl_08 stl_15">）增加卫语句的示例代码。</span><span class="stl_46 stl_08 stl_15">6</span><span class="stl_45 stl_08 stl_15">）明确数据库表示删除概 &nbsp;</span></div>
					<div class="stl_01" style="top:38.9689em; left:17.8833em;"><span class="stl_45 stl_08 stl_138" style="word-spacing:-0.0395em;">念的字段名为 </span><span class="stl_46 stl_08 stl_138" style="word-spacing:-0.0395em;">is_deleted &nbsp;</span></div>
					<div class="stl_01" style="top:36.3206em; left:4.7729em;"><span class="stl_46 stl_08 stl_116">1.2.0 &nbsp;</span></div>
					<div class="stl_01" style="top:36.3206em; left:9.2333em;"><span class="stl_223 stl_08 stl_09">完美版 &nbsp;</span></div>
					<div class="stl_01" style="top:36.3206em; left:12.9233em;"><span class="stl_48 stl_08 stl_26">2017.05.20 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5523em; left:4.7729em;"><span class="stl_46 stl_08 stl_116">1.3.0 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1564em; left:4.7729em;"><span class="stl_46 stl_08 stl_116">1.3.1 &nbsp;</span></div>
					<div class="stl_01" style="top:46.7623em; left:4.7729em;"><span class="stl_46 stl_08 stl_116">1.4.0 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5523em; left:9.2333em;"><span class="stl_223 stl_08 stl_09">终极版 &nbsp;</span></div>
					<div class="stl_01" style="top:44.1564em; left:9.2333em;"><span class="stl_223 stl_08 stl_09">纪念版 &nbsp;</span></div>
					<div class="stl_01" style="top:46.7623em; left:9.2333em;"><span class="stl_223 stl_08 stl_09">详尽版 &nbsp;</span></div>
					<div class="stl_01" style="top:41.5523em; left:12.9233em;"><span class="stl_48 stl_08 stl_15" style="word-spacing:1.1461em;">2017.09.25 </span><span class="stl_45 stl_08 stl_15" style="word-spacing:1.1461em;">增加单元测试规约，阿里开源的</span><span class="stl_46 stl_08 stl_15" style="word-spacing:-0.0439em;"> IDE</span><span class="stl_45 stl_08 stl_15" style="word-spacing:-0.0398em;"> 代码规约检测</span><a href="https://github.com/alibaba/p3c" target="_blank"><span class="stl_45 stl_08 stl_15" style="word-spacing:-0.0398em;">插件：</span></a><a href="https://github.com/alibaba/p3c" target="_blank"><span class="stl_165 stl_08 stl_15" style="word-spacing:-0.0398em;">点此下载 &nbsp;</span></a></div>
					<div class="stl_01" style="top:44.1564em; left:12.9233em;"><span class="stl_48 stl_08 stl_24" style="word-spacing:1.1455em;">2017.11.30 </span><span class="stl_45 stl_08 stl_24" style="word-spacing:1.1455em;">修正部分描述；采用和</span><span class="stl_46 stl_08 stl_24" style="word-spacing:-0.0464em;"> P3C</span><span class="stl_45 stl_08 stl_24" style="word-spacing:-0.0482em;"> 开源</span><span class="stl_46 stl_08 stl_24" style="word-spacing:-0.0442em;"> IDE</span><span class="stl_45 stl_08 stl_24" style="word-spacing:-0.0401em;"> 检测插件相同的</span><span class="stl_46 stl_08 stl_24" style="word-spacing:-0.0464em;"> Apache2.0</span><span class="stl_45 stl_08 stl_24" style="word-spacing:-0.0466em;"> 协议。 &nbsp;</span></div>
					<div class="stl_01" style="top:46.7623em; left:12.9233em;"><span class="stl_48 stl_08 stl_26" style="word-spacing:1.1468em;">2018.05.20 </span><span class="stl_45 stl_08 stl_26" style="word-spacing:1.1468em;">增加设计规约大类，共</span><span class="stl_46 stl_08 stl_26" style="word-spacing:-0.0421em;"> 16</span><span class="stl_45 stl_08 stl_26" style="word-spacing:-0.0485em;"> 条。 &nbsp;</span></div>
					<div class="stl_01" style="top:49.3456em; left:17.8833em;"><span class="stl_46 stl_08 stl_09">1</span></div>
					<div class="stl_01" style="top:49.3456em; left:18.3208em;"><span class="stl_45 stl_08 stl_12" style="word-spacing:-0.0382em;">）鉴于本手册是社区开发者集体智慧的结晶，本版本移除阿里巴巴 </span><span class="stl_46 stl_08 stl_12" style="word-spacing:-0.0382em;">Java </span><span class="stl_45 stl_08 stl_12" style="word-spacing:-0.0382em;">开发手册的 &nbsp;</span></div>
					<div class="stl_01" style="top:51.1164em; left:17.8833em;"><span class="stl_45 stl_08 stl_09">限定词“阿里巴巴”。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.8689em; left:18.3208em;"><span class="stl_45 stl_08 stl_39" style="word-spacing:-0.0384em;">）新增 </span><span class="stl_224 stl_08 stl_39" style="font-weight:bold; word-spacing:-0.0384em;">21 </span><span class="stl_225 stl_08 stl_39" style="font-weight:bold; word-spacing:-0.0384em;">条</span><span class="stl_45 stl_08 stl_39" style="word-spacing:-0.0384em;">新规约。比如，</span><span class="stl_46 stl_08 stl_39" style="word-spacing:-0.0384em;">switch </span><span class="stl_45 stl_08 stl_39" style="word-spacing:-0.0384em;">的 </span><span class="stl_46 stl_08 stl_39" style="word-spacing:-0.0384em;">NPE </span><span class="stl_45 stl_08 stl_39" style="word-spacing:-0.0384em;">问题、浮点数的比较、无泛型限制、锁 &nbsp;</span></div>
					<div class="stl_01" style="top:54.6398em; left:12.9233em;"><span class="stl_48 stl_08 stl_12" style="word-spacing:1.1479em;">2019.06.19 </span><span class="stl_45 stl_08 stl_12" style="word-spacing:1.1479em;">的使用方式、判断表达式、日期格式等。 &nbsp;</span></div>
					<div class="stl_01" style="top:52.8689em; left:17.8833em;"><span class="stl_46 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:54.6398em; left:4.7729em;"><span class="stl_46 stl_08 stl_47">1.5.0 &nbsp;</span></div>
					<div class="stl_01" style="top:54.6398em; left:9.2333em;"><span class="stl_167 stl_08 stl_09">华山版 &nbsp;</span></div>
					<div class="stl_01" style="top:56.4106em; left:17.8833em;"><span class="stl_46 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:56.4106em; left:18.3208em;"><span class="stl_45 stl_08 stl_60" style="word-spacing:-0.0406em;">）修改描述 </span><span class="stl_224 stl_08 stl_60" style="font-weight:bold; word-spacing:-0.0406em;">112 </span><span class="stl_225 stl_08 stl_60" style="font-weight:bold; word-spacing:-0.0406em;">处</span><span class="stl_45 stl_08 stl_60" style="word-spacing:-0.0406em;">。比如，</span><span class="stl_46 stl_08 stl_60" style="word-spacing:-0.0406em;">IFNULL </span><span class="stl_45 stl_08 stl_60" style="word-spacing:-0.0406em;">的判断、集合的 </span><span class="stl_46 stl_08 stl_60" style="word-spacing:-0.0406em;">toArray</span><span class="stl_45 stl_08 stl_60" style="word-spacing:-0.0406em;">、日志处理等。 &nbsp;</span></div>
					<div class="stl_01" style="top:58.1606em; left:18.3208em;"><span class="stl_45 stl_08 stl_13" style="word-spacing:-0.0418em;">）完善若干处示例。比如，命名示例、卫语句示例、</span><span class="stl_46 stl_08 stl_13" style="word-spacing:-0.0418em;">enum </span><span class="stl_45 stl_08 stl_13" style="word-spacing:-0.0418em;">示例、</span><span class="stl_46 stl_08 stl_13" style="word-spacing:-0.0418em;">finally </span><span class="stl_45 stl_08 stl_13" style="word-spacing:-0.0418em;">的 </span><span class="stl_46 stl_08 stl_13" style="word-spacing:-0.0418em;">return &nbsp;</span></div>
					<div class="stl_01" style="top:58.1606em; left:17.8833em;"><span class="stl_46 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:59.9331em; left:17.8833em;"><span class="stl_45 stl_08 stl_09">示例等。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">4</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">3/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_50.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_50.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:3.7375em; left:3.5438em;"><span class="stl_220 stl_08 stl_110" style="word-spacing:-0.049em;">附 </span><span class="stl_221 stl_08 stl_110" style="word-spacing:-0.049em;">2</span><span class="stl_220 stl_08 stl_110" style="word-spacing:-0.049em;">：专有名词解释 &nbsp;</span></div>
					<div class="stl_01" style="top:7.4652em; left:5.0438em;"><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3804em;">1. </span><span class="stl_11 stl_08 stl_26" style="word-spacing:0.3804em;">POJO</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.3804em;">（</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.4348em;">Plain</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0077em;"> Ordinary</span><span class="stl_38 stl_08 stl_26" style="word-spacing:-0.0157em;"> Java</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.0068em;"> Object</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.006em;">）</span><span class="stl_27 stl_08 stl_26" style="word-spacing:0.006em;">:</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.2163em;"> 在本手册中，</span><span class="stl_27 stl_08 stl_26" style="word-spacing:0.2163em;">POJO</span><span class="stl_23 stl_08 stl_26" style="word-spacing:-0.0505em;"> 专指只有</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.043em;"> setter</span><span class="stl_27 stl_08 stl_26" style="word-spacing:0.0097em;"> /</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.002em;"> getter</span><span class="stl_27 stl_08 stl_26" style="word-spacing:-0.002em;"> / &nbsp;</span></div>
					<div class="stl_01" style="top:9.2361em; left:6.5438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0396em;">toString </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0396em;">的简单类，包括 </span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0396em;">DO/DTO/BO/VO </span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0396em;">等。 &nbsp;</span></div>
					<div class="stl_01" style="top:11.3211em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">2</span></div>
					<div class="stl_01" style="top:13.3836em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">3</span></div>
					<div class="stl_01" style="top:15.4669em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">4</span></div>
					<div class="stl_01" style="top:11.3211em; left:5.6271em;"><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3792em;">. </span><span class="stl_11 stl_08 stl_13" style="word-spacing:0.3792em;">GAV</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3792em;">（</span><span class="stl_38 stl_08 stl_37" style="word-spacing:0.4333em;">GroupId</span><span class="stl_57 stl_08 stl_37" style="word-spacing:0.4333em;">、</span><span class="stl_38 stl_08 stl_37" style="word-spacing:0.4333em;">ArtifactctId</span><span class="stl_57 stl_08 stl_37" style="word-spacing:0.4333em;">、</span><span class="stl_38 stl_08 stl_37" style="word-spacing:0.4333em;">Version</span><span class="stl_23 stl_08 stl_13" style="word-spacing:0.3792em;">）</span><span class="stl_27 stl_08 stl_13" style="word-spacing:0.3792em;">:</span><span class="stl_27 stl_08 stl_13" style="word-spacing:-0.053em;"> Maven </span><span class="stl_23 stl_08 stl_13" style="word-spacing:-0.053em;">坐标，是用来唯一标识</span><span class="stl_27 stl_08 stl_13" style="word-spacing:-0.0426em;"> jar</span><span class="stl_23 stl_08 stl_13" style="word-spacing:-0.0523em;"> 包。 &nbsp;</span></div>
					<div class="stl_01" style="top:13.3836em; left:5.6271em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">. </span><span class="stl_11 stl_08 stl_09" style="word-spacing:0.3801em;">OOP</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">（</span><span class="stl_38 stl_08 stl_12" style="word-spacing:0.4345em;">Object</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0033em;"> Oriented</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0064em;"> Programming</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0056em;">）</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0056em;">:</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.2135em;"> 本手册泛指类、对象的编程处理方式。 &nbsp;</span></div>
					<div class="stl_01" style="top:15.4669em; left:5.6271em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.3801em;">. </span><span class="stl_11 stl_08 stl_09" style="word-spacing:0.3801em;">ORM</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.3801em;">（</span><span class="stl_38 stl_08 stl_12" style="word-spacing:0.4344em;">Object</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.0034em;"> Relation</span><span class="stl_38 stl_08 stl_12" style="word-spacing:-0.008em;"> Mapping</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.007em;">）</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.007em;">:</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.2135em;"> 对象关系映射，对象领域模型与底层数据之间的转换， &nbsp;</span></div>
					<div class="stl_01" style="top:17.2194em; left:6.5438em;"><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0283em;">本文泛指 </span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0283em;">iBATIS, mybatis </span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0283em;">等框架。 &nbsp;</span></div>
					<div class="stl_01" style="top:19.3027em; left:5.0438em;"><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3805em;">5. </span><span class="stl_11 stl_08 stl_26" style="word-spacing:0.3805em;">NPE</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.3805em;">（</span><span class="stl_38 stl_08 stl_26" style="word-spacing:0.4348em;">java.lang.NullPointerException</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.3805em;">）</span><span class="stl_27 stl_08 stl_26" style="word-spacing:0.3805em;">:</span><span class="stl_23 stl_08 stl_26" style="word-spacing:0.2138em;"> 空指针异常。 &nbsp;</span></div>
					<div class="stl_01" style="top:21.3852em; left:5.0438em;"><span class="stl_27 stl_08 stl_09" style="word-spacing:0.38em;">6. </span><span class="stl_11 stl_08 stl_09" style="word-spacing:0.38em;">SOA</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.38em;">（</span><span class="stl_38 stl_08 stl_09" style="word-spacing:0.4343em;">Service-Oriented</span><span class="stl_38 stl_08 stl_09" style="word-spacing:-0.0066em;"> Architecture</span><span class="stl_23 stl_08 stl_09" style="word-spacing:-0.0057em;">）</span><span class="stl_27 stl_08 stl_09" style="word-spacing:-0.0057em;">:</span><span class="stl_23 stl_08 stl_09" style="word-spacing:0.2134em;"> 面向服务架构，它可以根据需求通过网络对松散耦合 &nbsp;</span></div>
					<div class="stl_01" style="top:23.1361em; left:6.5438em;"><span class="stl_23 stl_08 stl_13">的粗粒度应用组件进行分布式部署、组合和使用，有利于提升组件可重用性，可维护性。 &nbsp;</span></div>
					<div class="stl_01" style="top:25.2211em; left:5.0438em;"><span class="stl_27 stl_08 stl_09">7</span></div>
					<div class="stl_01" style="top:25.2211em; left:5.6271em;"><span class="stl_27 stl_08 stl_15" style="word-spacing:0.3798em;">. </span><span class="stl_11 stl_08 stl_15" style="word-spacing:0.3798em;">IDE</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.3798em;">（</span><span class="stl_38 stl_08 stl_24" style="word-spacing:0.434em;">Integrated</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0069em;"> Development</span><span class="stl_38 stl_08 stl_24" style="word-spacing:-0.0028em;"> Environment</span><span class="stl_23 stl_08 stl_15" style="word-spacing:-0.0024em;">）</span><span class="stl_27 stl_08 stl_15" style="word-spacing:-0.0024em;">:</span><span class="stl_23 stl_08 stl_15" style="word-spacing:0.2131em;"> 用于提供程序开发环境的应用程序，一般包括 &nbsp;</span></div>
					<div class="stl_01" style="top:26.9711em; left:6.5438em;"><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0295em;">代码编辑器、编译器、调试器和图形用户界面等工具，本《手册》泛指 </span><span class="stl_27 stl_08 stl_102" style="word-spacing:-0.0295em;">IntelliJ IDEA </span><span class="stl_23 stl_08 stl_102" style="word-spacing:-0.0295em;">和 &nbsp;</span></div>
					<div class="stl_01" style="top:28.7419em; left:6.5438em;"><span class="stl_27 stl_08 stl_13">eclipse</span><span class="stl_23 stl_08 stl_13">。 &nbsp;</span></div>
					<div class="stl_01" style="top:30.8269em; left:5.0438em;"><span class="stl_11 stl_08 stl_64" style="word-spacing:0.3809em;">8. OOM</span><span class="stl_23 stl_08 stl_64" style="word-spacing:0.3809em;">（</span><span class="stl_38 stl_08 stl_49" style="word-spacing:0.4353em;">Out</span><span class="stl_38 stl_08 stl_49" style="word-spacing:-0.0015em;"> Of</span><span class="stl_38 stl_08 stl_49" style="word-spacing:0.0004em;"> Memory</span><span class="stl_23 stl_08 stl_64" style="word-spacing:0.0003em;">）</span><span class="stl_27 stl_08 stl_64" style="word-spacing:0.0003em;">:</span><span class="stl_23 stl_08 stl_64" style="word-spacing:0.2142em;"> 源于</span><span class="stl_27 stl_08 stl_64" style="word-spacing:-0.0451em;"> java.lang.OutOfMemoryError</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0451em;">，当</span><span class="stl_27 stl_08 stl_64" style="word-spacing:-0.0443em;"> JVM</span><span class="stl_23 stl_08 stl_64" style="word-spacing:-0.0408em;"> 没有足够的内存来 &nbsp;</span></div>
					<div class="stl_01" style="top:32.5769em; left:6.5438em;"><span class="stl_23 stl_08 stl_37">为对象分配空间并且垃圾回收器也无法回收空间时，系统出现的严重状况。 &nbsp;</span></div>
					<div class="stl_01" style="top:34.6602em; left:5.0438em;"><span class="stl_27 stl_08 stl_90" style="word-spacing:0.3784em;">9. </span><span class="stl_23 stl_08 stl_90" style="word-spacing:0.3784em;">一方库：本工程内部子项目模块依赖的库（</span><span class="stl_27 stl_08 stl_90" style="word-spacing:0.3784em;">jar</span><span class="stl_23 stl_08 stl_90" style="word-spacing:-0.053em;"> 包）。 &nbsp;</span></div>
					<div class="stl_01" style="top:36.7227em; left:5.0438em;"><span class="stl_27 stl_08 stl_135" style="word-spacing:-0.0574em;">10.</span><span class="stl_23 stl_08 stl_135" style="word-spacing:-0.0574em;">二方库：公司内部发布到中央仓库，可供公司内部其它应用依赖的库（</span><span class="stl_27 stl_08 stl_135" style="word-spacing:-0.0574em;">jar </span><span class="stl_23 stl_08 stl_135" style="word-spacing:-0.0574em;">包）。 &nbsp;</span></div>
					<div class="stl_01" style="top:38.8086em; left:5.0229em;"><span class="stl_27 stl_08 stl_201" style="word-spacing:-0.0621em;">11.</span><span class="stl_23 stl_08 stl_201" style="word-spacing:-0.0621em;">三方库：公司之外的开源库（</span><span class="stl_27 stl_08 stl_201" style="word-spacing:-0.0621em;">jar </span><span class="stl_23 stl_08 stl_201" style="word-spacing:-0.0621em;">包）。 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">4</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">4/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
		<div class="stl_02">
			<div class="stl_03">
				<object data="080809293635_files/img_52.svg" type="image/svg+xml" class="stl_04" style="position:absolute; width:49.5833em; height:70.1667em;">
					<embed src="080809293635_files/img_52.svg" type="image/svg+xml" class="stl_04" />
				</object>
			</div>
			<div class="view">
				<div class="stl_05 stl_06">
					<div class="stl_01" style="top:1.4734em; left:23.1358em;"><span class="stl_40 stl_41 stl_42" style="visibility:hidden; word-spacing:0.0026em;">Java </span><span class="stl_43 stl_44 stl_42" style="visibility:hidden; word-spacing:0.0026em;">开发手册 &nbsp;</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.4975em;"><span class="stl_75 stl_76 stl_09">4</span></div>
					<div class="stl_01" style="top:68.6442em; left:45.8725em;"><span class="stl_75 stl_76 stl_12">5/44 &nbsp;</span></div>
				</div>
			</div>
		</div>
	</body>
</html>